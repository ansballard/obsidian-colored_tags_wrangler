/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// src/plugin/ColoredTagWranglerPlugin.ts
var ColoredTagWranglerPlugin_exports = {};
__export(ColoredTagWranglerPlugin_exports, {
  default: () => ColoredTagWranglerPlugin
});
module.exports = __toCommonJS(ColoredTagWranglerPlugin_exports);
var import_obsidian13 = require("obsidian");

// src/plugin/ui/setting_tab/SettingTab.ts
var import_obsidian12 = require("obsidian");

// src/plugin/ui/setting_tab/components/tag_table/SettingTagTable.ts
var import_obsidian10 = require("obsidian");

// src/plugin/ui/setting_tab/components/tag_table/SettingTagRecordTextAreaComponent.ts
var import_obsidian8 = require("obsidian");

// src/plugin/services/settings/SettingsService.ts
var import_obsidian2 = require("obsidian");

// node_modules/uuid/dist/esm-browser/rng.js
var getRandomValues;
var rnds8 = new Uint8Array(16);
function rng() {
  if (!getRandomValues) {
    getRandomValues = typeof crypto !== "undefined" && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);
    if (!getRandomValues) {
      throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");
    }
  }
  return getRandomValues(rnds8);
}

// node_modules/uuid/dist/esm-browser/stringify.js
var byteToHex = [];
for (let i = 0; i < 256; ++i) {
  byteToHex.push((i + 256).toString(16).slice(1));
}
function unsafeStringify(arr, offset = 0) {
  return byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + "-" + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + "-" + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + "-" + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + "-" + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]];
}

// node_modules/uuid/dist/esm-browser/native.js
var randomUUID = typeof crypto !== "undefined" && crypto.randomUUID && crypto.randomUUID.bind(crypto);
var native_default = {
  randomUUID
};

// node_modules/uuid/dist/esm-browser/v4.js
function v4(options, buf, offset) {
  if (native_default.randomUUID && !buf && !options) {
    return native_default.randomUUID();
  }
  options = options || {};
  const rnds = options.random || (options.rng || rng)();
  rnds[6] = rnds[6] & 15 | 64;
  rnds[8] = rnds[8] & 63 | 128;
  if (buf) {
    offset = offset || 0;
    for (let i = 0; i < 16; ++i) {
      buf[offset + i] = rnds[i];
    }
    return buf;
  }
  return unsafeStringify(rnds);
}
var v4_default = v4;

// src/plugin/services/migrator/migrations/migrate_00_to_01.ts
async function migrate_00_to_01(loaded_data) {
  let original_colored_tags = loaded_data.TagColors.ColorPicker;
  let transformedColoredTags = {};
  for (const key of Object.keys(original_colored_tags)) {
    const originalData = original_colored_tags[key];
    transformedColoredTags[v4_default()] = {
      tag_name: key,
      // You can set the 'tag_name' as the key
      color: originalData
    };
  }
  let transformed_data = loaded_data;
  transformed_data.TagColors.ColorPicker = transformedColoredTags;
  transformed_data.Info.SettingsVersion = 1;
  return transformed_data;
}

// src/plugin/services/migrator/migrations/migrate_01_to_02.ts
async function migrate_01_to_02(loaded_data) {
  let original_semantic_tags = loaded_data.TagColors.SemanticObsidianColors;
  let transformed_semantic_tags = {};
  for (const key of Object.keys(original_semantic_tags)) {
    const originalData = original_semantic_tags[key];
    transformed_semantic_tags[v4_default()] = {
      tag_name: key,
      // You can set the 'tag_name' as the key
      obsidian_css_var: originalData
    };
  }
  let original_css_var_tags = loaded_data.TagColors.CssVars;
  let transformed_css_var_tags = {};
  for (const key of Object.keys(original_css_var_tags)) {
    const originalData = original_css_var_tags[key];
    transformed_css_var_tags[v4_default()] = {
      tag_name: key,
      // You can set the 'tag_name' as the key
      color: originalData.color,
      background: originalData.background
    };
  }
  let transformed_data = loaded_data;
  transformed_data.TagColors.SemanticObsidianColors = transformed_semantic_tags;
  transformed_data.TagColors.CssVars = transformed_css_var_tags;
  transformed_data.Info.SettingsVersion = 2;
  return transformed_data;
}

// src/plugin/services/migrator/migrations/migrate_02_to_03.ts
async function migrate_02_to_03(loaded_data) {
  let transformed_data = loaded_data;
  transformed_data.Info.SettingsVersion = 3;
  return transformed_data;
}

// src/plugin/services/migrator/migrations/migrate_03_to_04.ts
async function migrate_03_to_04(loaded_data) {
  let transformed_data = loaded_data;
  transformed_data.TagColors = {
    ColorPicker: loaded_data.TagColors.ColorPicker,
    EnableMultipleTags: loaded_data.TagColors.EnableMultipleTags,
    Values: loaded_data.TagColors.Values
  };
  transformed_data.FolderNote.Values = {
    ForceImportant: true,
    BorderRadius: "12px",
    Padding: "5px"
  };
  transformed_data.Info.SettingsVersion = 4;
  return transformed_data;
}

// src/plugin/services/migrator/migrations/migrate_04_to_05.ts
async function migrate_04_to_05(loaded_data) {
  let transformed_data = loaded_data;
  for (const tagUUID of Object.keys(loaded_data.TagColors.ColorPicker)) {
    transformed_data.TagColors.ColorPicker[tagUUID] = {
      tag_name: loaded_data.TagColors.ColorPicker[tagUUID].tag_name,
      color: loaded_data.TagColors.ColorPicker[tagUUID].color,
      background_color: loaded_data.TagColors.ColorPicker[tagUUID].color,
      background_opacity: 0.2
    };
  }
  transformed_data.Info.SettingsVersion = 5;
  return transformed_data;
}

// src/plugin/services/migrator/migrations/migrate_05_to_06.ts
async function migrate_05_to_06(loaded_data) {
  let transformed_data = loaded_data;
  transformed_data.Kanban.HideHashtags = loaded_data.Kanban.Enable;
  transformed_data.Info.SettingsVersion = 6;
  return transformed_data;
}

// .old/api/ColorConverters.ts
function rgbToHsl(rgb) {
  const r = rgb.r / 255;
  const g = rgb.g / 255;
  const b = rgb.b / 255;
  const max = Math.max(r, g, b);
  const min = Math.min(r, g, b);
  const l = (max + min) / 2;
  let h = 0;
  let s = 0;
  if (max !== min) {
    s = l > 0.5 ? (max - min) / (2 - max - min) : (max - min) / (max + min);
    if (max === r) {
      h = (60 * ((g - b) / (max - min)) + 360) % 360;
    } else if (max === g) {
      h = 60 * ((b - r) / (max - min)) + 120;
    } else {
      h = 60 * ((r - g) / (max - min)) + 240;
    }
  }
  return { h, s, l };
}
function hslToRgb(hsl) {
  const { h, s, l } = hsl;
  const normalizedHue = (h % 360 + 360) % 360;
  const normalizedSaturation = Math.max(0, Math.min(1, s));
  const normalizedLightness = Math.max(0, Math.min(1, l));
  const chroma = (1 - Math.abs(2 * normalizedLightness - 1)) * normalizedSaturation;
  const x = chroma * (1 - Math.abs(normalizedHue / 60 % 2 - 1));
  const m = normalizedLightness - chroma / 2;
  let r = 0, g = 0, b = 0;
  if (normalizedHue >= 0 && normalizedHue < 60) {
    r = chroma;
    g = x;
  } else if (normalizedHue >= 60 && normalizedHue < 120) {
    r = x;
    g = chroma;
  } else if (normalizedHue >= 120 && normalizedHue < 180) {
    g = chroma;
    b = x;
  } else if (normalizedHue >= 180 && normalizedHue < 240) {
    g = x;
    b = chroma;
  } else if (normalizedHue >= 240 && normalizedHue < 300) {
    r = x;
    b = chroma;
  } else {
    r = chroma;
    b = x;
  }
  r = Math.round((r + m) * 255);
  g = Math.round((g + m) * 255);
  b = Math.round((b + m) * 255);
  return { r, g, b };
}

// src/plugin/services/migrator/migrations/migrate_06_to_07.ts
async function migrate_06_to_07(loaded_data) {
  let transformed_data = loaded_data;
  transformed_data.TagColors.Values.LuminanceOffset = 0.15;
  transformed_data.TagColors.EnableSeparateLuminanceOffset = false;
  transformed_data.TagColors.EnableDarkLightDifference = true;
  transformed_data.TagColors.EnableBackgroundOpacity = false;
  transformed_data.TagColors.Values.BackgroundOpacity = 0.2;
  for (const tagUUID of Object.keys(loaded_data.TagColors.ColorPicker)) {
    let old_record = loaded_data.TagColors.ColorPicker[tagUUID];
    transformed_data.TagColors.ColorPicker[tagUUID] = {
      tag_name: old_record.tag_name,
      color: old_record.color,
      background_color: checkColor(old_record.background_color, old_record.color) ? callback_fix_background(old_record.background_color, transformed_data.TagColors.Values.LuminanceOffset) : old_record.background_color,
      luminance_offset: transformed_data.TagColors.Values.LuminanceOffset
    };
  }
  transformed_data.Info.SettingsVersion = 7;
  return transformed_data;
}
function checkColor(color, background) {
  return color.r === background.r && color.g === background.g && color.b === background.b;
}
function callback_fix_background(background, luminance_offset) {
  let background_hsl = rgbToHsl(background);
  background_hsl.l -= luminance_offset;
  return hslToRgb(background_hsl);
}

// src/plugin/services/migrator/migrations/migrate_07_to_08.ts
async function migrate_07_to_08(loaded_data) {
  let transformed_data = loaded_data;
  transformed_data.FolderNote.EnableAutoDetect = true;
  transformed_data.Info.SettingsVersion = 8;
  return transformed_data;
}

// src/plugin/services/migrator/migrations/migrate_08_to_09.ts
async function migrate_08_to_09(loaded_data) {
  let transformed_data = loaded_data;
  transformed_data.CSS = {
    Enable: false,
    TagsNoWrap: false,
    TagsNoWrapText: "pre"
  };
  transformed_data.Info.SettingsVersion = 9;
  return transformed_data;
}

// src/plugin/services/migrator/migrations/migrate_09_to_10.ts
async function migrate_09_to_10(loaded_data) {
  const temp_data = loaded_data;
  delete temp_data.CSS.Enable;
  let transformed_data = temp_data;
  transformed_data.CSS.NoteTags = true;
  transformed_data.CSS.NoteBackgrounds = false;
  transformed_data.CSS.NoteProperties = true;
  transformed_data.Info.SettingsVersion = 10;
  return transformed_data;
}

// src/plugin/services/migrator/migrations/migrate_10_to_11.ts
async function migrate_10_to_11(loaded_data) {
  let transformed_data = loaded_data;
  transformed_data.TagColors.ColorPicker = Object.values(loaded_data.TagColors.ColorPicker);
  transformed_data.Debug.EnableExperimentalCommands = false;
  transformed_data.Info.SettingsVersion = 11;
  return transformed_data;
}

// src/plugin/services/migrator/migrations/migrate_11_to_12.ts
async function migrate_11_to_12(loaded_data) {
  let transformed_data = loaded_data;
  transformed_data.FolderNote.FolderTagLinks = Object.values(loaded_data.FolderNote.FolderTagLinks);
  transformed_data.Info.SettingsVersion = 12;
  return transformed_data;
}

// src/plugin/services/migrator/migrations/migrate_12_to_13.ts
async function migrate_12_to_13(loaded_data) {
  let transformed_data = loaded_data;
  transformed_data.FolderNote.EnableBackgroundOpacity = loaded_data.TagColors.EnableBackgroundOpacity;
  transformed_data.FolderNote.Values.BackgroundOpacity = loaded_data.TagColors.Values.BackgroundOpacity;
  transformed_data.Kanban.EnableBackgroundOpacity = loaded_data.TagColors.EnableBackgroundOpacity;
  transformed_data.Kanban.Values.BackgroundOpacity = loaded_data.TagColors.Values.BackgroundOpacity;
  transformed_data.Canvas.EnableBackgroundOpacity = loaded_data.TagColors.EnableBackgroundOpacity;
  transformed_data.Canvas.Values.BackgroundOpacity = loaded_data.TagColors.Values.BackgroundOpacity;
  transformed_data.Info.SettingsVersion = 13;
  return transformed_data;
}

// src/plugin/services/migrator/migrations/migrate_13_to_14.ts
async function migrate_13_to_14(loaded_data) {
  let transformed_data = loaded_data;
  transformed_data.Info.SettingsVersion = 14;
  return transformed_data;
}

// src/plugin/services/migrator/migrations/migrate_14_to_15.ts
async function migrate_14_to_15(loaded_data) {
  let new_data = Object.assign({}, defaultSettings);
  new_data.TagColors = loaded_data.TagColors.ColorPicker.map(
    (old_tag) => {
      const newTagColor = ServiceProvider.tagRecords.getDefaultRecord();
      newTagColor.core_tagText = old_tag.tag_name;
      newTagColor.core_color_foreground = { ...old_tag.color };
      newTagColor.core_color_background = { ...old_tag.background_color };
      if (loaded_data.TagColors.EnableBackgroundOpacity) {
        newTagColor.css_styling_opacity = loaded_data.TagColors.Values.BackgroundOpacity;
      }
      if (loaded_data.Canvas.Enable) {
        newTagColor.canvas_card_enable_background = true;
        newTagColor.canvas_card_enable_border = true;
        newTagColor.canvas_card_background_opacity = loaded_data.Canvas.Values.BackgroundOpacity;
      }
      return newTagColor;
    }
  );
  new_data.Info.SettingsVersion = 15;
  return new_data;
}

// src/plugin/services/migrator/MigratorService.ts
var import_obsidian = require("obsidian");
var _MigratorService = class {
  // -----------------------------------------------------------------------------------------------------------------
  // Constructors
  // -----------------------------------------------------------------------------------------------------------------
  constructor(plugin) {
    this.plugin = plugin;
  }
  // -----------------------------------------------------------------------------------------------------------------
  // Methods
  // -----------------------------------------------------------------------------------------------------------------
  async migrateData(data) {
    var _a, _b;
    if (data === null) {
      return null;
    }
    let version = (_b = (_a = data == null ? void 0 : data.Info) == null ? void 0 : _a.SettingsVersion) != null ? _b : -1;
    if (version === -1 || version <= 14) {
      await this.plugin.app.vault.adapter.copy(
        `${this.plugin.manifest.dir}/data.json`,
        `${this.plugin.manifest.dir}/data_backup-${Date.now().toString()}.json`
      );
    }
    if (version === -1) {
      console.warn("Version could not be established, assigning as is. Created a data_backup.json file.");
      new import_obsidian.Notice("ColoredTagsWrangler : <br>Version could not be read from data.json. Backup created as data_backup.json file.");
      return data;
    }
    if (version <= 14) {
      new import_obsidian.Notice("ColoredTagsWrangler : <br>data.json was made for a lower version, upgrading it to the newest version. Backup created as data_backup.json file.");
    }
    let migratedData = data;
    for (version; version < _MigratorService.MIGRATION_STEPS.length; version++) {
      migratedData = await _MigratorService.MIGRATION_STEPS[version](migratedData);
      console.log(`Migrated data.json from ColoredTagsWrangler to version ${migratedData.Info.SettingsVersion}`);
    }
    return migratedData;
  }
};
var MigratorService = _MigratorService;
MigratorService.MIGRATION_STEPS = [
  // Using any's isn't perfect but will do for now
  // Add more lambdas in order.
  //      Btw this only works because I am dumb enough to start from 0,
  //      that way I don't need to do any other steps in the for loop
  async (data) => await migrate_00_to_01(data),
  // 0
  async (data) => await migrate_01_to_02(data),
  // 1
  async (data) => await migrate_02_to_03(data),
  // 2
  async (data) => await migrate_03_to_04(data),
  // 3
  async (data) => await migrate_04_to_05(data),
  // 4
  async (data) => await migrate_05_to_06(data),
  // 5
  async (data) => await migrate_06_to_07(data),
  // 6
  async (data) => await migrate_07_to_08(data),
  // 7
  async (data) => await migrate_08_to_09(data),
  // 8
  async (data) => await migrate_09_to_10(data),
  // 9
  async (data) => await migrate_10_to_11(data),
  // 10
  async (data) => await migrate_11_to_12(data),
  // 11
  async (data) => await migrate_12_to_13(data),
  // 12
  async (data) => await migrate_13_to_14(data),
  // 13
  async (data) => await migrate_14_to_15(data)
  // 14
];
// I have become too lazy to keep track of which version we are on.
MigratorService.CURRENT_VERSION = _MigratorService.MIGRATION_STEPS.length + 1;

// src/plugin/services/settings/DefaultSettings.ts
var defaultSettingsInfo = {
  SettingsVersion: MigratorService.CURRENT_VERSION
  // just add a migration and we are up to a new version number.
};
var defaultSettings = {
  TagColors: [],
  EnabledExtensions: ["core"],
  Info: defaultSettingsInfo
};

// src/plugin/services/settings/SettingsService.ts
var SettingsService = class {
  // -----------------------------------------------------------------------------------------------------------------
  // Constructors
  // -----------------------------------------------------------------------------------------------------------------
  constructor(plugin, migrator) {
    this._plugin = plugin;
    this._migrator = migrator;
    this.debounceSaveToFile = (0, import_obsidian2.debounce)(this.saveToFile, 100);
  }
  // -----------------------------------------------------------------------------------------------------------------
  // Methods
  // -----------------------------------------------------------------------------------------------------------------
  async loadFromFile() {
    const tempData = await this._plugin.loadData();
    this.data = Object.assign(
      {},
      defaultSettings,
      await this._migrator.migrateData(tempData)
    );
    this.debounceSaveToFile();
  }
  async saveToFile() {
    await this._plugin.saveData(this.data);
  }
};

// src/lib/RegexUtils.ts
var reSLASH = /\//g;
var reSplit = /[\n;]/;

// src/plugin/services/tag_records/TagRecordsService.ts
var TagRecordsService = class {
  // -----------------------------------------------------------------------------------------------------------------
  // Constructors
  // -----------------------------------------------------------------------------------------------------------------
  constructor(settings, extensions) {
    this._flatCache = null;
    this._settings = settings;
    this._extensions = extensions;
  }
  get _tagRecords() {
    return this._settings.data.TagColors;
  }
  // -----------------------------------------------------------------------------------------------------------------
  // Methods
  // -----------------------------------------------------------------------------------------------------------------
  getTagsFlat(remove_slash = true) {
    var _a;
    return (_a = this._flatCache) != null ? _a : this._flatCache = this._tagRecords.flatMap((record) => {
      return record.core_tagText.split(reSplit).map((tag) => tag.trim().toLowerCase()).filter(Boolean).map((tag) => remove_slash ? tag.replace(reSLASH, "") : tag).map((tag) => ({ ...record, core_tagText: tag }));
    });
  }
  getTags() {
    return this._tagRecords;
  }
  getTagCount() {
    return this._tagRecords.length;
  }
  async addOrUpdateTag(record) {
    const index = this.getTagIndex(record);
    if (index !== -1) {
      this._tagRecords[index] = record;
    } else {
      this._tagRecords.push(record);
    }
    await this._settings.debounceSaveToFile.run();
    this._flatCache = null;
    ServiceProvider.cssStyler.processExtensions();
  }
  async removeTag(record) {
    this._tagRecords.remove(record);
    await this._settings.debounceSaveToFile.run();
    this._flatCache = null;
  }
  getTagIndex(record) {
    return this._tagRecords.findIndex((r) => r.core_id === record.core_id);
  }
  getFirstTag(record) {
    var _a;
    return (_a = record.core_tagText.split(reSplit).first()) != null ? _a : "UNDEFINED";
  }
  getTagPreviewIds(record) {
    return {
      begin: `tag-preview-being-${record.core_id}`,
      end: `tag-preview-end-${record.core_id}`
    };
  }
  getDefaultRecord() {
    return this._extensions.FullList.reduce(
      (acc, cur) => ({ ...acc, ...cur.getDefaultRecord() }),
      {}
    );
  }
  async createNewDefaultTag() {
    const newRecord = this.getDefaultRecord();
    if (this._flatCache === null) {
      this.getTagsFlat();
    }
    const defaultPresent = this._flatCache.filter((record) => record.core_tagText.startsWith(newRecord.core_tagText)).length;
    newRecord.core_tagText += `-${defaultPresent}`;
    await this.addOrUpdateTag(newRecord);
  }
};

// src/plugin/ui/setting_tab/components/tag_table/SettingTagRecordColorComponent.ts
var import_obsidian3 = require("obsidian");

// src/lib/ColorConverters.ts
function hexToRGBA(hex, alpha) {
  hex = hex.replace(/^#/, "");
  if (alpha < 0)
    alpha = 0;
  if (alpha > 1)
    alpha = 1;
  const r = parseInt(hex.substring(0, 2), 16);
  const g = parseInt(hex.substring(2, 4), 16);
  const b = parseInt(hex.substring(4, 6), 16);
  return { r, g, b, a: alpha };
}
function rgbToString(color) {
  return `rgb(${color.r}, ${color.g}, ${color.b})`;
}
function rgbopacityToString(color, opacity) {
  return `rgba(${color.r}, ${color.g}, ${color.b}, ${opacity})`;
}
function rgbaToHex(color) {
  const { r, g, b } = color;
  return "#" + [r, g, b].map((x) => {
    const hex = x.toString(16);
    return hex.length === 1 ? "0" + hex : hex;
  }).join("");
}

// src/plugin/ui/setting_tab/components/tag_table/SettingTagRecordColorComponent.ts
var SettingTagRecordColorComponent = class extends import_obsidian3.ColorComponent {
  constructor(rowData, property_name) {
    super(rowData.parentEl);
    let value = rowData.record[property_name];
    this.setValue(rgbaToHex(value));
    this.onChange(async (newValue) => {
      rowData.record[property_name] = hexToRGBA(newValue, 1);
      await ServiceProvider.tagRecords.addOrUpdateTag(rowData.record);
      await rowData.rowUpdateCallback();
    });
  }
};

// src/plugin/ui/setting_tab/components/tag_table/SettingTagRecordToggleComponent.ts
var import_obsidian4 = require("obsidian");
var SettingTagRecordToggleComponent = class extends import_obsidian4.ToggleComponent {
  constructor(rowData, property_name) {
    super(rowData.parentEl);
    this.setValue(rowData.record[property_name]);
    this.onChange(async (newValue) => {
      rowData.record[property_name] = newValue;
      await ServiceProvider.tagRecords.addOrUpdateTag(rowData.record);
    });
  }
};

// src/plugin/services/css_styler/CssStylerService.ts
var themeSelectorLight = "body.theme-light";
var themeSelectorDark = "body.theme-dark";
var CssStylerService = class {
  // -----------------------------------------------------------------------------------------------------------------
  // Constructors
  // -----------------------------------------------------------------------------------------------------------------
  constructor(extensions) {
    this.extensions = extensions;
    this.styleElement = document.createElement("style");
    this.styleElement.id = "colored-tags-wrangler";
  }
  processExtensions() {
    this.styleElement.innerHTML = "";
    this.styleElement.innerHTML = this.createCSS();
    document.head.appendChild(this.styleElement);
  }
  cleanup() {
    document.head.removeChild(this.styleElement);
  }
  createCSS() {
    let dict = {};
    this.extensions.EnabledList.forEach((e) => {
      const rules = e.cssWrangler.getRules();
      Object.keys(rules).forEach((key) => {
        dict[key] = Object.assign(dict[key] || {}, rules[key]);
      });
    });
    return Object.keys(dict).map(
      (selector) => `${selector} { ${Object.keys(dict[selector]).map((property) => `${property}: ${dict[selector][property]};`).join("")} }`
    ).join("\n");
  }
};

// src/plugin/extensions/core/CoreCssWrangler.ts
var CoreCssWrangler = class {
  // -----------------------------------------------------------------------------------------------------------------
  // Helper Methods
  // -----------------------------------------------------------------------------------------------------------------
  _properties(record) {
    return {
      "color": `${rgbToString(record.core_color_foreground)} !important`,
      "background": `${rgbToString(record.core_color_background)} !important`
    };
  }
  _selectors(theme, record) {
    return [
      `${theme} .tag[href="#${record.core_tagText}" i]`,
      `${theme} .cm-tag-${record.core_tagText}`
    ];
  }
  // -----------------------------------------------------------------------------------------------------------------
  // Methods
  // -----------------------------------------------------------------------------------------------------------------
  getRules() {
    const dict = {};
    ServiceProvider.tagRecords.getTagsFlat(false).filter((record) => record.core_enabled).forEach(
      (record) => {
        this._selectors(themeSelectorLight, record).forEach((rule) => {
          dict[rule] = this._properties(record);
        });
        this._selectors(themeSelectorDark, record).forEach((rule) => {
          dict[rule] = this._properties(record);
        });
      }
    );
    return dict;
  }
};

// src/plugin/extensions/AbstractExtension.ts
var AbstractExtension = class {
  constructor() {
    this.extensionRequirements = [];
  }
  get isEnabled() {
    return ServiceProvider.extensions.EnabledList.contains(this);
  }
  set isEnabled(value) {
    ServiceProvider.extensions.setExtension(this, value);
  }
};

// src/plugin/extensions/core/CoreExtension.ts
var CoreExtension = class extends AbstractExtension {
  constructor() {
    super(...arguments);
    this.cssWrangler = new CoreCssWrangler();
    this.extensionName = "core";
    this.description = "Core functionality of the plugin";
    this.TableContentPopulators = [
      {
        title: "Enable Colors",
        callback: (rowData) => {
          return new SettingTagRecordToggleComponent(
            rowData,
            "core_enabled"
          );
        },
        classes: ["header-wrap-every-word", "border-right-dotted"]
      },
      {
        title: "Text",
        callback: (rowData) => {
          return new SettingTagRecordColorComponent(
            rowData,
            "core_color_foreground"
          );
        },
        classes: []
      },
      {
        title: "Fill",
        callback: (rowData) => {
          return new SettingTagRecordColorComponent(
            rowData,
            "core_color_background"
          );
        },
        classes: []
      }
    ];
  }
  // -----------------------------------------------------------------------------------------------------------------
  // Methods
  // -----------------------------------------------------------------------------------------------------------------
  getDefaultRecord() {
    return {
      core_enabled: true,
      core_id: v4_default(),
      core_tagText: "new-tag",
      core_color_foreground: { r: 255, g: 255, b: 255 },
      core_color_background: { r: 0, g: 0, b: 0 }
    };
  }
};

// src/plugin/extensions/styling/CssStylingCssWrangler.ts
var CssStylingCssWrangler = class {
  // -----------------------------------------------------------------------------------------------------------------
  // Helper Methods
  // -----------------------------------------------------------------------------------------------------------------
  _properties(record) {
    const dict = {};
    if (record.css_styling_bold_enabled) {
      dict["font-weight"] = "bold";
    }
    if (record.css_styling_italic_enabled) {
      dict["font-style"] = "italic";
    }
    if (record.css_styling_font_family !== void 0 && record.css_styling_font_family !== null && record.css_styling_font_family !== "") {
      dict["font-family"] = `${record.css_styling_font_family}`;
    }
    if (record.css_styling_font_size !== void 0 && record.css_styling_font_size !== null && record.css_styling_font_size !== 1) {
      dict["font-size"] = `${record.css_styling_font_size}em`;
    }
    if (record.css_styling_opacity !== void 0 && record.css_styling_opacity !== null && record.css_styling_opacity !== 1) {
      if (record.core_enabled) {
        dict["background-color"] = `${rgbopacityToString(record.core_color_background, record.css_styling_opacity)} !important`;
      } else {
        dict["background-color"] = `hsla(var(--accent-h), var(--accent-s), var(--accent-l), ${record.css_styling_opacity})`;
      }
    }
    return dict;
  }
  _selectors(theme, record) {
    return [
      `${theme} .tag[href="#${record.core_tagText}" i]`,
      `${theme} .cm-tag-${record.core_tagText}`
    ];
  }
  // -----------------------------------------------------------------------------------------------------------------
  // Methods
  // -----------------------------------------------------------------------------------------------------------------
  getRules() {
    const dict = {};
    const defaultRecord = ServiceProvider.extensions.CssStyling.getDefaultRecord();
    ServiceProvider.tagRecords.getTagsFlat(false).filter((record) => {
      return Object.keys(defaultRecord).first((key) => record[key] !== defaultRecord[key]);
    }).forEach(
      (record) => {
        this._selectors(themeSelectorLight, record).forEach((rule) => {
          dict[rule] = this._properties(record);
        });
        this._selectors(themeSelectorDark, record).forEach((rule) => {
          dict[rule] = this._properties(record);
        });
      }
    );
    return dict;
  }
};

// src/plugin/ui/setting_tab/components/tag_table/SettingTagRecordSliderComponent.ts
var import_obsidian5 = require("obsidian");
var SettingTagRecordSliderComponent = class extends import_obsidian5.BaseComponent {
  // -----------------------------------------------------------------------------------------------------------------
  // Constructors
  // -----------------------------------------------------------------------------------------------------------------
  constructor(rowData, property_name, min, max, step, enableReset = false, resetValue = null) {
    var _a;
    super();
    this.boxEl = rowData.parentEl.createDiv({ "cls": "slider-box" });
    if (enableReset) {
      this.buttonEl = new import_obsidian5.ExtraButtonComponent(this.boxEl).setIcon("reset").setTooltip("restore defaults").onClick(async () => {
        var _a2;
        rowData.record[property_name] = resetValue == null ? min : resetValue;
        this.sliderEl.setValue((_a2 = rowData.record[property_name]) != null ? _a2 : min);
        await ServiceProvider.tagRecords.addOrUpdateTag(rowData.record);
      });
    }
    this.sliderEl = new import_obsidian5.SliderComponent(this.boxEl).setLimits(min, max, step).setValue((_a = rowData.record[property_name]) != null ? _a : min).setDynamicTooltip().onChange(async (newValue) => {
      rowData.record[property_name] = newValue;
      await ServiceProvider.tagRecords.addOrUpdateTag(rowData.record);
    });
  }
  // -----------------------------------------------------------------------------------------------------------------
  // Methods
  // -----------------------------------------------------------------------------------------------------------------
  hide() {
    this.buttonEl.extraSettingsEl.hide();
    this.sliderEl.sliderEl.hide();
    this.boxEl.hide();
  }
};

// src/plugin/ui/setting_tab/components/tag_table/SettingTagRecordTextInputComponent.ts
var import_obsidian6 = require("obsidian");
var SettingTagRecordTextInputComponent = class extends import_obsidian6.TextComponent {
  constructor(rowData, property_name) {
    super(rowData.parentEl);
    this.setValue(rowData.record[property_name]);
    this.onChange(async (newValue) => {
      rowData.record[property_name] = newValue;
      await ServiceProvider.tagRecords.addOrUpdateTag(rowData.record);
    });
  }
};

// src/plugin/extensions/styling/CssStylingExtension.ts
var CssStylingExtension = class extends AbstractExtension {
  constructor() {
    super(...arguments);
    this.cssWrangler = new CssStylingCssWrangler();
    this.extensionName = "Styling";
    this.description = "Style your tags even more!";
    this.TableContentPopulators = [
      // {
      // 	title: "Custom CSS styling",
      // 	callback: (rowData) => new SettingTagRecordToggleComponent(rowData, "css_styling_enabled"),
      // 	classes: ["header-wrap-every-word", "border-right-dotted"]
      // },
      {
        title: "Background Opacity",
        callback: (rowData) => new SettingTagRecordSliderComponent(
          rowData,
          "css_styling_opacity",
          0,
          1,
          0.01,
          true,
          1
        ),
        classes: ["header-wrap-every-word"]
      },
      {
        title: "Boldify",
        callback: (rowData) => new SettingTagRecordToggleComponent(rowData, "css_styling_bold_enabled"),
        classes: []
      },
      {
        title: "Italicize",
        callback: (rowData) => new SettingTagRecordToggleComponent(rowData, "css_styling_italic_enabled"),
        classes: []
      },
      {
        title: "Font Family",
        callback: (rowData) => new SettingTagRecordTextInputComponent(rowData, "css_styling_font_family"),
        classes: []
      },
      {
        title: "Font Size",
        callback: (rowData) => new SettingTagRecordSliderComponent(
          rowData,
          "css_styling_font_size",
          0.5,
          2,
          0.05,
          true,
          1
        ),
        classes: []
      }
    ];
  }
  getDefaultRecord() {
    return {
      css_styling_bold_enabled: false,
      css_styling_font_family: "",
      css_styling_font_size: 1,
      css_styling_italic_enabled: false,
      css_styling_opacity: 1
    };
  }
};

// src/plugin/extensions/canvas_card/CanvasCardCssWrangler.ts
var CanvasCardCssWrangler = class {
  // -----------------------------------------------------------------------------------------------------------------
  // Helper Methods
  // -----------------------------------------------------------------------------------------------------------------
  _properties(record) {
    const dict = {};
    if (record.canvas_card_enable_border) {
      dict["border-color"] = `${rgbToString(record.core_color_foreground)} !important`;
    }
    if (record.canvas_card_enable_background) {
      dict["background-color"] = `${rgbopacityToString(record.core_color_background, record.canvas_card_background_opacity)} !important`;
    }
    return dict;
  }
  _selectors(theme, record) {
    return [
      `${theme} div.canvas-node > div.canvas-node-container:has(a.tag)[href="#${record.core_tagText}" i]`,
      `${theme} div.canvas-node:has(div.canvas-node-container:has(a.tag)[href="#${record.core_tagText}" i])`,
      `${theme} div.canvas-node-container:has(div.markdown-embed-content a[href="#${record.core_tagText}" i])`
    ];
  }
  // -----------------------------------------------------------------------------------------------------------------
  // Methods
  // -----------------------------------------------------------------------------------------------------------------
  getRules() {
    const dict = {};
    ServiceProvider.tagRecords.getTagsFlat(false).filter((record) => {
      return record.canvas_card_enable_border || record.canvas_card_enable_background || record.canvas_card_background_opacity !== ServiceProvider.extensions.CanvasCards.getDefaultRecord().canvas_card_background_opacity;
    }).sort((a, b) => {
      if (a.canvas_card_priority === void 0 || b.canvas_card_priority === void 0)
        return 1;
      return a.canvas_card_priority >= b.canvas_card_priority ? 1 : -1;
    }).forEach(
      (record) => {
        this._selectors(themeSelectorLight, record).forEach((rule) => {
          dict[rule] = this._properties(record);
        });
        this._selectors(themeSelectorDark, record).forEach((rule) => {
          dict[rule] = this._properties(record);
        });
      }
    );
    return dict;
  }
};

// src/plugin/ui/setting_tab/components/tag_table/SettingTagRecordNumberInputComponent.ts
var import_obsidian7 = require("obsidian");
var SettingTagRecordNumberInputComponent = class extends import_obsidian7.TextComponent {
  constructor(rowData, property_name, placeholder = 0) {
    var _a, _b;
    super(rowData.parentEl);
    this.inputEl.classList.add("settingTagRecordNumberInputComponent");
    this.setPlaceholder(placeholder.toString());
    this.setValue((_b = (_a = rowData.record[property_name]) == null ? void 0 : _a.toString()) != null ? _b : "");
    this.onChange(async (newValue) => {
      rowData.record[property_name] = Number.parseInt(newValue);
      await ServiceProvider.tagRecords.addOrUpdateTag(rowData.record);
    });
  }
};

// src/plugin/extensions/canvas_card/CanvasCardExtension.ts
var CanvasCardExtension = class extends AbstractExtension {
  constructor() {
    super(...arguments);
    this.cssWrangler = new CanvasCardCssWrangler();
    this.extensionName = "canvas cards";
    this.description = "Apply Tag formatting to Canvas Cards";
    this.extensionRequirements = ["core"];
    this.TableContentPopulators = [
      {
        title: "Enable Border",
        callback: (rowData) => {
          return new SettingTagRecordToggleComponent(
            rowData,
            "canvas_card_enable_border"
          );
        },
        classes: ["header-wrap-every-word"]
      },
      {
        title: "Enable Background",
        callback: (rowData) => {
          return new SettingTagRecordToggleComponent(
            rowData,
            "canvas_card_enable_background"
          );
        },
        classes: ["header-wrap-every-word"]
      },
      {
        title: "Background Opacity",
        callback: (rowData) => {
          return new SettingTagRecordSliderComponent(
            rowData,
            "canvas_card_background_opacity",
            0,
            1,
            0.01,
            true,
            this.getDefaultRecord().canvas_card_background_opacity
          );
        },
        classes: ["header-wrap-every-word"]
      },
      {
        title: "Priority",
        callback: (rowData) => {
          return new SettingTagRecordNumberInputComponent(
            rowData,
            "canvas_card_priority"
          );
        },
        classes: ["header-wrap-every-word"]
      }
    ];
  }
  // -----------------------------------------------------------------------------------------------------------------
  // Methods
  // -----------------------------------------------------------------------------------------------------------------
  getDefaultRecord() {
    return {
      canvas_card_enable_border: true,
      canvas_card_enable_background: true,
      canvas_card_background_opacity: 0.45,
      canvas_card_priority: void 0
    };
  }
};

// src/plugin/services/extensions/ExtensionsService.ts
var ExtensionsService = class {
  get FullList() {
    var _a;
    return (_a = this._List) != null ? _a : this._List = this.AsList();
  }
  get EnabledList() {
    var _a;
    return (_a = this._EnabledList) != null ? _a : this.FullList.filter((e) => this._settings.data.EnabledExtensions.contains(e.extensionName));
  }
  get Dictionary() {
    var _a;
    return (_a = this._Dictionary) != null ? _a : this._Dictionary = this.AsDictionary();
  }
  get EnabledListAsStrings() {
    return this.EnabledList.map((e) => e.extensionName);
  }
  // -----------------------------------------------------------------------------------------------------------------
  // Constructors
  // -----------------------------------------------------------------------------------------------------------------
  constructor(settings) {
    this._settings = settings;
    this.Core = new CoreExtension();
    this.CssStyling = new CssStylingExtension();
    this.CanvasCards = new CanvasCardExtension();
  }
  // -----------------------------------------------------------------------------------------------------------------
  // Methods
  // -----------------------------------------------------------------------------------------------------------------
  setExtension(extension, value) {
    if (value) {
      this._settings.data.EnabledExtensions.push(extension.extensionName);
    } else {
      if (this._settings.data.EnabledExtensions.contains(extension.extensionName)) {
        this._settings.data.EnabledExtensions.remove(extension.extensionName);
      }
    }
    this._EnabledList = void 0;
  }
  AsList() {
    return [
      this.Core,
      this.CssStyling,
      this.CanvasCards
    ];
  }
  AsDictionary() {
    return this.AsList().reduce(
      (acc, e) => {
        acc[e.extensionName] = e;
        return acc;
      },
      {}
    );
  }
};

// src/plugin/services/ServiceProvider.ts
var _ServiceProvider = class {
  // -----------------------------------------------------------------------------------------------------------------
  // Methods
  // -----------------------------------------------------------------------------------------------------------------
  static PopulateInstances(plugin) {
    if (_ServiceProvider.Instantiated)
      return;
    _ServiceProvider.plugin = plugin;
    _ServiceProvider.migrator = new MigratorService(plugin);
    _ServiceProvider.settings = new SettingsService(plugin, _ServiceProvider.migrator);
    _ServiceProvider.extensions = new ExtensionsService(_ServiceProvider.settings);
    _ServiceProvider.tagRecords = new TagRecordsService(_ServiceProvider.settings, _ServiceProvider.extensions);
    _ServiceProvider.cssStyler = new CssStylerService(_ServiceProvider.extensions);
    _ServiceProvider.Instantiated = true;
  }
};
var ServiceProvider = _ServiceProvider;
ServiceProvider.Instantiated = false;

// src/plugin/ui/setting_tab/components/tag_table/SettingTagRecordTextAreaComponent.ts
var SettingTagRecordTextAreaComponent = class extends import_obsidian8.TextAreaComponent {
  constructor(rowData, property_name) {
    super(rowData.parentEl);
    this.setValue(rowData.record[property_name]);
    this.onChange(async (newValue) => {
      this.inputEl.style.height = "auto";
      this.inputEl.style.height = this.calcHeight();
      rowData.record[property_name] = newValue;
      await ServiceProvider.tagRecords.addOrUpdateTag(rowData.record);
      await rowData.rowUpdateCallback();
    });
    this.inputEl.style.height = this.calcHeight();
  }
  calcHeight() {
    return `${this.inputEl.scrollHeight + 5}px`;
  }
};

// src/plugin/ui/setting_tab/components/tag_table/SettingTagRecordPreview.ts
var SettingTagRecordPreview = class {
  // This is just a recreation of the obsidian tag spans
  //		Although I should be able to create some sort of system to update them easily?
  //		Currently, this is done by giving them specific Ids tied to the uuid of the records.
  constructor(rowData) {
    this.El = rowData.parentEl.createDiv();
    this.El.addClass("tag-preview-div");
    let el2 = this.El.createDiv();
    const previewIds = ServiceProvider.tagRecords.getTagPreviewIds(rowData.record);
    const firstTag = ServiceProvider.tagRecords.getFirstTag(rowData.record);
    const elBegin = el2.createEl("span");
    elBegin.addClasses(["cm-hashtag", "cm-hashtag-begin", "cm-meta", `cm-tag-${firstTag}`]);
    elBegin.id = previewIds.begin;
    const elEnd = el2.createEl("span");
    elEnd.addClasses(["cm-hashtag", "cm-hashtag-end", "cm-meta", `cm-tag-${firstTag}`]);
    elEnd.id = previewIds.end;
  }
  setDisabled(disabled) {
    this.disabled = disabled;
    this.El.hidden = disabled;
    return this;
  }
  then(cb) {
    return this;
  }
};

// src/plugin/ui/setting_tab/components/tag_table/SettingTagRecordNavigators.ts
var import_obsidian9 = require("obsidian");

// src/lib/ArrayUtils.ts
function arrayMove(arr, fromIndex, toIndex) {
  if (toIndex < 0 || toIndex === arr.length) {
    return;
  }
  const element = arr[fromIndex];
  arr[fromIndex] = arr[toIndex];
  arr[toIndex] = element;
}

// src/plugin/ui/setting_tab/components/tag_table/SettingTagRecordNavigators.ts
var SettingTagRecordNavigators = class {
  // This is just a recreation of the obsidian tag spans
  //		Although I should be able to create some sort of system to update them easily?
  //		Currently, this is done by giving them specific Ids tied to the uuid of the records.
  constructor(rowData, enableRemove = true, redrawCallback) {
    this.El = rowData.parentEl.createDiv();
    this.El.addClass("navigator-parent");
    const recordIndex = ServiceProvider.tagRecords.getTagIndex(rowData.record);
    if (enableRemove) {
      new import_obsidian9.ExtraButtonComponent(this.El).setIcon("trash").setTooltip("Delete record").onClick(async () => {
        await ServiceProvider.tagRecords.removeTag(rowData.record);
        await redrawCallback();
      }).extraSettingsEl.classList.add("navigator-trash");
    }
    if (recordIndex !== 0) {
      new import_obsidian9.ExtraButtonComponent(this.El).setIcon("up-chevron-glyph").setTooltip("Move up").onClick(async () => {
        arrayMove(ServiceProvider.tagRecords.getTags(), recordIndex, recordIndex - 1);
        ServiceProvider.settings.debounceSaveToFile();
        await redrawCallback();
      }).extraSettingsEl.classList.add("navigator-chevron-up");
    }
    if (recordIndex !== ServiceProvider.tagRecords.getTagCount() - 1) {
      new import_obsidian9.ExtraButtonComponent(this.El).setIcon("down-chevron-glyph").setTooltip("Move down").onClick(async () => {
        arrayMove(ServiceProvider.tagRecords.getTags(), recordIndex, recordIndex + 1);
        ServiceProvider.settings.debounceSaveToFile();
        await redrawCallback();
      }).extraSettingsEl.classList.add("navigator-chevron-down");
    }
  }
  setDisabled(disabled) {
    this.disabled = disabled;
    this.El.hidden = disabled;
    return this;
  }
  then(cb) {
    return this;
  }
};

// src/lib/StringUtils.ts
function capitalizeFirstLetter(string) {
  return string.charAt(0).toUpperCase() + string.slice(1);
}

// src/plugin/ui/setting_tab/components/tag_table/SettingTagTable.ts
var SettingTagTable = class {
  // -----------------------------------------------------------------------------------------------------------------
  // Constructor
  // -----------------------------------------------------------------------------------------------------------------
  constructor(parent) {
    this.parent = parent;
    this._AssignEls();
  }
  // -----------------------------------------------------------------------------------------------------------------
  // Methods
  // -----------------------------------------------------------------------------------------------------------------
  async display() {
    if (this.settingEl == void 0 && this.tableEl !== void 0) {
      this._AssignEls();
    }
    await this._DisplayExtensionSelector();
    await this._DisplayTable();
    await this.addNewButton(this.settingElBottom);
  }
  async redrawTable() {
    this.tableEl.empty();
    await this._DisplayTable();
  }
  async UpdateRow(record, _) {
    const tag = ServiceProvider.tagRecords.getFirstTag(record);
    const originalLength = tag.length;
    let { begin, end } = this.getTagPreviewEls(record);
    if (!begin || !end) {
      console.warn(`The tag "${record}" BEGIN or END is empty.`);
      return;
    }
    const displayTag = originalLength >= 9 ? `${tag.substring(0, 8)}...` : tag;
    if (begin.textContent !== "#")
      begin.textContent = "#";
    if (end.textContent !== displayTag)
      end.textContent = displayTag;
  }
  // -----------------------------------------------------------------------------------------------------------------
  // Helper Methods
  // -----------------------------------------------------------------------------------------------------------------
  _AssignEls() {
    this.settingEl = new import_obsidian10.Setting(this.parent.containerEl);
    this.tableEl = this.parent.containerEl.createDiv();
    this.settingElBottom = new import_obsidian10.Setting(this.parent.containerEl);
  }
  async _DisplayExtensionSelector() {
    const element = this.settingEl.setName("Custom color tags").setDesc(`Define custom colors for tags. Select which extension to edit, dependant on the `);
    if (ServiceProvider.extensions.EnabledList.length > 1) {
      element.addDropdown((component) => {
        component.addOptions(
          ServiceProvider.extensions.EnabledList.map((extension) => extension.extensionName).reduce(
            (acc, key) => ({ ...acc, [key]: capitalizeFirstLetter(key) }),
            {}
          )
        ).onChange(async (value) => {
          this.selectedExtension = value;
          await this.redrawTable();
        });
      });
    }
    await this.addNewButton(element);
  }
  async addNewButton(settingEl) {
    settingEl.addButton((component) => {
      component.setClass("mod-cta").setButtonText("New Tag").onClick(async () => {
        await ServiceProvider.tagRecords.createNewDefaultTag();
        await this.redrawTable();
      });
    });
  }
  async _DisplayTable() {
    let scrollAreaContainer = this.tableEl.createDiv();
    scrollAreaContainer.addClass("scroll-area-container");
    let tableContainer = scrollAreaContainer.createDiv();
    tableContainer.addClass("scroll-container");
    let overlayGradient = scrollAreaContainer.createDiv();
    overlayGradient.addClass("overlay-gradient");
    const content = [
      {
        title: "",
        callback: (rowData) => {
          return new SettingTagRecordNavigators(
            rowData,
            true,
            async () => await this.redrawTable()
          );
        },
        classes: []
      },
      {
        title: "Tag",
        callback: (rowData) => {
          return new SettingTagRecordTextAreaComponent(
            rowData,
            "core_tagText"
          );
        },
        classes: []
      },
      {
        title: "Preview",
        callback: (rowData) => {
          return new SettingTagRecordPreview(rowData);
        },
        classes: ["tag-preview", "sticky-column", "border-right"]
      }
    ];
    const selectedExt = this.selectedExtension != void 0 ? ServiceProvider.extensions.Dictionary[this.selectedExtension] : ServiceProvider.extensions.EnabledList.first();
    selectedExt == null ? void 0 : selectedExt.TableContentPopulators.forEach((callback) => content.push(callback));
    let table = tableContainer.createEl("table");
    let thead = table.createEl("thead");
    let headersRow = thead.createEl("tr");
    for (let { title, classes } of content) {
      headersRow.createEl("th", { text: title, cls: classes });
      headersRow.addClasses(classes);
    }
    let tbody = table.createEl("tbody");
    for (let record of ServiceProvider.tagRecords.getTags()) {
      const tr = tbody.createEl("tr");
      for (let { callback, classes } of content) {
        let td = tr.createEl("td");
        td.addClasses(classes);
        callback({
          record,
          rowUpdateCallback: async () => {
            await this.UpdateRow(record, tr);
            ServiceProvider.cssStyler.processExtensions();
          },
          parentEl: td
        });
      }
      await this.UpdateRow(record, tr);
    }
  }
  getTagPreviewEls(record) {
    const ids = ServiceProvider.tagRecords.getTagPreviewIds(record);
    return {
      begin: document.getElementById(ids.begin),
      end: document.getElementById(ids.end)
    };
  }
};

// src/plugin/ui/setting_tab/components/extension_selector/SettingExtensionSelector.ts
var import_obsidian11 = require("obsidian");
var SettingExtensionSelector = class {
  // -----------------------------------------------------------------------------------------------------------------
  // Constructor
  // -----------------------------------------------------------------------------------------------------------------
  constructor(parent) {
    this.parent = parent;
    this._AssignEls();
  }
  // -----------------------------------------------------------------------------------------------------------------
  // Helper Methods
  // -----------------------------------------------------------------------------------------------------------------
  _AssignEls() {
    this.masterEl = this.parent.containerEl.createDiv();
    this.masterEl.addClass("extension-selector");
    this.gridContainerEl = this.masterEl.createDiv();
    this.gridContainerEl.addClass("grid-container");
  }
  createExtensionGridItem(extension) {
    const gridItem = new import_obsidian11.Setting(document.createElement("div")).setClass("grid-item").setName(capitalizeFirstLetter(extension.extensionName)).setDesc(extension.description).addToggle((cb) => {
      cb.setValue(extension.isEnabled);
      cb.onChange((value) => {
        if (extension.extensionRequirements.length != 0 && value) {
          const notFoundRequirements = extension.extensionRequirements.filter((ext) => !ServiceProvider.extensions.EnabledListAsStrings.includes(ext));
          if (notFoundRequirements.length > 0) {
            const values = notFoundRequirements.map(capitalizeFirstLetter).join(", ");
            const doc = new DocumentFragment();
            doc.createSpan({}).innerText = extension.description;
            doc.createSpan({ "cls": "text-color-red" }).innerHTML = `<br>The following extension requirements were not set: <b>${values}</b>`;
            gridItem.setDesc(doc);
            return;
          }
        }
        gridItem.setDesc(extension.description);
        extension.isEnabled = value;
        ServiceProvider.cssStyler.processExtensions();
        this.parent.display();
      });
    });
    return gridItem.settingEl;
  }
  // -----------------------------------------------------------------------------------------------------------------
  // Methods
  // -----------------------------------------------------------------------------------------------------------------
  async display() {
    for (const iExtension of ServiceProvider.extensions.FullList) {
      const el = this.createExtensionGridItem(iExtension);
      this.gridContainerEl.appendChild(el);
    }
  }
};

// src/plugin/ui/setting_tab/SettingTab.ts
var SettingTab3 = class extends import_obsidian12.PluginSettingTab {
  // -----------------------------------------------------------------------------------------------------------------
  // Methods
  // -----------------------------------------------------------------------------------------------------------------
  async display() {
    const { containerEl } = this;
    containerEl.empty();
    new import_obsidian12.Setting(containerEl).setName("Tag table").setHeading();
    await new SettingTagTable(this).display();
    new import_obsidian12.Setting(containerEl).setName("Extension selector").setHeading();
    await new SettingExtensionSelector(this).display();
  }
};

// src/plugin/ColoredTagWranglerPlugin.ts
var ColoredTagWranglerPlugin = class extends import_obsidian13.Plugin {
  constructor(app, manifest) {
    super(app, manifest);
    ServiceProvider.PopulateInstances(this);
  }
  // -----------------------------------------------------------------------------------------------------------------
  // Methods
  // -----------------------------------------------------------------------------------------------------------------
  async onload() {
    await ServiceProvider.settings.loadFromFile();
    ServiceProvider.cssStyler.processExtensions();
    this.addSettingTab(new SettingTab3(this.app, this));
  }
  async onunload() {
    await ServiceProvider.settings.saveToFile();
    ServiceProvider.cssStyler.cleanup();
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic3JjL3BsdWdpbi9Db2xvcmVkVGFnV3JhbmdsZXJQbHVnaW4udHMiLCAic3JjL3BsdWdpbi91aS9zZXR0aW5nX3RhYi9TZXR0aW5nVGFiLnRzIiwgInNyYy9wbHVnaW4vdWkvc2V0dGluZ190YWIvY29tcG9uZW50cy90YWdfdGFibGUvU2V0dGluZ1RhZ1RhYmxlLnRzIiwgInNyYy9wbHVnaW4vdWkvc2V0dGluZ190YWIvY29tcG9uZW50cy90YWdfdGFibGUvU2V0dGluZ1RhZ1JlY29yZFRleHRBcmVhQ29tcG9uZW50LnRzIiwgInNyYy9wbHVnaW4vc2VydmljZXMvc2V0dGluZ3MvU2V0dGluZ3NTZXJ2aWNlLnRzIiwgIm5vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvcm5nLmpzIiwgIm5vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvc3RyaW5naWZ5LmpzIiwgIm5vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvbmF0aXZlLmpzIiwgIm5vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvdjQuanMiLCAic3JjL3BsdWdpbi9zZXJ2aWNlcy9taWdyYXRvci9taWdyYXRpb25zL21pZ3JhdGVfMDBfdG9fMDEudHMiLCAic3JjL3BsdWdpbi9zZXJ2aWNlcy9taWdyYXRvci9taWdyYXRpb25zL21pZ3JhdGVfMDFfdG9fMDIudHMiLCAic3JjL3BsdWdpbi9zZXJ2aWNlcy9taWdyYXRvci9taWdyYXRpb25zL21pZ3JhdGVfMDJfdG9fMDMudHMiLCAic3JjL3BsdWdpbi9zZXJ2aWNlcy9taWdyYXRvci9taWdyYXRpb25zL21pZ3JhdGVfMDNfdG9fMDQudHMiLCAic3JjL3BsdWdpbi9zZXJ2aWNlcy9taWdyYXRvci9taWdyYXRpb25zL21pZ3JhdGVfMDRfdG9fMDUudHMiLCAic3JjL3BsdWdpbi9zZXJ2aWNlcy9taWdyYXRvci9taWdyYXRpb25zL21pZ3JhdGVfMDVfdG9fMDYudHMiLCAiLm9sZC9hcGkvQ29sb3JDb252ZXJ0ZXJzLnRzIiwgInNyYy9wbHVnaW4vc2VydmljZXMvbWlncmF0b3IvbWlncmF0aW9ucy9taWdyYXRlXzA2X3RvXzA3LnRzIiwgInNyYy9wbHVnaW4vc2VydmljZXMvbWlncmF0b3IvbWlncmF0aW9ucy9taWdyYXRlXzA3X3RvXzA4LnRzIiwgInNyYy9wbHVnaW4vc2VydmljZXMvbWlncmF0b3IvbWlncmF0aW9ucy9taWdyYXRlXzA4X3RvXzA5LnRzIiwgInNyYy9wbHVnaW4vc2VydmljZXMvbWlncmF0b3IvbWlncmF0aW9ucy9taWdyYXRlXzA5X3RvXzEwLnRzIiwgInNyYy9wbHVnaW4vc2VydmljZXMvbWlncmF0b3IvbWlncmF0aW9ucy9taWdyYXRlXzEwX3RvXzExLnRzIiwgInNyYy9wbHVnaW4vc2VydmljZXMvbWlncmF0b3IvbWlncmF0aW9ucy9taWdyYXRlXzExX3RvXzEyLnRzIiwgInNyYy9wbHVnaW4vc2VydmljZXMvbWlncmF0b3IvbWlncmF0aW9ucy9taWdyYXRlXzEyX3RvXzEzLnRzIiwgInNyYy9wbHVnaW4vc2VydmljZXMvbWlncmF0b3IvbWlncmF0aW9ucy9taWdyYXRlXzEzX3RvXzE0LnRzIiwgInNyYy9wbHVnaW4vc2VydmljZXMvbWlncmF0b3IvbWlncmF0aW9ucy9taWdyYXRlXzE0X3RvXzE1LnRzIiwgInNyYy9wbHVnaW4vc2VydmljZXMvbWlncmF0b3IvTWlncmF0b3JTZXJ2aWNlLnRzIiwgInNyYy9wbHVnaW4vc2VydmljZXMvc2V0dGluZ3MvRGVmYXVsdFNldHRpbmdzLnRzIiwgInNyYy9saWIvUmVnZXhVdGlscy50cyIsICJzcmMvcGx1Z2luL3NlcnZpY2VzL3RhZ19yZWNvcmRzL1RhZ1JlY29yZHNTZXJ2aWNlLnRzIiwgInNyYy9wbHVnaW4vdWkvc2V0dGluZ190YWIvY29tcG9uZW50cy90YWdfdGFibGUvU2V0dGluZ1RhZ1JlY29yZENvbG9yQ29tcG9uZW50LnRzIiwgInNyYy9saWIvQ29sb3JDb252ZXJ0ZXJzLnRzIiwgInNyYy9wbHVnaW4vdWkvc2V0dGluZ190YWIvY29tcG9uZW50cy90YWdfdGFibGUvU2V0dGluZ1RhZ1JlY29yZFRvZ2dsZUNvbXBvbmVudC50cyIsICJzcmMvcGx1Z2luL3NlcnZpY2VzL2Nzc19zdHlsZXIvQ3NzU3R5bGVyU2VydmljZS50cyIsICJzcmMvcGx1Z2luL2V4dGVuc2lvbnMvY29yZS9Db3JlQ3NzV3JhbmdsZXIudHMiLCAic3JjL3BsdWdpbi9leHRlbnNpb25zL0Fic3RyYWN0RXh0ZW5zaW9uLnRzIiwgInNyYy9wbHVnaW4vZXh0ZW5zaW9ucy9jb3JlL0NvcmVFeHRlbnNpb24udHMiLCAic3JjL3BsdWdpbi9leHRlbnNpb25zL3N0eWxpbmcvQ3NzU3R5bGluZ0Nzc1dyYW5nbGVyLnRzIiwgInNyYy9wbHVnaW4vdWkvc2V0dGluZ190YWIvY29tcG9uZW50cy90YWdfdGFibGUvU2V0dGluZ1RhZ1JlY29yZFNsaWRlckNvbXBvbmVudC50cyIsICJzcmMvcGx1Z2luL3VpL3NldHRpbmdfdGFiL2NvbXBvbmVudHMvdGFnX3RhYmxlL1NldHRpbmdUYWdSZWNvcmRUZXh0SW5wdXRDb21wb25lbnQudHMiLCAic3JjL3BsdWdpbi9leHRlbnNpb25zL3N0eWxpbmcvQ3NzU3R5bGluZ0V4dGVuc2lvbi50cyIsICJzcmMvcGx1Z2luL2V4dGVuc2lvbnMvY2FudmFzX2NhcmQvQ2FudmFzQ2FyZENzc1dyYW5nbGVyLnRzIiwgInNyYy9wbHVnaW4vdWkvc2V0dGluZ190YWIvY29tcG9uZW50cy90YWdfdGFibGUvU2V0dGluZ1RhZ1JlY29yZE51bWJlcklucHV0Q29tcG9uZW50LnRzIiwgInNyYy9wbHVnaW4vZXh0ZW5zaW9ucy9jYW52YXNfY2FyZC9DYW52YXNDYXJkRXh0ZW5zaW9uLnRzIiwgInNyYy9wbHVnaW4vc2VydmljZXMvZXh0ZW5zaW9ucy9FeHRlbnNpb25zU2VydmljZS50cyIsICJzcmMvcGx1Z2luL3NlcnZpY2VzL1NlcnZpY2VQcm92aWRlci50cyIsICJzcmMvcGx1Z2luL3VpL3NldHRpbmdfdGFiL2NvbXBvbmVudHMvdGFnX3RhYmxlL1NldHRpbmdUYWdSZWNvcmRQcmV2aWV3LnRzIiwgInNyYy9wbHVnaW4vdWkvc2V0dGluZ190YWIvY29tcG9uZW50cy90YWdfdGFibGUvU2V0dGluZ1RhZ1JlY29yZE5hdmlnYXRvcnMudHMiLCAic3JjL2xpYi9BcnJheVV0aWxzLnRzIiwgInNyYy9saWIvU3RyaW5nVXRpbHMudHMiLCAic3JjL3BsdWdpbi91aS9zZXR0aW5nX3RhYi9jb21wb25lbnRzL2V4dGVuc2lvbl9zZWxlY3Rvci9TZXR0aW5nRXh0ZW5zaW9uU2VsZWN0b3IudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbIi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyBJbXBvcnRzXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5pbXBvcnQge0FwcCwgUGx1Z2luLCBQbHVnaW5NYW5pZmVzdH0gZnJvbSBcIm9ic2lkaWFuXCI7XHJcbmltcG9ydCB7SUNvbG9yZWRUYWdXcmFuZ2xlclBsdWdpbn0gZnJvbSBcIi4uL2NvbnRyYWN0cy9wbHVnaW4vSUNvbG9yZWRUYWdXcmFuZ2xlclBsdWdpblwiO1xyXG5pbXBvcnQge1NldHRpbmdUYWJ9IGZyb20gXCIuL3VpL3NldHRpbmdfdGFiL1NldHRpbmdUYWJcIjtcclxuaW1wb3J0IHtTZXJ2aWNlUHJvdmlkZXJ9IGZyb20gXCIuL3NlcnZpY2VzL1NlcnZpY2VQcm92aWRlclwiO1xyXG5cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vIENvZGVcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vIG5vaW5zcGVjdGlvbiBKU1VudXNlZEdsb2JhbFN5bWJvbHNcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29sb3JlZFRhZ1dyYW5nbGVyUGx1Z2luIGV4dGVuZHMgUGx1Z2luIGltcGxlbWVudHMgSUNvbG9yZWRUYWdXcmFuZ2xlclBsdWdpbiB7XHJcblx0Y29uc3RydWN0b3IoYXBwOiBBcHAsIG1hbmlmZXN0OiBQbHVnaW5NYW5pZmVzdCkge1xyXG5cdFx0c3VwZXIoYXBwLCBtYW5pZmVzdCk7XHJcblx0XHRTZXJ2aWNlUHJvdmlkZXIuUG9wdWxhdGVJbnN0YW5jZXModGhpcyk7XHJcblx0fVxyXG5cclxuXHQvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cdC8vIE1ldGhvZHNcclxuXHQvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cdGFzeW5jIG9ubG9hZCgpIHtcclxuXHRcdGF3YWl0IFNlcnZpY2VQcm92aWRlci5zZXR0aW5ncy5sb2FkRnJvbUZpbGUoKSAvLyBsb2FkcyBzZXR0aW5ncyBmcm9tIGZpbGUgYXMgd2VsbFxyXG5cclxuXHRcdFNlcnZpY2VQcm92aWRlci5jc3NTdHlsZXIucHJvY2Vzc0V4dGVuc2lvbnMoKVxyXG5cclxuXHRcdHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgU2V0dGluZ1RhYih0aGlzLmFwcCwgdGhpcykpO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgb251bmxvYWQoKSB7XHJcblx0XHRhd2FpdCBTZXJ2aWNlUHJvdmlkZXIuc2V0dGluZ3Muc2F2ZVRvRmlsZSgpXHJcblx0XHRTZXJ2aWNlUHJvdmlkZXIuY3NzU3R5bGVyLmNsZWFudXAoKVxyXG5cdH1cclxufVxyXG4iLCAiLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vIEltcG9ydHNcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbmltcG9ydCB7UGx1Z2luU2V0dGluZ1RhYiwgU2V0dGluZ30gZnJvbSBcIm9ic2lkaWFuXCI7XHJcbmltcG9ydCB7SVNldHRpbmdUYWJ9IGZyb20gXCIuLi8uLi8uLi9jb250cmFjdHMvcGx1Z2luL3VpL0lTZXR0aW5nVGFiXCI7XHJcbmltcG9ydCB7U2V0dGluZ1RhZ1RhYmxlfSBmcm9tIFwiLi9jb21wb25lbnRzL3RhZ190YWJsZS9TZXR0aW5nVGFnVGFibGVcIjtcclxuaW1wb3J0IHtTZXR0aW5nRXh0ZW5zaW9uU2VsZWN0b3J9IGZyb20gXCIuL2NvbXBvbmVudHMvZXh0ZW5zaW9uX3NlbGVjdG9yL1NldHRpbmdFeHRlbnNpb25TZWxlY3RvclwiO1xyXG5cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vIENvZGVcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbmV4cG9ydCBjbGFzcyBTZXR0aW5nVGFiIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiBpbXBsZW1lbnRzIElTZXR0aW5nVGFiIHtcclxuXHQvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cdC8vIE1ldGhvZHNcclxuXHQvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cdGFzeW5jIGRpc3BsYXkoKTogUHJvbWlzZTx2b2lkPiB7XHJcblx0XHRjb25zdCB7Y29udGFpbmVyRWx9ID0gdGhpcztcclxuXHRcdGNvbnRhaW5lckVsLmVtcHR5KCk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpLnNldE5hbWUoXCJUYWcgdGFibGVcIikuc2V0SGVhZGluZygpXHJcblx0XHRhd2FpdCBuZXcgU2V0dGluZ1RhZ1RhYmxlKHRoaXMpLmRpc3BsYXkoKSAvLyBTY3JvbGxhYmxlIGNvbnRhaW5lciBmb3IgdGhlIHRhYmxlXHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpLnNldE5hbWUoXCJFeHRlbnNpb24gc2VsZWN0b3JcIikuc2V0SGVhZGluZygpXHJcblx0XHRhd2FpdCBuZXcgU2V0dGluZ0V4dGVuc2lvblNlbGVjdG9yKHRoaXMpLmRpc3BsYXkoKVxyXG5cdH1cclxufVxyXG4iLCAiLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vIEltcG9ydHNcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbmltcG9ydCB7U2V0dGluZywgU2V0dGluZ1RhYn0gZnJvbSBcIm9ic2lkaWFuXCI7XHJcbmltcG9ydCB7VGFibGVDb250ZW50UG9wdWxhdG9yfSBmcm9tIFwiLi4vLi4vLi4vLi4vLi4vY29udHJhY3RzL3BsdWdpbi91aS9jb21wb25lbnRzL1RhYmxlQ29udGVudFBvcHVsYXRvclwiO1xyXG5pbXBvcnQge1NldHRpbmdUYWdSZWNvcmRUZXh0QXJlYUNvbXBvbmVudH0gZnJvbSBcIi4vU2V0dGluZ1RhZ1JlY29yZFRleHRBcmVhQ29tcG9uZW50XCI7XHJcbmltcG9ydCB7U2V0dGluZ1RhZ1JlY29yZFByZXZpZXd9IGZyb20gXCIuL1NldHRpbmdUYWdSZWNvcmRQcmV2aWV3XCI7XHJcbmltcG9ydCB7U2V0dGluZ1RhZ1JlY29yZE5hdmlnYXRvcnN9IGZyb20gXCIuL1NldHRpbmdUYWdSZWNvcmROYXZpZ2F0b3JzXCI7XHJcbmltcG9ydCB7U2VydmljZVByb3ZpZGVyfSBmcm9tIFwiLi4vLi4vLi4vLi4vc2VydmljZXMvU2VydmljZVByb3ZpZGVyXCI7XHJcbmltcG9ydCB7Um93RGF0YVR5cGV9IGZyb20gXCIuLi8uLi8uLi8uLi8uLi9jb250cmFjdHMvcGx1Z2luL3VpL2NvbXBvbmVudHMvUm93RGF0YVR5cGVcIjtcclxuaW1wb3J0IHtJQ29sb3JlZFRhZ1JlY29yZH0gZnJvbSBcIi4uLy4uLy4uLy4uLy4uL2NvbnRyYWN0cy9wbHVnaW4vc2V0dGluZ3MvSUNvbG9yZWRUYWdSZWNvcmRcIjtcclxuaW1wb3J0IHtjYXBpdGFsaXplRmlyc3RMZXR0ZXJ9IGZyb20gXCIuLi8uLi8uLi8uLi8uLi9saWIvU3RyaW5nVXRpbHNcIjtcclxuXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyBDb2RlXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5leHBvcnQgY2xhc3MgU2V0dGluZ1RhZ1RhYmxlIHtcclxuXHRwcml2YXRlIHBhcmVudDogU2V0dGluZ1RhYjtcclxuXHJcblx0cHJpdmF0ZSBzZWxlY3RlZEV4dGVuc2lvbjogc3RyaW5nIHwgdW5kZWZpbmVkO1xyXG5cdHByaXZhdGUgc2V0dGluZ0VsOiBTZXR0aW5nO1xyXG5cdHByaXZhdGUgc2V0dGluZ0VsQm90dG9tOiBTZXR0aW5nO1xyXG5cdHByaXZhdGUgdGFibGVFbDogSFRNTEVsZW1lbnQ7XHJcblxyXG5cdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblx0Ly8gQ29uc3RydWN0b3JcclxuXHQvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cdGNvbnN0cnVjdG9yKHBhcmVudDogU2V0dGluZ1RhYikge1xyXG5cdFx0dGhpcy5wYXJlbnQgPSBwYXJlbnQ7XHJcblx0XHR0aGlzLl9Bc3NpZ25FbHMoKVxyXG5cdH1cclxuXHJcblx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHQvLyBNZXRob2RzXHJcblx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHRwdWJsaWMgYXN5bmMgZGlzcGxheSgpOiBQcm9taXNlPHZvaWQ+IHtcclxuXHRcdGlmICh0aGlzLnNldHRpbmdFbCA9PSB1bmRlZmluZWQgJiYgdGhpcy50YWJsZUVsICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0dGhpcy5fQXNzaWduRWxzKClcclxuXHRcdH1cclxuXHJcblx0XHRhd2FpdCB0aGlzLl9EaXNwbGF5RXh0ZW5zaW9uU2VsZWN0b3IoKTtcclxuXHRcdGF3YWl0IHRoaXMuX0Rpc3BsYXlUYWJsZSgpXHJcblxyXG5cdFx0YXdhaXQgdGhpcy5hZGROZXdCdXR0b24odGhpcy5zZXR0aW5nRWxCb3R0b20pXHJcblxyXG5cdH1cclxuXHJcblx0cHVibGljIGFzeW5jIHJlZHJhd1RhYmxlKCkge1xyXG5cdFx0dGhpcy50YWJsZUVsLmVtcHR5KClcclxuXHRcdGF3YWl0IHRoaXMuX0Rpc3BsYXlUYWJsZSgpXHJcblx0fVxyXG5cclxuXHRwdWJsaWMgYXN5bmMgVXBkYXRlUm93KHJlY29yZDogSUNvbG9yZWRUYWdSZWNvcmQsIF86IEhUTUxFbGVtZW50KTogUHJvbWlzZTx2b2lkPiB7XHJcblx0XHRjb25zdCB0YWcgPSBTZXJ2aWNlUHJvdmlkZXIudGFnUmVjb3Jkcy5nZXRGaXJzdFRhZyhyZWNvcmQpO1xyXG5cdFx0Y29uc3Qgb3JpZ2luYWxMZW5ndGggPSB0YWcubGVuZ3RoO1xyXG5cclxuXHRcdGxldCB7YmVnaW4sIGVuZH0gPSB0aGlzLmdldFRhZ1ByZXZpZXdFbHMocmVjb3JkKTtcclxuXHJcblx0XHRpZiAoIWJlZ2luIHx8ICFlbmQpIHtcclxuXHRcdFx0Y29uc29sZS53YXJuKGBUaGUgdGFnIFwiJHtyZWNvcmR9XCIgQkVHSU4gb3IgRU5EIGlzIGVtcHR5LmApO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgZGlzcGxheVRhZyA9IG9yaWdpbmFsTGVuZ3RoID49IDlcclxuXHRcdFx0PyBgJHt0YWcuc3Vic3RyaW5nKDAsIDgpfS4uLmBcclxuXHRcdFx0OiB0YWc7XHJcblx0XHRpZiAoYmVnaW4udGV4dENvbnRlbnQgIT09IFwiI1wiKSBiZWdpbi50ZXh0Q29udGVudCA9IFwiI1wiO1xyXG5cdFx0aWYgKGVuZC50ZXh0Q29udGVudCAhPT0gZGlzcGxheVRhZykgZW5kLnRleHRDb250ZW50ID0gZGlzcGxheVRhZztcclxuXHJcblx0XHQvLyBTdHlsaW5nIHByb3ZpZGVkIGJ5IHJlY29yZCB1cGRhdGVyXHJcblx0fVxyXG5cclxuXHQvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cdC8vIEhlbHBlciBNZXRob2RzXHJcblx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHRwcml2YXRlIF9Bc3NpZ25FbHMoKSB7XHJcblx0XHR0aGlzLnNldHRpbmdFbCA9IG5ldyBTZXR0aW5nKHRoaXMucGFyZW50LmNvbnRhaW5lckVsKVxyXG5cdFx0dGhpcy50YWJsZUVsID0gdGhpcy5wYXJlbnQuY29udGFpbmVyRWwuY3JlYXRlRGl2KCk7XHJcblx0XHR0aGlzLnNldHRpbmdFbEJvdHRvbSA9IG5ldyBTZXR0aW5nKHRoaXMucGFyZW50LmNvbnRhaW5lckVsKVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBhc3luYyBfRGlzcGxheUV4dGVuc2lvblNlbGVjdG9yKCk6IFByb21pc2U8dm9pZD4ge1xyXG5cdFx0Y29uc3QgZWxlbWVudCA9IHRoaXMuc2V0dGluZ0VsXHJcblx0XHRcdC5zZXROYW1lKFwiQ3VzdG9tIGNvbG9yIHRhZ3NcIilcclxuXHRcdFx0LnNldERlc2MoYERlZmluZSBjdXN0b20gY29sb3JzIGZvciB0YWdzLiBTZWxlY3Qgd2hpY2ggZXh0ZW5zaW9uIHRvIGVkaXQsIGRlcGVuZGFudCBvbiB0aGUgYCk7XHJcblxyXG5cdFx0aWYgKFNlcnZpY2VQcm92aWRlci5leHRlbnNpb25zLkVuYWJsZWRMaXN0Lmxlbmd0aCA+IDEpe1xyXG5cdFx0XHRlbGVtZW50LmFkZERyb3Bkb3duKGNvbXBvbmVudCA9PiB7XHJcblx0XHRcdFx0Y29tcG9uZW50XHJcblx0XHRcdFx0XHQuYWRkT3B0aW9ucyhcclxuXHRcdFx0XHRcdFx0U2VydmljZVByb3ZpZGVyLmV4dGVuc2lvbnMuRW5hYmxlZExpc3RcclxuXHRcdFx0XHRcdFx0XHQubWFwKGV4dGVuc2lvbiA9PiBleHRlbnNpb24uZXh0ZW5zaW9uTmFtZSlcclxuXHRcdFx0XHRcdFx0XHQucmVkdWNlKFxyXG5cdFx0XHRcdFx0XHRcdFx0KGFjYywga2V5KSA9PiAoXHJcblx0XHRcdFx0XHRcdFx0XHRcdHsuLi5hY2MsIFtrZXldOiBjYXBpdGFsaXplRmlyc3RMZXR0ZXIoa2V5KX1cclxuXHRcdFx0XHRcdFx0XHRcdCksIHt9XHJcblx0XHRcdFx0XHRcdFx0KVxyXG5cdFx0XHRcdFx0KVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHQvLyBVUERBVEUgVEhFIFRBQkxFXHJcblx0XHRcdFx0XHRcdHRoaXMuc2VsZWN0ZWRFeHRlbnNpb24gPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5yZWRyYXdUYWJsZSgpXHJcblx0XHRcdFx0XHR9KVxyXG5cdFx0XHR9KVxyXG5cdFx0fVxyXG5cdFx0YXdhaXQgdGhpcy5hZGROZXdCdXR0b24oZWxlbWVudCkgLy8gYWRkIGEgYm90dG9tIGJ1dHRvbiwgZm9yIG5hdmlnYXRpb25cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYXN5bmMgYWRkTmV3QnV0dG9uKHNldHRpbmdFbDogU2V0dGluZykge1xyXG5cdFx0c2V0dGluZ0VsLmFkZEJ1dHRvbihjb21wb25lbnQgPT4ge1xyXG5cdFx0XHRjb21wb25lbnRcclxuXHRcdFx0XHQuc2V0Q2xhc3MoXCJtb2QtY3RhXCIpXHJcblx0XHRcdFx0LnNldEJ1dHRvblRleHQoXCJOZXcgVGFnXCIpXHJcblx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdFx0YXdhaXQgU2VydmljZVByb3ZpZGVyLnRhZ1JlY29yZHMuY3JlYXRlTmV3RGVmYXVsdFRhZygpXHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnJlZHJhd1RhYmxlKClcclxuXHRcdFx0XHR9KVxyXG5cdFx0fSlcclxuXHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGFzeW5jIF9EaXNwbGF5VGFibGUoKTogUHJvbWlzZTx2b2lkPiB7XHJcblx0XHRsZXQgc2Nyb2xsQXJlYUNvbnRhaW5lciA9IHRoaXMudGFibGVFbC5jcmVhdGVEaXYoKTtcclxuXHRcdHNjcm9sbEFyZWFDb250YWluZXIuYWRkQ2xhc3MoXCJzY3JvbGwtYXJlYS1jb250YWluZXJcIik7XHJcblxyXG5cdFx0bGV0IHRhYmxlQ29udGFpbmVyID0gc2Nyb2xsQXJlYUNvbnRhaW5lci5jcmVhdGVEaXYoKTtcclxuXHRcdHRhYmxlQ29udGFpbmVyLmFkZENsYXNzKFwic2Nyb2xsLWNvbnRhaW5lclwiKTtcclxuXHJcblx0XHRsZXQgb3ZlcmxheUdyYWRpZW50ID0gc2Nyb2xsQXJlYUNvbnRhaW5lci5jcmVhdGVEaXYoKTtcclxuXHRcdG92ZXJsYXlHcmFkaWVudC5hZGRDbGFzcyhcIm92ZXJsYXktZ3JhZGllbnRcIik7XHJcblxyXG5cdFx0Ly8gQXNzaWduIFRhYmxlIGNvbHVtbnMgYW5kIGNhbGxiYWNrcyBmb3IgcG9wdWxhdGlvblxyXG5cdFx0Ly8gXHRcdFRoaXMgaXMgdGhlIGRlZmF1bHQgd2hpY2ggc2hvdWxkIGJlIHNob3duIG9uIGV2ZXJ5IHRhYiFcclxuXHRcdGNvbnN0IGNvbnRlbnQ6IFRhYmxlQ29udGVudFBvcHVsYXRvcltdID0gW1xyXG5cdFx0XHR7XHJcblx0XHRcdFx0dGl0bGU6IFwiXCIsXHJcblx0XHRcdFx0Y2FsbGJhY2s6IChyb3dEYXRhOiBSb3dEYXRhVHlwZSkgPT4ge1xyXG5cdFx0XHRcdFx0cmV0dXJuIG5ldyBTZXR0aW5nVGFnUmVjb3JkTmF2aWdhdG9ycyhyb3dEYXRhLFxyXG5cdFx0XHRcdFx0XHR0cnVlLCBhc3luYyAoKSA9PiBhd2FpdCB0aGlzLnJlZHJhd1RhYmxlKCkpXHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHRjbGFzc2VzOiBbXVxyXG5cdFx0XHR9LCB7XHJcblx0XHRcdFx0dGl0bGU6IFwiVGFnXCIsXHJcblx0XHRcdFx0Y2FsbGJhY2s6IChyb3dEYXRhOiBSb3dEYXRhVHlwZSkgPT4ge1xyXG5cdFx0XHRcdFx0cmV0dXJuIG5ldyBTZXR0aW5nVGFnUmVjb3JkVGV4dEFyZWFDb21wb25lbnQocm93RGF0YSxcclxuXHRcdFx0XHRcdFx0XCJjb3JlX3RhZ1RleHRcIik7XHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHRjbGFzc2VzOiBbXVxyXG5cdFx0XHR9LCB7XHJcblx0XHRcdFx0dGl0bGU6IFwiUHJldmlld1wiLFxyXG5cdFx0XHRcdGNhbGxiYWNrOiAocm93RGF0YTogUm93RGF0YVR5cGUpID0+IHtcclxuXHRcdFx0XHRcdHJldHVybiBuZXcgU2V0dGluZ1RhZ1JlY29yZFByZXZpZXcocm93RGF0YSk7XHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHRjbGFzc2VzOiBbXCJ0YWctcHJldmlld1wiLCBcInN0aWNreS1jb2x1bW5cIiwgXCJib3JkZXItcmlnaHRcIl1cclxuXHRcdFx0fVxyXG5cdFx0XVxyXG5cclxuXHRcdGNvbnN0IHNlbGVjdGVkRXh0ID0gdGhpcy5zZWxlY3RlZEV4dGVuc2lvbiAhPSB1bmRlZmluZWRcclxuXHRcdFx0PyBTZXJ2aWNlUHJvdmlkZXIuZXh0ZW5zaW9ucy5EaWN0aW9uYXJ5W3RoaXMuc2VsZWN0ZWRFeHRlbnNpb25dXHJcblx0XHRcdDogU2VydmljZVByb3ZpZGVyLmV4dGVuc2lvbnMuRW5hYmxlZExpc3QuZmlyc3QoKVxyXG5cclxuXHRcdHNlbGVjdGVkRXh0Py5UYWJsZUNvbnRlbnRQb3B1bGF0b3JzLmZvckVhY2goKGNhbGxiYWNrID0+IGNvbnRlbnQucHVzaChjYWxsYmFjaykpKVxyXG5cclxuXHRcdC8vIEFjdHVhbGx5IGNyZWF0ZSB0aGUgdGFibGVcclxuXHRcdGxldCB0YWJsZSA9IHRhYmxlQ29udGFpbmVyLmNyZWF0ZUVsKCd0YWJsZScpO1xyXG5cdFx0bGV0IHRoZWFkID0gdGFibGUuY3JlYXRlRWwoJ3RoZWFkJyk7XHJcblx0XHRsZXQgaGVhZGVyc1JvdyA9IHRoZWFkLmNyZWF0ZUVsKCd0cicpO1xyXG5cdFx0Zm9yIChsZXQge3RpdGxlLCBjbGFzc2VzfSBvZiBjb250ZW50KSB7XHJcblx0XHRcdGhlYWRlcnNSb3cuY3JlYXRlRWwoJ3RoJywge3RleHQ6IHRpdGxlLCBjbHM6IGNsYXNzZXN9KTtcclxuXHRcdFx0aGVhZGVyc1Jvdy5hZGRDbGFzc2VzKGNsYXNzZXMpXHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gUG9wdWxhdGUgdGFibGUgd2l0aCByZWNvcmQgcm93c1xyXG5cdFx0bGV0IHRib2R5ID0gdGFibGUuY3JlYXRlRWwoJ3Rib2R5Jyk7XHJcblx0XHRmb3IgKGxldCByZWNvcmQgb2YgU2VydmljZVByb3ZpZGVyLnRhZ1JlY29yZHMuZ2V0VGFncygpKSB7XHJcblx0XHRcdGNvbnN0IHRyID0gdGJvZHkuY3JlYXRlRWwoJ3RyJyk7XHJcblx0XHRcdGZvciAobGV0IHtjYWxsYmFjaywgY2xhc3Nlc30gb2YgY29udGVudCkge1xyXG5cdFx0XHRcdGxldCB0ZCA9IHRyLmNyZWF0ZUVsKCd0ZCcpO1xyXG5cdFx0XHRcdHRkLmFkZENsYXNzZXMoY2xhc3NlcylcclxuXHRcdFx0XHRjYWxsYmFjayh7XHJcblx0XHRcdFx0XHRyZWNvcmQ6IHJlY29yZCxcclxuXHRcdFx0XHRcdHJvd1VwZGF0ZUNhbGxiYWNrOiAoYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuVXBkYXRlUm93KHJlY29yZCwgdHIpXHJcblx0XHRcdFx0XHRcdFx0U2VydmljZVByb3ZpZGVyLmNzc1N0eWxlci5wcm9jZXNzRXh0ZW5zaW9ucygpIC8vIFRoaXMgaXMgc28gd2UgY2FuIHVwZGF0ZSBhbGwgdGhlIHN0eWxpbmcgd2hlbiBzb21ldGhpbmcgY2hhbmdlc1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHQpLFxyXG5cdFx0XHRcdFx0cGFyZW50RWw6IHRkXHJcblx0XHRcdFx0fSlcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0YXdhaXQgdGhpcy5VcGRhdGVSb3cocmVjb3JkLCB0cilcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgZ2V0VGFnUHJldmlld0VscyhyZWNvcmQ6IElDb2xvcmVkVGFnUmVjb3JkKTogeyBiZWdpbjogSFRNTEVsZW1lbnQgfCBudWxsLCBlbmQ6IEhUTUxFbGVtZW50IHwgbnVsbCB9IHtcclxuXHRcdGNvbnN0IGlkcyA9IFNlcnZpY2VQcm92aWRlci50YWdSZWNvcmRzLmdldFRhZ1ByZXZpZXdJZHMocmVjb3JkKVxyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0YmVnaW46IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkcy5iZWdpbiksXHJcblx0XHRcdGVuZDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWRzLmVuZClcclxuXHRcdH1cclxuXHR9XHJcblxyXG59XHJcbiIsICIvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gSW1wb3J0c1xyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuaW1wb3J0IHtUZXh0QXJlYUNvbXBvbmVudH0gZnJvbSBcIm9ic2lkaWFuXCI7XHJcbmltcG9ydCB7VGV4dEFyZWFQcm9wZXJ0aWVzfSBmcm9tIFwic3JjL2NvbnRyYWN0cy9wbHVnaW4vc2VydmljZXMvZXh0ZW5zaW9ucy9FeHRlbnNpb25Qcm9wZXJ0aWVzXCI7XHJcbmltcG9ydCB7SVNldHRpbmdUYWdSZWNvcmRDb21wb25lbnR9IGZyb20gXCJzcmMvY29udHJhY3RzL3BsdWdpbi91aS9jb21wb25lbnRzL3RhZ190YWJsZS9JU2V0dGluZ1RhZ1JlY29yZENvbXBvbmVudFwiO1xyXG5pbXBvcnQge1NlcnZpY2VQcm92aWRlcn0gZnJvbSBcIi4uLy4uLy4uLy4uL3NlcnZpY2VzL1NlcnZpY2VQcm92aWRlclwiO1xyXG5pbXBvcnQge1Jvd0RhdGFUeXBlfSBmcm9tIFwiLi4vLi4vLi4vLi4vLi4vY29udHJhY3RzL3BsdWdpbi91aS9jb21wb25lbnRzL1Jvd0RhdGFUeXBlXCI7XHJcblxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gQ29kZVxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuZXhwb3J0IGNsYXNzIFNldHRpbmdUYWdSZWNvcmRUZXh0QXJlYUNvbXBvbmVudCBleHRlbmRzIFRleHRBcmVhQ29tcG9uZW50IGltcGxlbWVudHMgSVNldHRpbmdUYWdSZWNvcmRDb21wb25lbnQge1xyXG5cdGNvbnN0cnVjdG9yKHJvd0RhdGE6IFJvd0RhdGFUeXBlLCBwcm9wZXJ0eV9uYW1lOiBUZXh0QXJlYVByb3BlcnRpZXMpIHtcclxuXHRcdHN1cGVyKHJvd0RhdGEucGFyZW50RWwpOyAvLyBPYnNpZGlhbidzIHN0dWZmXHJcblxyXG5cdFx0dGhpcy5zZXRWYWx1ZShyb3dEYXRhLnJlY29yZFtwcm9wZXJ0eV9uYW1lXSlcclxuXHRcdHRoaXMub25DaGFuZ2UoYXN5bmMgKG5ld1ZhbHVlKSA9PiB7XHJcblx0XHRcdHRoaXMuaW5wdXRFbC5zdHlsZS5oZWlnaHQgPSAnYXV0byc7IC8vIGVsc2UgaXQganVzdCBrZWVwcyBhZGRpbmcgaGVpZ2h0XHJcblx0XHRcdHRoaXMuaW5wdXRFbC5zdHlsZS5oZWlnaHQgPSB0aGlzLmNhbGNIZWlnaHQoKTtcclxuXHJcblx0XHRcdHJvd0RhdGEucmVjb3JkW3Byb3BlcnR5X25hbWVdID0gbmV3VmFsdWU7XHJcblx0XHRcdGF3YWl0IFNlcnZpY2VQcm92aWRlci50YWdSZWNvcmRzLmFkZE9yVXBkYXRlVGFnKHJvd0RhdGEucmVjb3JkKVxyXG5cdFx0XHRhd2FpdCByb3dEYXRhLnJvd1VwZGF0ZUNhbGxiYWNrKCkgLy8gVXBkYXRlcyB0aGUgcHJldmlldyBlbGVtZW50XHJcblx0XHR9KVxyXG5cclxuXHRcdHRoaXMuaW5wdXRFbC5zdHlsZS5oZWlnaHQgPSB0aGlzLmNhbGNIZWlnaHQoKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgY2FsY0hlaWdodCgpIHtcclxuXHRcdHJldHVybiBgJHt0aGlzLmlucHV0RWwuc2Nyb2xsSGVpZ2h0ICsgNX1weGA7XHJcblx0fVxyXG59XHJcbiIsICIvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gSW1wb3J0c1xyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuaW1wb3J0IHtJU2V0dGluZ3NTZXJ2aWNlfSBmcm9tIFwiLi4vLi4vLi4vY29udHJhY3RzL3BsdWdpbi9zZXJ2aWNlcy9zZXR0aW5ncy9JU2V0dGluZ3NTZXJ2aWNlXCI7XHJcbmltcG9ydCB7SUNvbG9yZWRUYWdXcmFuZ2xlclBsdWdpbn0gZnJvbSBcIi4uLy4uLy4uL2NvbnRyYWN0cy9wbHVnaW4vSUNvbG9yZWRUYWdXcmFuZ2xlclBsdWdpblwiO1xyXG5pbXBvcnQge2RlYm91bmNlLCBEZWJvdW5jZXJ9IGZyb20gXCJvYnNpZGlhblwiO1xyXG5pbXBvcnQge2RlZmF1bHRTZXR0aW5nc30gZnJvbSBcIi4vRGVmYXVsdFNldHRpbmdzXCI7XHJcbmltcG9ydCB7SVBsdWdpblNldHRpbmdzfSBmcm9tIFwiLi4vLi4vLi4vY29udHJhY3RzL3BsdWdpbi9zZXR0aW5ncy9JUGx1Z2luU2V0dGluZ3NcIjtcclxuaW1wb3J0IHtJTWlncmF0b3JTZXJ2aWNlfSBmcm9tIFwiLi4vLi4vLi4vY29udHJhY3RzL3BsdWdpbi9zZXJ2aWNlcy9taWdyYXRvci9JTWlncmF0b3JTZXJ2aWNlXCI7XHJcblxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gQ29kZVxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuZXhwb3J0IGNsYXNzIFNldHRpbmdzU2VydmljZSBpbXBsZW1lbnRzIElTZXR0aW5nc1NlcnZpY2Uge1xyXG5cdHB1YmxpYyBkYXRhOiBJUGx1Z2luU2V0dGluZ3M7XHJcblx0cHVibGljIGRlYm91bmNlU2F2ZVRvRmlsZTogRGVib3VuY2VyPFtdLCBQcm9taXNlPHZvaWQ+PjtcclxuXHRwcml2YXRlIF9wbHVnaW46IElDb2xvcmVkVGFnV3JhbmdsZXJQbHVnaW47XHJcblx0cHJpdmF0ZSBfbWlncmF0b3I6IElNaWdyYXRvclNlcnZpY2U7XHJcblxyXG5cdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblx0Ly8gQ29uc3RydWN0b3JzXHJcblx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHRjb25zdHJ1Y3RvcihwbHVnaW46IElDb2xvcmVkVGFnV3JhbmdsZXJQbHVnaW4sIG1pZ3JhdG9yOiBJTWlncmF0b3JTZXJ2aWNlKSB7XHJcblx0XHR0aGlzLl9wbHVnaW4gPSBwbHVnaW47XHJcblx0XHR0aGlzLl9taWdyYXRvciA9IG1pZ3JhdG9yO1xyXG5cdFx0dGhpcy5kZWJvdW5jZVNhdmVUb0ZpbGUgPSBkZWJvdW5jZSh0aGlzLnNhdmVUb0ZpbGUsIDEwMClcclxuXHR9XHJcblxyXG5cdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblx0Ly8gTWV0aG9kc1xyXG5cdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblx0cHVibGljIGFzeW5jIGxvYWRGcm9tRmlsZSgpIHtcclxuXHRcdGNvbnN0IHRlbXBEYXRhID0gYXdhaXQgdGhpcy5fcGx1Z2luLmxvYWREYXRhKClcclxuXHRcdHRoaXMuZGF0YSA9IE9iamVjdC5hc3NpZ24oXHJcblx0XHRcdHt9LFxyXG5cdFx0XHRkZWZhdWx0U2V0dGluZ3MsXHJcblx0XHRcdGF3YWl0IHRoaXMuX21pZ3JhdG9yLm1pZ3JhdGVEYXRhKHRlbXBEYXRhKVxyXG5cdFx0KTtcclxuXHJcblx0XHR0aGlzLmRlYm91bmNlU2F2ZVRvRmlsZSgpXHJcblx0fVxyXG5cclxuXHRwdWJsaWMgYXN5bmMgc2F2ZVRvRmlsZSgpIHtcclxuXHRcdGF3YWl0IHRoaXMuX3BsdWdpbi5zYXZlRGF0YSh0aGlzLmRhdGEpO1xyXG5cdH1cclxufVxyXG4iLCAiLy8gVW5pcXVlIElEIGNyZWF0aW9uIHJlcXVpcmVzIGEgaGlnaCBxdWFsaXR5IHJhbmRvbSAjIGdlbmVyYXRvci4gSW4gdGhlIGJyb3dzZXIgd2UgdGhlcmVmb3JlXG4vLyByZXF1aXJlIHRoZSBjcnlwdG8gQVBJIGFuZCBkbyBub3Qgc3VwcG9ydCBidWlsdC1pbiBmYWxsYmFjayB0byBsb3dlciBxdWFsaXR5IHJhbmRvbSBudW1iZXJcbi8vIGdlbmVyYXRvcnMgKGxpa2UgTWF0aC5yYW5kb20oKSkuXG5sZXQgZ2V0UmFuZG9tVmFsdWVzO1xuY29uc3Qgcm5kczggPSBuZXcgVWludDhBcnJheSgxNik7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBybmcoKSB7XG4gIC8vIGxhenkgbG9hZCBzbyB0aGF0IGVudmlyb25tZW50cyB0aGF0IG5lZWQgdG8gcG9seWZpbGwgaGF2ZSBhIGNoYW5jZSB0byBkbyBzb1xuICBpZiAoIWdldFJhbmRvbVZhbHVlcykge1xuICAgIC8vIGdldFJhbmRvbVZhbHVlcyBuZWVkcyB0byBiZSBpbnZva2VkIGluIGEgY29udGV4dCB3aGVyZSBcInRoaXNcIiBpcyBhIENyeXB0byBpbXBsZW1lbnRhdGlvbi5cbiAgICBnZXRSYW5kb21WYWx1ZXMgPSB0eXBlb2YgY3J5cHRvICE9PSAndW5kZWZpbmVkJyAmJiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzICYmIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMuYmluZChjcnlwdG8pO1xuXG4gICAgaWYgKCFnZXRSYW5kb21WYWx1ZXMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignY3J5cHRvLmdldFJhbmRvbVZhbHVlcygpIG5vdCBzdXBwb3J0ZWQuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vdXVpZGpzL3V1aWQjZ2V0cmFuZG9tdmFsdWVzLW5vdC1zdXBwb3J0ZWQnKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZ2V0UmFuZG9tVmFsdWVzKHJuZHM4KTtcbn0iLCAiaW1wb3J0IHZhbGlkYXRlIGZyb20gJy4vdmFsaWRhdGUuanMnO1xuLyoqXG4gKiBDb252ZXJ0IGFycmF5IG9mIDE2IGJ5dGUgdmFsdWVzIHRvIFVVSUQgc3RyaW5nIGZvcm1hdCBvZiB0aGUgZm9ybTpcbiAqIFhYWFhYWFhYLVhYWFgtWFhYWC1YWFhYLVhYWFhYWFhYWFhYWFxuICovXG5cbmNvbnN0IGJ5dGVUb0hleCA9IFtdO1xuXG5mb3IgKGxldCBpID0gMDsgaSA8IDI1NjsgKytpKSB7XG4gIGJ5dGVUb0hleC5wdXNoKChpICsgMHgxMDApLnRvU3RyaW5nKDE2KS5zbGljZSgxKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1bnNhZmVTdHJpbmdpZnkoYXJyLCBvZmZzZXQgPSAwKSB7XG4gIC8vIE5vdGU6IEJlIGNhcmVmdWwgZWRpdGluZyB0aGlzIGNvZGUhICBJdCdzIGJlZW4gdHVuZWQgZm9yIHBlcmZvcm1hbmNlXG4gIC8vIGFuZCB3b3JrcyBpbiB3YXlzIHlvdSBtYXkgbm90IGV4cGVjdC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS91dWlkanMvdXVpZC9wdWxsLzQzNFxuICByZXR1cm4gYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAwXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDFdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMl1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAzXV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDRdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgNV1dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA2XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDddXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgOF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA5XV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDEwXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDExXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDEyXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDEzXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDE0XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDE1XV07XG59XG5cbmZ1bmN0aW9uIHN0cmluZ2lmeShhcnIsIG9mZnNldCA9IDApIHtcbiAgY29uc3QgdXVpZCA9IHVuc2FmZVN0cmluZ2lmeShhcnIsIG9mZnNldCk7IC8vIENvbnNpc3RlbmN5IGNoZWNrIGZvciB2YWxpZCBVVUlELiAgSWYgdGhpcyB0aHJvd3MsIGl0J3MgbGlrZWx5IGR1ZSB0byBvbmVcbiAgLy8gb2YgdGhlIGZvbGxvd2luZzpcbiAgLy8gLSBPbmUgb3IgbW9yZSBpbnB1dCBhcnJheSB2YWx1ZXMgZG9uJ3QgbWFwIHRvIGEgaGV4IG9jdGV0IChsZWFkaW5nIHRvXG4gIC8vIFwidW5kZWZpbmVkXCIgaW4gdGhlIHV1aWQpXG4gIC8vIC0gSW52YWxpZCBpbnB1dCB2YWx1ZXMgZm9yIHRoZSBSRkMgYHZlcnNpb25gIG9yIGB2YXJpYW50YCBmaWVsZHNcblxuICBpZiAoIXZhbGlkYXRlKHV1aWQpKSB7XG4gICAgdGhyb3cgVHlwZUVycm9yKCdTdHJpbmdpZmllZCBVVUlEIGlzIGludmFsaWQnKTtcbiAgfVxuXG4gIHJldHVybiB1dWlkO1xufVxuXG5leHBvcnQgZGVmYXVsdCBzdHJpbmdpZnk7IiwgImNvbnN0IHJhbmRvbVVVSUQgPSB0eXBlb2YgY3J5cHRvICE9PSAndW5kZWZpbmVkJyAmJiBjcnlwdG8ucmFuZG9tVVVJRCAmJiBjcnlwdG8ucmFuZG9tVVVJRC5iaW5kKGNyeXB0byk7XG5leHBvcnQgZGVmYXVsdCB7XG4gIHJhbmRvbVVVSURcbn07IiwgImltcG9ydCBuYXRpdmUgZnJvbSAnLi9uYXRpdmUuanMnO1xuaW1wb3J0IHJuZyBmcm9tICcuL3JuZy5qcyc7XG5pbXBvcnQgeyB1bnNhZmVTdHJpbmdpZnkgfSBmcm9tICcuL3N0cmluZ2lmeS5qcyc7XG5cbmZ1bmN0aW9uIHY0KG9wdGlvbnMsIGJ1Ziwgb2Zmc2V0KSB7XG4gIGlmIChuYXRpdmUucmFuZG9tVVVJRCAmJiAhYnVmICYmICFvcHRpb25zKSB7XG4gICAgcmV0dXJuIG5hdGl2ZS5yYW5kb21VVUlEKCk7XG4gIH1cblxuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgY29uc3Qgcm5kcyA9IG9wdGlvbnMucmFuZG9tIHx8IChvcHRpb25zLnJuZyB8fCBybmcpKCk7IC8vIFBlciA0LjQsIHNldCBiaXRzIGZvciB2ZXJzaW9uIGFuZCBgY2xvY2tfc2VxX2hpX2FuZF9yZXNlcnZlZGBcblxuICBybmRzWzZdID0gcm5kc1s2XSAmIDB4MGYgfCAweDQwO1xuICBybmRzWzhdID0gcm5kc1s4XSAmIDB4M2YgfCAweDgwOyAvLyBDb3B5IGJ5dGVzIHRvIGJ1ZmZlciwgaWYgcHJvdmlkZWRcblxuICBpZiAoYnVmKSB7XG4gICAgb2Zmc2V0ID0gb2Zmc2V0IHx8IDA7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDE2OyArK2kpIHtcbiAgICAgIGJ1ZltvZmZzZXQgKyBpXSA9IHJuZHNbaV07XG4gICAgfVxuXG4gICAgcmV0dXJuIGJ1ZjtcbiAgfVxuXG4gIHJldHVybiB1bnNhZmVTdHJpbmdpZnkocm5kcyk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHY0OyIsICIvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gSW1wb3J0c1xyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuaW1wb3J0IHtJU2V0dGluZ3NfdjAwMCwgSVNldHRpbmdzX3YwMDF9IGZyb20gXCIuLi9zZXR0aW5nX3ZlcnNpb25zXCI7XHJcbmltcG9ydCB7djQgYXMgdXVpZDR9IGZyb20gXCJ1dWlkXCI7XHJcbmltcG9ydCB7UkdCfSBmcm9tIFwib2JzaWRpYW5cIjtcclxuXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyBDb2RlXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbWlncmF0ZV8wMF90b18wMShsb2FkZWRfZGF0YTogSVNldHRpbmdzX3YwMDApOiBQcm9taXNlPElTZXR0aW5nc192MDAxPiB7XHJcblx0bGV0IG9yaWdpbmFsX2NvbG9yZWRfdGFnczogUmVjb3JkPHN0cmluZywgeyByOiBudW1iZXI7IGc6IG51bWJlcjsgYjogbnVtYmVyIH0+ID0gbG9hZGVkX2RhdGEuVGFnQ29sb3JzLkNvbG9yUGlja2VyO1xyXG5cdGxldCB0cmFuc2Zvcm1lZENvbG9yZWRUYWdzOiBSZWNvcmQ8c3RyaW5nLCB7IHRhZ19uYW1lOiBzdHJpbmcsIGNvbG9yOiBSR0IgfT4gPSB7fTtcclxuXHJcblx0Zm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMob3JpZ2luYWxfY29sb3JlZF90YWdzKSkge1xyXG5cdFx0Y29uc3Qgb3JpZ2luYWxEYXRhID0gb3JpZ2luYWxfY29sb3JlZF90YWdzW2tleV07XHJcblxyXG5cdFx0Ly8gVHJhbnNmb3JtIHRoZSBkYXRhIGFzIG5lZWRlZFxyXG5cdFx0Ly8gU3RvcmUgdGhlIHRyYW5zZm9ybWVkIGRhdGEgaW4gdGhlIG5ldyBvYmplY3RcclxuXHRcdHRyYW5zZm9ybWVkQ29sb3JlZFRhZ3NbdXVpZDQoKV0gPSB7XHJcblx0XHRcdHRhZ19uYW1lOiBrZXksIC8vIFlvdSBjYW4gc2V0IHRoZSAndGFnX25hbWUnIGFzIHRoZSBrZXlcclxuXHRcdFx0Y29sb3I6IG9yaWdpbmFsRGF0YVxyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdC8vIFJldHVybiB0aGUgdXBkYXRlZCBkYXRhIHdpdGggdGhlIG5ldyBzdHJ1Y3R1cmVcclxuXHRsZXQgdHJhbnNmb3JtZWRfZGF0YSA9IGxvYWRlZF9kYXRhIGFzIHVua25vd24gYXMgSVNldHRpbmdzX3YwMDE7XHJcblx0dHJhbnNmb3JtZWRfZGF0YS5UYWdDb2xvcnMuQ29sb3JQaWNrZXIgPSB0cmFuc2Zvcm1lZENvbG9yZWRUYWdzO1xyXG5cdHRyYW5zZm9ybWVkX2RhdGEuSW5mby5TZXR0aW5nc1ZlcnNpb24gPSAxO1xyXG5cdHJldHVybiB0cmFuc2Zvcm1lZF9kYXRhO1xyXG5cclxufVxyXG4iLCAiLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vIEltcG9ydHNcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbmltcG9ydCB7SVNldHRpbmdzX3YwMDEsIElTZXR0aW5nc192MDAyfSBmcm9tIFwiLi4vc2V0dGluZ192ZXJzaW9uc1wiO1xyXG5pbXBvcnQge3Y0IGFzIHV1aWQ0fSBmcm9tIFwidXVpZFwiO1xyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gQ29kZVxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIG1pZ3JhdGVfMDFfdG9fMDIobG9hZGVkX2RhdGE6IElTZXR0aW5nc192MDAxKTogUHJvbWlzZTxJU2V0dGluZ3NfdjAwMj4ge1xyXG5cdC8vIFVwZGF0ZSBTZW1hbnRpY09ic2lkaWFuQ29sb3JzXHJcblx0bGV0IG9yaWdpbmFsX3NlbWFudGljX3RhZ3M6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSBsb2FkZWRfZGF0YS5UYWdDb2xvcnMuU2VtYW50aWNPYnNpZGlhbkNvbG9ycztcclxuXHRsZXQgdHJhbnNmb3JtZWRfc2VtYW50aWNfdGFnczogUmVjb3JkPHN0cmluZywgeyB0YWdfbmFtZTogc3RyaW5nLCBvYnNpZGlhbl9jc3NfdmFyOiBzdHJpbmcgfT4gPSB7fTtcclxuXHJcblx0Zm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMob3JpZ2luYWxfc2VtYW50aWNfdGFncykpIHtcclxuXHRcdGNvbnN0IG9yaWdpbmFsRGF0YSA9IG9yaWdpbmFsX3NlbWFudGljX3RhZ3Nba2V5XTtcclxuXHJcblx0XHQvLyBUcmFuc2Zvcm0gdGhlIGRhdGEgYXMgbmVlZGVkXHJcblx0XHQvLyBTdG9yZSB0aGUgdHJhbnNmb3JtZWQgZGF0YSBpbiB0aGUgbmV3IG9iamVjdFxyXG5cdFx0dHJhbnNmb3JtZWRfc2VtYW50aWNfdGFnc1t1dWlkNCgpXSA9IHtcclxuXHRcdFx0dGFnX25hbWU6IGtleSwgLy8gWW91IGNhbiBzZXQgdGhlICd0YWdfbmFtZScgYXMgdGhlIGtleVxyXG5cdFx0XHRvYnNpZGlhbl9jc3NfdmFyOiBvcmlnaW5hbERhdGFcclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHQvLyBVcGRhdGUgU2VtYW50aWNPYnNpZGlhbkNvbG9yc1xyXG5cdGxldCBvcmlnaW5hbF9jc3NfdmFyX3RhZ3M6IFJlY29yZDxzdHJpbmcsIHsgY29sb3I6IHN0cmluZywgYmFja2dyb3VuZDogc3RyaW5nIH0+ID0gbG9hZGVkX2RhdGEuVGFnQ29sb3JzLkNzc1ZhcnM7XHJcblx0bGV0IHRyYW5zZm9ybWVkX2Nzc192YXJfdGFnczogUmVjb3JkPHN0cmluZywgeyB0YWdfbmFtZTogc3RyaW5nLCBjb2xvcjogc3RyaW5nLCBiYWNrZ3JvdW5kOiBzdHJpbmcgfT4gPSB7fTtcclxuXHJcblx0Zm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMob3JpZ2luYWxfY3NzX3Zhcl90YWdzKSkge1xyXG5cdFx0Y29uc3Qgb3JpZ2luYWxEYXRhID0gb3JpZ2luYWxfY3NzX3Zhcl90YWdzW2tleV07XHJcblxyXG5cdFx0Ly8gVHJhbnNmb3JtIHRoZSBkYXRhIGFzIG5lZWRlZFxyXG5cdFx0Ly8gU3RvcmUgdGhlIHRyYW5zZm9ybWVkIGRhdGEgaW4gdGhlIG5ldyBvYmplY3RcclxuXHRcdHRyYW5zZm9ybWVkX2Nzc192YXJfdGFnc1t1dWlkNCgpXSA9IHtcclxuXHRcdFx0dGFnX25hbWU6IGtleSwgLy8gWW91IGNhbiBzZXQgdGhlICd0YWdfbmFtZScgYXMgdGhlIGtleVxyXG5cdFx0XHRjb2xvcjogb3JpZ2luYWxEYXRhLmNvbG9yLFxyXG5cdFx0XHRiYWNrZ3JvdW5kOiBvcmlnaW5hbERhdGEuYmFja2dyb3VuZFxyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdC8vIFJldHVybiB0aGUgdXBkYXRlZCBkYXRhIHdpdGggdGhlIG5ldyBzdHJ1Y3R1cmVcclxuXHRsZXQgdHJhbnNmb3JtZWRfZGF0YSA9IGxvYWRlZF9kYXRhIGFzIHVua25vd24gYXMgSVNldHRpbmdzX3YwMDI7XHJcblx0dHJhbnNmb3JtZWRfZGF0YS5UYWdDb2xvcnMuU2VtYW50aWNPYnNpZGlhbkNvbG9ycyA9IHRyYW5zZm9ybWVkX3NlbWFudGljX3RhZ3M7XHJcblx0dHJhbnNmb3JtZWRfZGF0YS5UYWdDb2xvcnMuQ3NzVmFycyA9IHRyYW5zZm9ybWVkX2Nzc192YXJfdGFncztcclxuXHR0cmFuc2Zvcm1lZF9kYXRhLkluZm8uU2V0dGluZ3NWZXJzaW9uID0gMjtcclxuXHRyZXR1cm4gdHJhbnNmb3JtZWRfZGF0YTtcclxuXHJcbn1cclxuIiwgIi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyBJbXBvcnRzXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5pbXBvcnQge0lTZXR0aW5nc192MDAyLCBJU2V0dGluZ3NfdjAwM30gZnJvbSBcIi4uL3NldHRpbmdfdmVyc2lvbnNcIjtcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vIENvZGVcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBtaWdyYXRlXzAyX3RvXzAzKGxvYWRlZF9kYXRhOiBJU2V0dGluZ3NfdjAwMik6IFByb21pc2U8SVNldHRpbmdzX3YwMDM+IHtcclxuXHQvLyBSZXR1cm4gZGF0YSBhcyBpcywgYmVjYXVzZSBzdHJ1Y3R1cmUgd2Fzbid0IGNoYW5nZWQsIGp1c3QgYWRkZWQgdG8uXHJcblx0bGV0IHRyYW5zZm9ybWVkX2RhdGEgPSBsb2FkZWRfZGF0YSBhcyB1bmtub3duIGFzIElTZXR0aW5nc192MDAzO1xyXG5cdHRyYW5zZm9ybWVkX2RhdGEuSW5mby5TZXR0aW5nc1ZlcnNpb24gPSAzO1xyXG5cdHJldHVybiB0cmFuc2Zvcm1lZF9kYXRhO1xyXG5cclxufVxyXG4iLCAiLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vIEltcG9ydHNcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbmltcG9ydCB7SVNldHRpbmdzX3YwMDMsIElTZXR0aW5nc192MDA0fSBmcm9tIFwiLi4vc2V0dGluZ192ZXJzaW9uc1wiO1xyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gQ29kZVxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIG1pZ3JhdGVfMDNfdG9fMDQobG9hZGVkX2RhdGE6IElTZXR0aW5nc192MDAzKTogUHJvbWlzZTxJU2V0dGluZ3NfdjAwND4ge1xyXG5cdGxldCB0cmFuc2Zvcm1lZF9kYXRhID0gbG9hZGVkX2RhdGEgYXMgdW5rbm93biBhcyBJU2V0dGluZ3NfdjAwNDtcclxuXHR0cmFuc2Zvcm1lZF9kYXRhLlRhZ0NvbG9ycyA9IHtcclxuXHRcdENvbG9yUGlja2VyOiBsb2FkZWRfZGF0YS5UYWdDb2xvcnMuQ29sb3JQaWNrZXIsXHJcblx0XHRFbmFibGVNdWx0aXBsZVRhZ3M6IGxvYWRlZF9kYXRhLlRhZ0NvbG9ycy5FbmFibGVNdWx0aXBsZVRhZ3MsXHJcblx0XHRWYWx1ZXM6IGxvYWRlZF9kYXRhLlRhZ0NvbG9ycy5WYWx1ZXNcclxuXHR9XHJcblxyXG5cdHRyYW5zZm9ybWVkX2RhdGEuRm9sZGVyTm90ZS5WYWx1ZXMgPSB7XHJcblx0XHRGb3JjZUltcG9ydGFudDogdHJ1ZSxcclxuXHRcdEJvcmRlclJhZGl1czogXCIxMnB4XCIsXHJcblx0XHRQYWRkaW5nOiBcIjVweFwiLFxyXG5cdH1cclxuXHJcblx0dHJhbnNmb3JtZWRfZGF0YS5JbmZvLlNldHRpbmdzVmVyc2lvbiA9IDQ7XHJcblx0cmV0dXJuIHRyYW5zZm9ybWVkX2RhdGE7XHJcblxyXG59XHJcbiIsICIvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gSW1wb3J0c1xyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuaW1wb3J0IHtJU2V0dGluZ3NfdjAwNCwgSVNldHRpbmdzX3YwMDV9IGZyb20gXCIuLi9zZXR0aW5nX3ZlcnNpb25zXCI7XHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyBDb2RlXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbWlncmF0ZV8wNF90b18wNShsb2FkZWRfZGF0YTogSVNldHRpbmdzX3YwMDQpOiBQcm9taXNlPElTZXR0aW5nc192MDA1PiB7XHJcblx0bGV0IHRyYW5zZm9ybWVkX2RhdGEgPSBsb2FkZWRfZGF0YSBhcyB1bmtub3duIGFzIElTZXR0aW5nc192MDA1O1xyXG5cclxuXHRmb3IgKGNvbnN0IHRhZ1VVSUQgb2YgT2JqZWN0LmtleXMobG9hZGVkX2RhdGEuVGFnQ29sb3JzLkNvbG9yUGlja2VyKSkge1xyXG5cdFx0dHJhbnNmb3JtZWRfZGF0YS5UYWdDb2xvcnMuQ29sb3JQaWNrZXJbdGFnVVVJRF0gPSB7XHJcblx0XHRcdHRhZ19uYW1lOiBsb2FkZWRfZGF0YS5UYWdDb2xvcnMuQ29sb3JQaWNrZXJbdGFnVVVJRF0udGFnX25hbWUsXHJcblx0XHRcdGNvbG9yOiBsb2FkZWRfZGF0YS5UYWdDb2xvcnMuQ29sb3JQaWNrZXJbdGFnVVVJRF0uY29sb3IsXHJcblx0XHRcdGJhY2tncm91bmRfY29sb3I6IGxvYWRlZF9kYXRhLlRhZ0NvbG9ycy5Db2xvclBpY2tlclt0YWdVVUlEXS5jb2xvcixcclxuXHRcdFx0YmFja2dyb3VuZF9vcGFjaXR5OiAwLjIsXHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHR0cmFuc2Zvcm1lZF9kYXRhLkluZm8uU2V0dGluZ3NWZXJzaW9uID0gNTtcclxuXHRyZXR1cm4gdHJhbnNmb3JtZWRfZGF0YSBhcyB1bmtub3duIGFzIElTZXR0aW5nc192MDA1O1xyXG5cclxufVxyXG4iLCAiLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vIEltcG9ydHNcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbmltcG9ydCB7SVNldHRpbmdzX3YwMDUsIElTZXR0aW5nc192MDA2fSBmcm9tIFwiLi4vc2V0dGluZ192ZXJzaW9uc1wiO1xyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gQ29kZVxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIG1pZ3JhdGVfMDVfdG9fMDYobG9hZGVkX2RhdGE6IElTZXR0aW5nc192MDA1KTogUHJvbWlzZTxJU2V0dGluZ3NfdjAwNj4ge1xyXG5cdGxldCB0cmFuc2Zvcm1lZF9kYXRhID0gbG9hZGVkX2RhdGEgYXMgdW5rbm93biBhcyBJU2V0dGluZ3NfdjAwNjtcclxuXHJcblx0Ly8gRml4ZXMgbWlzdGFrZVxyXG5cdHRyYW5zZm9ybWVkX2RhdGEuS2FuYmFuLkhpZGVIYXNodGFncyA9IGxvYWRlZF9kYXRhLkthbmJhbi5FbmFibGVcclxuXHJcblx0dHJhbnNmb3JtZWRfZGF0YS5JbmZvLlNldHRpbmdzVmVyc2lvbiA9IDY7XHJcblx0cmV0dXJuIHRyYW5zZm9ybWVkX2RhdGE7XHJcblxyXG59XHJcbiIsICIvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gSW1wb3J0c1xyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuaW1wb3J0IHtSR0IsIEhTTH0gZnJvbSBcIm9ic2lkaWFuXCI7XHJcbmltcG9ydCB7UkdCYX0gZnJvbSBcIi5vbGQvYXBpL2ludGVyZmFjZXMvcmdiYVwiO1xyXG5cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vIENvZGVcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbmV4cG9ydCBmdW5jdGlvbiBoZXhUb1JnYihoZXhDb2xvcjogc3RyaW5nKTogUkdCIHtcclxuXHRjb25zdCBoZXggPSBoZXhDb2xvci5yZXBsYWNlKFwiI1wiLCBcIlwiKTtcclxuXHRyZXR1cm4ge1xyXG5cdFx0cjogcGFyc2VJbnQoaGV4LnNsaWNlKDAsIDIpLCAxNiksXHJcblx0XHRnOiBwYXJzZUludChoZXguc2xpY2UoMiwgNCksIDE2KSxcclxuXHRcdGI6IHBhcnNlSW50KGhleC5zbGljZSg0LCA2KSwgMTYpXHJcblx0fVxyXG59XHJcblxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuZXhwb3J0IGZ1bmN0aW9uIHJnYlRvSGV4KHJnYjogUkdCKTogc3RyaW5nIHtcclxuXHRjb25zdCB0b0hleCA9IChjOiBudW1iZXIpID0+IGMudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcclxuXHRyZXR1cm4gYCMke3RvSGV4KHJnYi5yKX0ke3RvSGV4KHJnYi5nKX0ke3RvSGV4KHJnYi5iKX1gO1xyXG59XHJcblxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuZXhwb3J0IGZ1bmN0aW9uIHJnYlRvSHNsKHJnYjogUkdCKTogSFNMIHtcclxuXHQvLyBOb3JtYWxpemUgUkdCIHZhbHVlcyB0byB0aGUgcmFuZ2UgWzAsIDFdXHJcblx0Y29uc3QgciA9IHJnYi5yIC8gMjU1O1xyXG5cdGNvbnN0IGcgPSByZ2IuZyAvIDI1NTtcclxuXHRjb25zdCBiID0gcmdiLmIgLyAyNTU7XHJcblxyXG5cdC8vIEZpbmQgdGhlIG1heGltdW0gYW5kIG1pbmltdW0gdmFsdWVzIGFtb25nIFIsIEcsIGFuZCBCXHJcblx0Y29uc3QgbWF4ID0gTWF0aC5tYXgociwgZywgYik7XHJcblx0Y29uc3QgbWluID0gTWF0aC5taW4ociwgZywgYik7XHJcblxyXG5cdC8vIENhbGN1bGF0ZSB0aGUgbGlnaHRuZXNzIChMKVxyXG5cdGNvbnN0IGwgPSAobWF4ICsgbWluKSAvIDI7XHJcblxyXG5cdGxldCBoID0gMDtcclxuXHRsZXQgcyA9IDA7XHJcblxyXG5cdGlmIChtYXggIT09IG1pbikge1xyXG5cdFx0Ly8gQ2FsY3VsYXRlIHRoZSBzYXR1cmF0aW9uIChTKVxyXG5cdFx0cyA9IGwgPiAwLjUgPyAobWF4IC0gbWluKSAvICgyIC0gbWF4IC0gbWluKSA6IChtYXggLSBtaW4pIC8gKG1heCArIG1pbik7XHJcblxyXG5cdFx0Ly8gQ2FsY3VsYXRlIHRoZSBodWUgKEgpXHJcblx0XHRpZiAobWF4ID09PSByKSB7XHJcblx0XHRcdGggPSAoNjAgKiAoKGcgLSBiKSAvIChtYXggLSBtaW4pKSArIDM2MCkgJSAzNjA7XHJcblx0XHR9IGVsc2UgaWYgKG1heCA9PT0gZykge1xyXG5cdFx0XHRoID0gNjAgKiAoKGIgLSByKSAvIChtYXggLSBtaW4pKSArIDEyMDtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGggPSA2MCAqICgociAtIGcpIC8gKG1heCAtIG1pbikpICsgMjQwO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cmV0dXJuIHtoLCBzLCBsfTtcclxufVxyXG5cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbmV4cG9ydCBmdW5jdGlvbiBoc2xUb1JnYihoc2w6IHsgaDogbnVtYmVyOyBzOiBudW1iZXI7IGw6IG51bWJlciB9KTogUkdCIHtcclxuXHRjb25zdCB7aCwgcywgbH0gPSBoc2w7XHJcblxyXG5cdC8vIEVuc3VyZSB0aGUgaHVlIGlzIHdpdGhpbiB0aGUgcmFuZ2UgWzAsIDM2MF1cclxuXHRjb25zdCBub3JtYWxpemVkSHVlID0gKGggJSAzNjAgKyAzNjApICUgMzYwO1xyXG5cclxuXHQvLyBDb252ZXJ0IHRoZSBzYXR1cmF0aW9uIGFuZCBsaWdodG5lc3MgdG8gdGhlIFswLCAxXSByYW5nZVxyXG5cdGNvbnN0IG5vcm1hbGl6ZWRTYXR1cmF0aW9uID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgcykpO1xyXG5cdGNvbnN0IG5vcm1hbGl6ZWRMaWdodG5lc3MgPSBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCBsKSk7XHJcblxyXG5cdGNvbnN0IGNocm9tYSA9ICgxIC0gTWF0aC5hYnMoMiAqIG5vcm1hbGl6ZWRMaWdodG5lc3MgLSAxKSkgKiBub3JtYWxpemVkU2F0dXJhdGlvbjtcclxuXHRjb25zdCB4ID0gY2hyb21hICogKDEgLSBNYXRoLmFicygoKG5vcm1hbGl6ZWRIdWUgLyA2MCkgJSAyKSAtIDEpKTtcclxuXHRjb25zdCBtID0gbm9ybWFsaXplZExpZ2h0bmVzcyAtIGNocm9tYSAvIDI7XHJcblxyXG5cdGxldCByID0gMCwgZyA9IDAsIGIgPSAwO1xyXG5cclxuXHRpZiAobm9ybWFsaXplZEh1ZSA+PSAwICYmIG5vcm1hbGl6ZWRIdWUgPCA2MCkge1xyXG5cdFx0ciA9IGNocm9tYTtcclxuXHRcdGcgPSB4O1xyXG5cdH0gZWxzZSBpZiAobm9ybWFsaXplZEh1ZSA+PSA2MCAmJiBub3JtYWxpemVkSHVlIDwgMTIwKSB7XHJcblx0XHRyID0geDtcclxuXHRcdGcgPSBjaHJvbWE7XHJcblx0fSBlbHNlIGlmIChub3JtYWxpemVkSHVlID49IDEyMCAmJiBub3JtYWxpemVkSHVlIDwgMTgwKSB7XHJcblx0XHRnID0gY2hyb21hO1xyXG5cdFx0YiA9IHg7XHJcblx0fSBlbHNlIGlmIChub3JtYWxpemVkSHVlID49IDE4MCAmJiBub3JtYWxpemVkSHVlIDwgMjQwKSB7XHJcblx0XHRnID0geDtcclxuXHRcdGIgPSBjaHJvbWE7XHJcblx0fSBlbHNlIGlmIChub3JtYWxpemVkSHVlID49IDI0MCAmJiBub3JtYWxpemVkSHVlIDwgMzAwKSB7XHJcblx0XHRyID0geDtcclxuXHRcdGIgPSBjaHJvbWE7XHJcblx0fSBlbHNlIHtcclxuXHRcdHIgPSBjaHJvbWE7XHJcblx0XHRiID0geDtcclxuXHR9XHJcblxyXG5cdHIgPSBNYXRoLnJvdW5kKChyICsgbSkgKiAyNTUpO1xyXG5cdGcgPSBNYXRoLnJvdW5kKChnICsgbSkgKiAyNTUpO1xyXG5cdGIgPSBNYXRoLnJvdW5kKChiICsgbSkgKiAyNTUpO1xyXG5cclxuXHRyZXR1cm4ge3IsIGcsIGJ9O1xyXG59XHJcblxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuZXhwb3J0IGZ1bmN0aW9uIGhleFRvUkdCQShoZXg6IHN0cmluZywgYWxwaGE6IG51bWJlcik6IHN0cmluZyB7XHJcblx0Ly8gUmVtb3ZlIHRoZSBoYXNoICgjKSBmcm9tIHRoZSBiZWdpbm5pbmcgb2YgdGhlIEhFWCBzdHJpbmdcclxuXHRoZXggPSBoZXgucmVwbGFjZSgvXiMvLCAnJyk7XHJcblxyXG5cdC8vIEVuc3VyZSB0aGUgYWxwaGEgdmFsdWUgaXMgYmV0d2VlbiAwIGFuZCAxXHJcblx0aWYgKGFscGhhIDwgMCkgYWxwaGEgPSAwO1xyXG5cdGlmIChhbHBoYSA+IDEpIGFscGhhID0gMTtcclxuXHJcblx0Ly8gUGFyc2UgdGhlIEhFWCB2YWx1ZXMgaW50byBzZXBhcmF0ZSByZWQsIGdyZWVuLCBhbmQgYmx1ZSBjb21wb25lbnRzXHJcblx0Y29uc3QgciA9IHBhcnNlSW50KGhleC5zdWJzdHJpbmcoMCwgMiksIDE2KTtcclxuXHRjb25zdCBnID0gcGFyc2VJbnQoaGV4LnN1YnN0cmluZygyLCA0KSwgMTYpO1xyXG5cdGNvbnN0IGIgPSBwYXJzZUludChoZXguc3Vic3RyaW5nKDQsIDYpLCAxNik7XHJcblxyXG5cdC8vIENvbnZlcnQgdGhlIFJHQiB2YWx1ZXMgYW5kIGFscGhhIHRvIHRoZSByZ2JhIGZvcm1hdFxyXG5cdHJldHVybiBgcmdiYSgke3J9LCAke2d9LCAke2J9LCAke2FscGhhfSlgO1xyXG59XHJcblxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuZXhwb3J0IGZ1bmN0aW9uIHN0cmluZ1RvSHNsKHR4dDogc3RyaW5nKTogSFNMIHtcclxuXHRjb25zdCBoc2xBcnJheSA9IHR4dFxyXG5cdFx0LnJlcGxhY2UoXCJoc2woXCIsIFwiXCIpXHJcblx0XHQucmVwbGFjZShcIilcIiwgXCJcIilcclxuXHRcdC5zcGxpdChcIixcIilcclxuXHRcdC5tYXAodiA9PiB2LnRyaW0oKSlcclxuXHRyZXR1cm4ge1xyXG5cdFx0aDogTnVtYmVyKGhzbEFycmF5WzBdKSxcclxuXHRcdHM6IGhzbEFycmF5WzFdLmVuZHNXaXRoKFwiJVwiKVxyXG5cdFx0XHQ/IChOdW1iZXIoaHNsQXJyYXlbMV0ucmVwbGFjZShcIiVcIiwgXCJcIikpIC8gMTAwKVxyXG5cdFx0XHQ6IChOdW1iZXIoaHNsQXJyYXlbMV0pKSxcclxuXHRcdGw6IGhzbEFycmF5WzJdLmVuZHNXaXRoKFwiJVwiKVxyXG5cdFx0XHQ/IChOdW1iZXIoaHNsQXJyYXlbMl0ucmVwbGFjZShcIiVcIiwgXCJcIikpIC8gMTAwKVxyXG5cdFx0XHQ6IChOdW1iZXIoaHNsQXJyYXlbMl0pKSxcclxuXHR9XHJcbn1cclxuXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5leHBvcnQgZnVuY3Rpb24gc3RyaW5nVG9SZ2IodHh0OiBzdHJpbmcpOiBSR0Ige1xyXG5cdGNvbnN0IHRleHRBcnJheSA9IHR4dFxyXG5cdFx0LnJlcGxhY2UoXCJyZ2IoXCIsIFwiXCIpXHJcblx0XHQucmVwbGFjZShcIilcIiwgXCJcIilcclxuXHRcdC5zcGxpdChcIixcIilcclxuXHRcdC5tYXAodiA9PiB2LnRyaW0oKSlcclxuXHRyZXR1cm4ge1xyXG5cdFx0cjogTnVtYmVyKHRleHRBcnJheVswXSksXHJcblx0XHRnOiBOdW1iZXIodGV4dEFycmF5WzFdKSxcclxuXHRcdGI6IE51bWJlcih0ZXh0QXJyYXlbMl0pLFxyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHN0cmluZ1RvUmdiYSh0eHQ6IFN0cmluZyk6IFJHQmEge1xyXG5cdGNvbnN0IHRleHRBcnJheSA9IHR4dFxyXG5cdFx0LnJlcGxhY2UoXCJyZ2JhKFwiLCBcIlwiKVxyXG5cdFx0LnJlcGxhY2UoXCIpXCIsIFwiXCIpXHJcblx0XHQuc3BsaXQoXCIsXCIpXHJcblx0XHQubWFwKHYgPT4gdi50cmltKCkpXHJcblx0cmV0dXJuIHtcclxuXHRcdHI6IE51bWJlcih0ZXh0QXJyYXlbMF0pLFxyXG5cdFx0ZzogTnVtYmVyKHRleHRBcnJheVsxXSksXHJcblx0XHRiOiBOdW1iZXIodGV4dEFycmF5WzJdKSxcclxuXHRcdGE6IE51bWJlcih0ZXh0QXJyYXlbM10pXHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmdiVG9TdHJpbmcoY29sb3I6IFJHQik6IHN0cmluZyB7XHJcblx0cmV0dXJuIGByZ2IoJHtjb2xvci5yfSwgJHtjb2xvci5nfSwgJHtjb2xvci5ifSlgXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByZ2JhVG9TdHJpbmcoY29sb3I6IFJHQmEpOiBzdHJpbmcge1xyXG5cdHJldHVybiBgcmdiYSgke2NvbG9yLnJ9LCAke2NvbG9yLmd9LCAke2NvbG9yLmJ9LCAke2NvbG9yLmF9KWBcclxufVxyXG5cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRDb250cmFzdENvbG9yKHJnYjogUkdCKTogUkdCIHtcclxuXHQvLyBDYWxjdWxhdGUgdGhlIGJyaWdodG5lc3Mgb2YgdGhlIGZvcmVncm91bmQgY29sb3IgKHNpbXBsZSBhcHByb3hpbWF0aW9uKVxyXG5cdGxldCBicmlnaHRuZXNzID0gKHJnYi5yICogMjk5ICsgcmdiLmcgKiA1ODcgKyByZ2IuYiAqIDExNCkgLyAxMDAwO1xyXG5cdC8vIElmIHRoZSBmb3JlZ3JvdW5kIGlzIGJyaWdodCwgdXNlIGJsYWNrOyBvdGhlcndpc2UgdXNlIHdoaXRlXHJcblx0cmV0dXJuIGJyaWdodG5lc3MgPiAxMjggPyB7cjogMCwgZzogMCwgYjogMH0gOiB7cjogMjU1LCBnOiAyNTUsIGI6IDI1NX07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRDb250cmFzdEJvb2wocmdiOiBSR0IpOiBib29sZWFuIHtcclxuXHRyZXR1cm4gZ2V0Q29udHJhc3RDb2xvcihyZ2IpLnIgPT09IDBcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIGNsYW1wKHZhbHVlOiBudW1iZXIsIG1pbjogbnVtYmVyLCBtYXg6IG51bWJlcikge1xyXG5cdHJldHVybiBNYXRoLm1pbihNYXRoLm1heCh2YWx1ZSwgbWluKSwgbWF4KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGFkanVzdEJyaWdodG5lc3MocmdiOiBSR0IsIGZhY3RvcjogbnVtYmVyKTogUkdCIHtcclxuXHRjb25zdCByID0gcmdiLnIgLyAyNTUsIGcgPSByZ2IuZyAvIDI1NSwgYiA9IHJnYi5iIC8gMjU1O1xyXG5cclxuXHRjb25zdCBtYXggPSBNYXRoLm1heChyLCBnLCBiKSwgbWluID0gTWF0aC5taW4ociwgZywgYik7XHJcblx0bGV0IGggPSAwLCBzID0gMCwgbCA9IChtYXggKyBtaW4pIC8gMjtcclxuXHJcblx0aWYgKG1heCAhPT0gbWluKSB7XHJcblx0XHRjb25zdCBkID0gbWF4IC0gbWluO1xyXG5cdFx0cyA9IGwgPiAwLjUgPyBkIC8gKDIgLSBtYXggLSBtaW4pIDogZCAvIChtYXggKyBtaW4pO1xyXG5cdFx0c3dpdGNoIChtYXgpIHtcclxuXHRcdFx0Y2FzZSByOlxyXG5cdFx0XHRcdGggPSAoZyAtIGIpIC8gZCArIChnIDwgYiA/IDYgOiAwKTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0Y2FzZSBnOlxyXG5cdFx0XHRcdGggPSAoYiAtIHIpIC8gZCArIDI7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UgYjpcclxuXHRcdFx0XHRoID0gKHIgLSBnKSAvIGQgKyA0O1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0fVxyXG5cdFx0aCAvPSA2O1xyXG5cdH1cclxuXHJcblx0bCA9IGNsYW1wKGwgKiBmYWN0b3IsIDAsIDEpO1xyXG5cclxuXHRsZXQgcjE6IG51bWJlciwgZzE6IG51bWJlciwgYjE6IG51bWJlcjtcclxuXHRpZiAocyA9PT0gMCkge1xyXG5cdFx0cjEgPSBnMSA9IGIxID0gbDtcclxuXHR9IGVsc2Uge1xyXG5cdFx0Y29uc3QgcSA9IGwgPCAwLjUgPyBsICogKDEgKyBzKSA6IGwgKyBzIC0gbCAqIHM7XHJcblx0XHRjb25zdCBwID0gMiAqIGwgLSBxO1xyXG5cdFx0cjEgPSBodWUycmdiKHAsIHEsIGggKyAxIC8gMyk7XHJcblx0XHRnMSA9IGh1ZTJyZ2IocCwgcSwgaCk7XHJcblx0XHRiMSA9IGh1ZTJyZ2IocCwgcSwgaCAtIDEgLyAzKTtcclxuXHR9XHJcblxyXG5cdHJldHVybiB7XHJcblx0XHRyOiBjbGFtcChNYXRoLnJvdW5kKHIxICogMjU1KSwgMCwgMjU1KSxcclxuXHRcdGc6IGNsYW1wKE1hdGgucm91bmQoZzEgKiAyNTUpLCAwLCAyNTUpLFxyXG5cdFx0YjogY2xhbXAoTWF0aC5yb3VuZChiMSAqIDI1NSksIDAsIDI1NSlcclxuXHR9O1xyXG5cclxuXHRmdW5jdGlvbiBodWUycmdiKHA6IG51bWJlciwgcTogbnVtYmVyLCB0OiBudW1iZXIpOiBudW1iZXIge1xyXG5cdFx0aWYgKHQgPCAwKSB0ICs9IDE7XHJcblx0XHRpZiAodCA+IDEpIHQgLT0gMTtcclxuXHRcdGlmICh0IDwgMSAvIDYpIHJldHVybiBjbGFtcChwICsgKHEgLSBwKSAqIDYgKiB0LCAwLCAxKTtcclxuXHRcdGlmICh0IDwgMSAvIDIpIHJldHVybiBjbGFtcChxLCAwLCAxKTtcclxuXHRcdGlmICh0IDwgMiAvIDMpIHJldHVybiBjbGFtcChwICsgKHEgLSBwKSAqICgyIC8gMyAtIHQpICogNiwgMCwgMSk7XHJcblx0XHRyZXR1cm4gY2xhbXAocCwgMCwgMSk7XHJcblx0fVxyXG59XHJcbiIsICIvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gSW1wb3J0c1xyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuaW1wb3J0IHtJU2V0dGluZ3NfdjAwNiwgSVNldHRpbmdzX3YwMDd9IGZyb20gXCIuLi9zZXR0aW5nX3ZlcnNpb25zXCI7XHJcbmltcG9ydCB7UkdCfSBmcm9tIFwib2JzaWRpYW5cIjtcclxuaW1wb3J0IHtoc2xUb1JnYiwgcmdiVG9Ic2x9IGZyb20gXCIub2xkL2FwaS9Db2xvckNvbnZlcnRlcnNcIjtcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vIENvZGVcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBtaWdyYXRlXzA2X3RvXzA3KGxvYWRlZF9kYXRhOiBJU2V0dGluZ3NfdjAwNik6IFByb21pc2U8SVNldHRpbmdzX3YwMDc+IHtcclxuXHRsZXQgdHJhbnNmb3JtZWRfZGF0YSA9IGxvYWRlZF9kYXRhIGFzIHVua25vd24gYXMgSVNldHRpbmdzX3YwMDc7XHJcblx0dHJhbnNmb3JtZWRfZGF0YS5UYWdDb2xvcnMuVmFsdWVzLkx1bWluYW5jZU9mZnNldCA9IDAuMTU7XHJcblx0dHJhbnNmb3JtZWRfZGF0YS5UYWdDb2xvcnMuRW5hYmxlU2VwYXJhdGVMdW1pbmFuY2VPZmZzZXQgPSBmYWxzZTtcclxuXHR0cmFuc2Zvcm1lZF9kYXRhLlRhZ0NvbG9ycy5FbmFibGVEYXJrTGlnaHREaWZmZXJlbmNlID0gdHJ1ZTtcclxuXHR0cmFuc2Zvcm1lZF9kYXRhLlRhZ0NvbG9ycy5FbmFibGVCYWNrZ3JvdW5kT3BhY2l0eSA9IGZhbHNlO1xyXG5cdHRyYW5zZm9ybWVkX2RhdGEuVGFnQ29sb3JzLlZhbHVlcy5CYWNrZ3JvdW5kT3BhY2l0eSA9IDAuMjtcclxuXHJcblx0Ly8gRml4ZXMgbWlzdGFrZVxyXG5cdGZvciAoY29uc3QgdGFnVVVJRCBvZiBPYmplY3Qua2V5cyhsb2FkZWRfZGF0YS5UYWdDb2xvcnMuQ29sb3JQaWNrZXIpKSB7XHJcblx0XHRsZXQgb2xkX3JlY29yZCA9IGxvYWRlZF9kYXRhLlRhZ0NvbG9ycy5Db2xvclBpY2tlclt0YWdVVUlEXTtcclxuXHRcdHRyYW5zZm9ybWVkX2RhdGEuVGFnQ29sb3JzLkNvbG9yUGlja2VyW3RhZ1VVSURdID0ge1xyXG5cdFx0XHR0YWdfbmFtZTogb2xkX3JlY29yZC50YWdfbmFtZSxcclxuXHRcdFx0Y29sb3I6IG9sZF9yZWNvcmQuY29sb3IsXHJcblx0XHRcdGJhY2tncm91bmRfY29sb3I6IGNoZWNrQ29sb3Iob2xkX3JlY29yZC5iYWNrZ3JvdW5kX2NvbG9yLCBvbGRfcmVjb3JkLmNvbG9yKVxyXG5cdFx0XHRcdD8gY2FsbGJhY2tfZml4X2JhY2tncm91bmQob2xkX3JlY29yZC5iYWNrZ3JvdW5kX2NvbG9yLCB0cmFuc2Zvcm1lZF9kYXRhLlRhZ0NvbG9ycy5WYWx1ZXMuTHVtaW5hbmNlT2Zmc2V0KVxyXG5cdFx0XHRcdDogb2xkX3JlY29yZC5iYWNrZ3JvdW5kX2NvbG9yLFxyXG5cdFx0XHRsdW1pbmFuY2Vfb2Zmc2V0OiB0cmFuc2Zvcm1lZF9kYXRhLlRhZ0NvbG9ycy5WYWx1ZXMuTHVtaW5hbmNlT2Zmc2V0LFxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0dHJhbnNmb3JtZWRfZGF0YS5JbmZvLlNldHRpbmdzVmVyc2lvbiA9IDc7XHJcblx0cmV0dXJuIHRyYW5zZm9ybWVkX2RhdGEgYXMgdW5rbm93biBhcyBJU2V0dGluZ3NfdjAwNztcclxufVxyXG5cclxuZnVuY3Rpb24gY2hlY2tDb2xvcihjb2xvcjogUkdCLCBiYWNrZ3JvdW5kOiBSR0IpOiBib29sZWFuIHtcclxuXHRyZXR1cm4gKFxyXG5cdFx0Y29sb3IuciA9PT0gYmFja2dyb3VuZC5yXHJcblx0XHQmJiBjb2xvci5nID09PSBiYWNrZ3JvdW5kLmdcclxuXHRcdCYmIGNvbG9yLmIgPT09IGJhY2tncm91bmQuYlxyXG5cdClcclxufVxyXG5cclxuZnVuY3Rpb24gY2FsbGJhY2tfZml4X2JhY2tncm91bmQoYmFja2dyb3VuZDogUkdCLCBsdW1pbmFuY2Vfb2Zmc2V0OiBudW1iZXIpOiBSR0Ige1xyXG5cdGxldCBiYWNrZ3JvdW5kX2hzbCA9IHJnYlRvSHNsKGJhY2tncm91bmQpXHJcblx0YmFja2dyb3VuZF9oc2wubCAtPSBsdW1pbmFuY2Vfb2Zmc2V0XHJcblx0cmV0dXJuIGhzbFRvUmdiKGJhY2tncm91bmRfaHNsKVxyXG59XHJcbiIsICIvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gSW1wb3J0c1xyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuaW1wb3J0IHtJU2V0dGluZ3NfdjAwNywgSVNldHRpbmdzX3YwMDh9IGZyb20gXCIuLi9zZXR0aW5nX3ZlcnNpb25zXCI7XHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyBDb2RlXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbWlncmF0ZV8wN190b18wOChsb2FkZWRfZGF0YTogSVNldHRpbmdzX3YwMDcpOiBQcm9taXNlPElTZXR0aW5nc192MDA4PiB7XHJcblx0bGV0IHRyYW5zZm9ybWVkX2RhdGEgPSBsb2FkZWRfZGF0YSBhcyB1bmtub3duIGFzIElTZXR0aW5nc192MDA4O1xyXG5cdHRyYW5zZm9ybWVkX2RhdGEuRm9sZGVyTm90ZS5FbmFibGVBdXRvRGV0ZWN0ID0gdHJ1ZTtcclxuXHR0cmFuc2Zvcm1lZF9kYXRhLkluZm8uU2V0dGluZ3NWZXJzaW9uID0gODtcclxuXHRyZXR1cm4gdHJhbnNmb3JtZWRfZGF0YSBhcyB1bmtub3duIGFzIElTZXR0aW5nc192MDA4O1xyXG5cclxufVxyXG4iLCAiLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vIEltcG9ydHNcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbmltcG9ydCB7SVNldHRpbmdzX3YwMDgsIElTZXR0aW5nc192MDA5fSBmcm9tIFwiLi4vc2V0dGluZ192ZXJzaW9uc1wiO1xyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gQ29kZVxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIG1pZ3JhdGVfMDhfdG9fMDkobG9hZGVkX2RhdGE6IElTZXR0aW5nc192MDA4KTogUHJvbWlzZTxJU2V0dGluZ3NfdjAwOT4ge1xyXG5cdGxldCB0cmFuc2Zvcm1lZF9kYXRhID0gbG9hZGVkX2RhdGEgYXMgdW5rbm93biBhcyBJU2V0dGluZ3NfdjAwOTtcclxuXHR0cmFuc2Zvcm1lZF9kYXRhLkNTUyA9IHtcclxuXHRcdEVuYWJsZTogZmFsc2UsXHJcblx0XHRUYWdzTm9XcmFwOiBmYWxzZSxcclxuXHRcdFRhZ3NOb1dyYXBUZXh0OiBcInByZVwiLFxyXG5cdH07XHJcblx0dHJhbnNmb3JtZWRfZGF0YS5JbmZvLlNldHRpbmdzVmVyc2lvbiA9IDk7XHJcblx0cmV0dXJuIHRyYW5zZm9ybWVkX2RhdGEgYXMgdW5rbm93biBhcyBJU2V0dGluZ3NfdjAwOTtcclxuXHJcbn1cclxuIiwgIi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyBJbXBvcnRzXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5pbXBvcnQge0lTZXR0aW5nc192MDA5LCBJU2V0dGluZ3NfdjAxMH0gZnJvbSBcIi4uL3NldHRpbmdfdmVyc2lvbnNcIjtcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vIENvZGVcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBtaWdyYXRlXzA5X3RvXzEwKGxvYWRlZF9kYXRhOiBJU2V0dGluZ3NfdjAwOSk6IFByb21pc2U8SVNldHRpbmdzX3YwMTA+IHtcclxuXHRjb25zdCB0ZW1wX2RhdGE6IGFueSA9IGxvYWRlZF9kYXRhO1xyXG5cdGRlbGV0ZSB0ZW1wX2RhdGEuQ1NTLkVuYWJsZTsgLy8gQ1NTIGlzIGFsd2F5cyBlbmFibGVkIGluIHNvbWUgd2F5IG9yIGFub3RoZXIuXHJcblxyXG5cdGxldCB0cmFuc2Zvcm1lZF9kYXRhID0gdGVtcF9kYXRhIGFzIElTZXR0aW5nc192MDEwO1xyXG5cclxuXHR0cmFuc2Zvcm1lZF9kYXRhLkNTUy5Ob3RlVGFncyA9IHRydWU7XHJcblx0dHJhbnNmb3JtZWRfZGF0YS5DU1MuTm90ZUJhY2tncm91bmRzID0gZmFsc2U7XHJcblx0dHJhbnNmb3JtZWRfZGF0YS5DU1MuTm90ZVByb3BlcnRpZXMgPSB0cnVlO1xyXG5cclxuXHR0cmFuc2Zvcm1lZF9kYXRhLkluZm8uU2V0dGluZ3NWZXJzaW9uID0gMTA7XHJcblx0cmV0dXJuIHRyYW5zZm9ybWVkX2RhdGEgYXMgdW5rbm93biBhcyBJU2V0dGluZ3NfdjAxMDtcclxuXHJcbn1cclxuIiwgIi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyBJbXBvcnRzXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5pbXBvcnQge0lTZXR0aW5nc192MDEwLCBJU2V0dGluZ3NfdjAxMX0gZnJvbSBcIi4uL3NldHRpbmdfdmVyc2lvbnNcIjtcclxuXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyBDb2RlXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbWlncmF0ZV8xMF90b18xMShsb2FkZWRfZGF0YTogSVNldHRpbmdzX3YwMTApOiBQcm9taXNlPElTZXR0aW5nc192MDExPiB7XHJcblx0bGV0IHRyYW5zZm9ybWVkX2RhdGEgPSBsb2FkZWRfZGF0YSBhcyB1bmtub3duIGFzIElTZXR0aW5nc192MDExO1xyXG5cdHRyYW5zZm9ybWVkX2RhdGEuVGFnQ29sb3JzLkNvbG9yUGlja2VyID0gT2JqZWN0LnZhbHVlcyhsb2FkZWRfZGF0YS5UYWdDb2xvcnMuQ29sb3JQaWNrZXIpXHJcblx0dHJhbnNmb3JtZWRfZGF0YS5EZWJ1Zy5FbmFibGVFeHBlcmltZW50YWxDb21tYW5kcyA9IGZhbHNlO1xyXG5cdHRyYW5zZm9ybWVkX2RhdGEuSW5mby5TZXR0aW5nc1ZlcnNpb24gPSAxMTtcclxuXHRyZXR1cm4gdHJhbnNmb3JtZWRfZGF0YSBhcyB1bmtub3duIGFzIElTZXR0aW5nc192MDExO1xyXG59XHJcbiIsICIvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gSW1wb3J0c1xyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuaW1wb3J0IHtJU2V0dGluZ3NfdjAxMSwgSVNldHRpbmdzX3YwMTJ9IGZyb20gXCIuLi9zZXR0aW5nX3ZlcnNpb25zXCI7XHJcblxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gQ29kZVxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIG1pZ3JhdGVfMTFfdG9fMTIobG9hZGVkX2RhdGE6IElTZXR0aW5nc192MDExKTogUHJvbWlzZTxJU2V0dGluZ3NfdjAxMj4ge1xyXG5cdGxldCB0cmFuc2Zvcm1lZF9kYXRhID0gbG9hZGVkX2RhdGEgYXMgdW5rbm93biBhcyBJU2V0dGluZ3NfdjAxMjtcclxuXHR0cmFuc2Zvcm1lZF9kYXRhLkZvbGRlck5vdGUuRm9sZGVyVGFnTGlua3MgPSBPYmplY3QudmFsdWVzKGxvYWRlZF9kYXRhLkZvbGRlck5vdGUuRm9sZGVyVGFnTGlua3MpXHJcblx0dHJhbnNmb3JtZWRfZGF0YS5JbmZvLlNldHRpbmdzVmVyc2lvbiA9IDEyO1xyXG5cdHJldHVybiB0cmFuc2Zvcm1lZF9kYXRhIGFzIHVua25vd24gYXMgSVNldHRpbmdzX3YwMTI7XHJcbn1cclxuIiwgIi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyBJbXBvcnRzXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5pbXBvcnQge0lTZXR0aW5nc192MDEyLCBJU2V0dGluZ3NfdjAxM30gZnJvbSBcIi4uL3NldHRpbmdfdmVyc2lvbnNcIjtcclxuXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyBDb2RlXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbWlncmF0ZV8xMl90b18xMyhsb2FkZWRfZGF0YTogSVNldHRpbmdzX3YwMTIpOiBQcm9taXNlPElTZXR0aW5nc192MDEzPiB7XHJcblx0bGV0IHRyYW5zZm9ybWVkX2RhdGEgPSBsb2FkZWRfZGF0YSBhcyB1bmtub3duIGFzIElTZXR0aW5nc192MDEzO1xyXG5cclxuXHR0cmFuc2Zvcm1lZF9kYXRhLkZvbGRlck5vdGUuRW5hYmxlQmFja2dyb3VuZE9wYWNpdHkgPSBsb2FkZWRfZGF0YS5UYWdDb2xvcnMuRW5hYmxlQmFja2dyb3VuZE9wYWNpdHk7XHJcblx0dHJhbnNmb3JtZWRfZGF0YS5Gb2xkZXJOb3RlLlZhbHVlcy5CYWNrZ3JvdW5kT3BhY2l0eSA9IGxvYWRlZF9kYXRhLlRhZ0NvbG9ycy5WYWx1ZXMuQmFja2dyb3VuZE9wYWNpdHk7XHJcblxyXG5cdHRyYW5zZm9ybWVkX2RhdGEuS2FuYmFuLkVuYWJsZUJhY2tncm91bmRPcGFjaXR5ID0gbG9hZGVkX2RhdGEuVGFnQ29sb3JzLkVuYWJsZUJhY2tncm91bmRPcGFjaXR5O1xyXG5cdHRyYW5zZm9ybWVkX2RhdGEuS2FuYmFuLlZhbHVlcy5CYWNrZ3JvdW5kT3BhY2l0eSA9IGxvYWRlZF9kYXRhLlRhZ0NvbG9ycy5WYWx1ZXMuQmFja2dyb3VuZE9wYWNpdHk7XHJcblxyXG5cdHRyYW5zZm9ybWVkX2RhdGEuQ2FudmFzLkVuYWJsZUJhY2tncm91bmRPcGFjaXR5ID0gbG9hZGVkX2RhdGEuVGFnQ29sb3JzLkVuYWJsZUJhY2tncm91bmRPcGFjaXR5O1xyXG5cdHRyYW5zZm9ybWVkX2RhdGEuQ2FudmFzLlZhbHVlcy5CYWNrZ3JvdW5kT3BhY2l0eSA9IGxvYWRlZF9kYXRhLlRhZ0NvbG9ycy5WYWx1ZXMuQmFja2dyb3VuZE9wYWNpdHk7XHJcblxyXG5cdHRyYW5zZm9ybWVkX2RhdGEuSW5mby5TZXR0aW5nc1ZlcnNpb24gPSAxMztcclxuXHRyZXR1cm4gdHJhbnNmb3JtZWRfZGF0YSBhcyB1bmtub3duIGFzIElTZXR0aW5nc192MDEzO1xyXG59XHJcbiIsICIvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gSW1wb3J0c1xyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuaW1wb3J0IHtJU2V0dGluZ3NfdjAxMywgSVNldHRpbmdzX3YwMTR9IGZyb20gXCIuLi9zZXR0aW5nX3ZlcnNpb25zXCI7XHJcblxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gQ29kZVxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIG1pZ3JhdGVfMTNfdG9fMTQobG9hZGVkX2RhdGE6IElTZXR0aW5nc192MDEzKTogUHJvbWlzZTxJU2V0dGluZ3NfdjAxND4ge1xyXG5cdGxldCB0cmFuc2Zvcm1lZF9kYXRhID0gbG9hZGVkX2RhdGEgYXMgdW5rbm93biBhcyBJU2V0dGluZ3NfdjAxNDtcclxuXHJcblx0dHJhbnNmb3JtZWRfZGF0YS5JbmZvLlNldHRpbmdzVmVyc2lvbiA9IDE0O1xyXG5cdHJldHVybiB0cmFuc2Zvcm1lZF9kYXRhIGFzIHVua25vd24gYXMgSVNldHRpbmdzX3YwMTQ7XHJcbn1cclxuIiwgIi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyBJbXBvcnRzXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5pbXBvcnQge0lTZXR0aW5nc192MDE0fSBmcm9tIFwiLi4vc2V0dGluZ192ZXJzaW9uc1wiO1xyXG5pbXBvcnQge0lQbHVnaW5TZXR0aW5nc30gZnJvbSBcIi4uLy4uLy4uLy4uL2NvbnRyYWN0cy9wbHVnaW4vc2V0dGluZ3MvSVBsdWdpblNldHRpbmdzXCI7XHJcbmltcG9ydCB7SUNvbG9yZWRUYWdSZWNvcmR9IGZyb20gXCIuLi8uLi8uLi8uLi9jb250cmFjdHMvcGx1Z2luL3NldHRpbmdzL0lDb2xvcmVkVGFnUmVjb3JkXCI7XHJcbmltcG9ydCB7UkdCfSBmcm9tIFwib2JzaWRpYW5cIjtcclxuaW1wb3J0IHtkZWZhdWx0U2V0dGluZ3N9IGZyb20gXCIuLi8uLi9zZXR0aW5ncy9EZWZhdWx0U2V0dGluZ3NcIjtcclxuaW1wb3J0IHtTZXJ2aWNlUHJvdmlkZXJ9IGZyb20gXCIuLi8uLi9TZXJ2aWNlUHJvdmlkZXJcIjtcclxuXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyBDb2RlXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5pbnRlcmZhY2UgT0xEX0lDb2xvclBpY2tlciB7XHJcblx0dGFnX25hbWU6IHN0cmluZyxcclxuXHRjb2xvcjogUkdCLFxyXG5cdGJhY2tncm91bmRfY29sb3I6IFJHQixcclxuXHRsdW1pbmFuY2Vfb2Zmc2V0OiBudW1iZXJcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIG1pZ3JhdGVfMTRfdG9fMTUobG9hZGVkX2RhdGE6IElTZXR0aW5nc192MDE0KTogUHJvbWlzZTxJUGx1Z2luU2V0dGluZ3M+IHtcclxuXHRsZXQgbmV3X2RhdGE6IElQbHVnaW5TZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRTZXR0aW5ncyk7IC8vIFRPRE8gdGhpcyBpcyBkYW5nZXJvdXMsIGNoYW5nZSB0aGlzIHRvIGEgc3BlY2lmaWMgcGF0dGVybiFcclxuXHJcblx0Ly8gaW5nZXN0IHRoZSAub2xkIGRhdGFcclxuXHRuZXdfZGF0YS5UYWdDb2xvcnMgPSBsb2FkZWRfZGF0YS5UYWdDb2xvcnMuQ29sb3JQaWNrZXIubWFwKFxyXG5cdFx0KG9sZF90YWc6IE9MRF9JQ29sb3JQaWNrZXIpID0+IHtcclxuXHRcdFx0Y29uc3QgbmV3VGFnQ29sb3I6IElDb2xvcmVkVGFnUmVjb3JkID0gU2VydmljZVByb3ZpZGVyLnRhZ1JlY29yZHMuZ2V0RGVmYXVsdFJlY29yZCgpO1xyXG5cclxuXHRcdFx0bmV3VGFnQ29sb3IuY29yZV90YWdUZXh0ID0gb2xkX3RhZy50YWdfbmFtZTtcclxuXHRcdFx0bmV3VGFnQ29sb3IuY29yZV9jb2xvcl9mb3JlZ3JvdW5kID0gey4uLm9sZF90YWcuY29sb3J9O1xyXG5cdFx0XHRuZXdUYWdDb2xvci5jb3JlX2NvbG9yX2JhY2tncm91bmQgPSB7Li4ub2xkX3RhZy5iYWNrZ3JvdW5kX2NvbG9yfTtcclxuXHRcdFx0XHJcblx0XHRcdGlmIChsb2FkZWRfZGF0YS5UYWdDb2xvcnMuRW5hYmxlQmFja2dyb3VuZE9wYWNpdHkpe1xyXG5cdFx0XHRcdG5ld1RhZ0NvbG9yLmNzc19zdHlsaW5nX29wYWNpdHkgPSBsb2FkZWRfZGF0YS5UYWdDb2xvcnMuVmFsdWVzLkJhY2tncm91bmRPcGFjaXR5O1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAobG9hZGVkX2RhdGEuQ2FudmFzLkVuYWJsZSl7XHJcblx0XHRcdFx0bmV3VGFnQ29sb3IuY2FudmFzX2NhcmRfZW5hYmxlX2JhY2tncm91bmQgPSB0cnVlO1xyXG5cdFx0XHRcdG5ld1RhZ0NvbG9yLmNhbnZhc19jYXJkX2VuYWJsZV9ib3JkZXIgPSB0cnVlO1xyXG5cdFx0XHRcdG5ld1RhZ0NvbG9yLmNhbnZhc19jYXJkX2JhY2tncm91bmRfb3BhY2l0eSA9IGxvYWRlZF9kYXRhLkNhbnZhcy5WYWx1ZXMuQmFja2dyb3VuZE9wYWNpdHk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHJldHVybiBuZXdUYWdDb2xvcjtcclxuXHRcdH1cclxuXHQpO1xyXG5cclxuXHRuZXdfZGF0YS5JbmZvLlNldHRpbmdzVmVyc2lvbiA9IDE1O1xyXG5cdHJldHVybiBuZXdfZGF0YSBhcyB1bmtub3duIGFzIElQbHVnaW5TZXR0aW5ncztcclxufVxyXG4iLCAiLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vIEltcG9ydHNcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbmltcG9ydCAqIGFzIG1pZ3JhdGlvbnMgZnJvbSBcIi4vbWlncmF0aW9uc1wiO1xyXG5pbXBvcnQge0lQbHVnaW5TZXR0aW5nc30gZnJvbSBcIi4uLy4uLy4uL2NvbnRyYWN0cy9wbHVnaW4vc2V0dGluZ3MvSVBsdWdpblNldHRpbmdzXCI7XHJcbmltcG9ydCB7Tm90aWNlfSBmcm9tIFwib2JzaWRpYW5cIjtcclxuaW1wb3J0IHtJQ29sb3JlZFRhZ1dyYW5nbGVyUGx1Z2lufSBmcm9tIFwiLi4vLi4vLi4vY29udHJhY3RzL3BsdWdpbi9JQ29sb3JlZFRhZ1dyYW5nbGVyUGx1Z2luXCI7XHJcbmltcG9ydCB7SU1pZ3JhdG9yU2VydmljZX0gZnJvbSBcIi4uLy4uLy4uL2NvbnRyYWN0cy9wbHVnaW4vc2VydmljZXMvbWlncmF0b3IvSU1pZ3JhdG9yU2VydmljZVwiO1xyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gU3VwcG9ydCBDb2RlXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5leHBvcnQgY2xhc3MgTWlncmF0b3JTZXJ2aWNlIGltcGxlbWVudHMgSU1pZ3JhdG9yU2VydmljZSB7XHJcblx0cHJpdmF0ZSBzdGF0aWMgTUlHUkFUSU9OX1NURVBTOiAoKGRhdGE6IGFueSkgPT4gUHJvbWlzZTxhbnk+KVtdID0gWyAvLyBVc2luZyBhbnkncyBpc24ndCBwZXJmZWN0IGJ1dCB3aWxsIGRvIGZvciBub3dcclxuXHRcdC8vIEFkZCBtb3JlIGxhbWJkYXMgaW4gb3JkZXIuXHJcblx0XHQvLyAgICAgIEJ0dyB0aGlzIG9ubHkgd29ya3MgYmVjYXVzZSBJIGFtIGR1bWIgZW5vdWdoIHRvIHN0YXJ0IGZyb20gMCxcclxuXHRcdC8vICAgICAgdGhhdCB3YXkgSSBkb24ndCBuZWVkIHRvIGRvIGFueSBvdGhlciBzdGVwcyBpbiB0aGUgZm9yIGxvb3BcclxuXHRcdGFzeW5jIChkYXRhKSA9PiBhd2FpdCBtaWdyYXRpb25zLm1pZ3JhdGVfMDBfdG9fMDEoZGF0YSksIC8vIDBcclxuXHRcdGFzeW5jIChkYXRhKSA9PiBhd2FpdCBtaWdyYXRpb25zLm1pZ3JhdGVfMDFfdG9fMDIoZGF0YSksIC8vIDFcclxuXHRcdGFzeW5jIChkYXRhKSA9PiBhd2FpdCBtaWdyYXRpb25zLm1pZ3JhdGVfMDJfdG9fMDMoZGF0YSksIC8vIDJcclxuXHRcdGFzeW5jIChkYXRhKSA9PiBhd2FpdCBtaWdyYXRpb25zLm1pZ3JhdGVfMDNfdG9fMDQoZGF0YSksIC8vIDNcclxuXHRcdGFzeW5jIChkYXRhKSA9PiBhd2FpdCBtaWdyYXRpb25zLm1pZ3JhdGVfMDRfdG9fMDUoZGF0YSksIC8vIDRcclxuXHRcdGFzeW5jIChkYXRhKSA9PiBhd2FpdCBtaWdyYXRpb25zLm1pZ3JhdGVfMDVfdG9fMDYoZGF0YSksIC8vIDVcclxuXHRcdGFzeW5jIChkYXRhKSA9PiBhd2FpdCBtaWdyYXRpb25zLm1pZ3JhdGVfMDZfdG9fMDcoZGF0YSksIC8vIDZcclxuXHRcdGFzeW5jIChkYXRhKSA9PiBhd2FpdCBtaWdyYXRpb25zLm1pZ3JhdGVfMDdfdG9fMDgoZGF0YSksIC8vIDdcclxuXHRcdGFzeW5jIChkYXRhKSA9PiBhd2FpdCBtaWdyYXRpb25zLm1pZ3JhdGVfMDhfdG9fMDkoZGF0YSksIC8vIDhcclxuXHRcdGFzeW5jIChkYXRhKSA9PiBhd2FpdCBtaWdyYXRpb25zLm1pZ3JhdGVfMDlfdG9fMTAoZGF0YSksIC8vIDlcclxuXHRcdGFzeW5jIChkYXRhKSA9PiBhd2FpdCBtaWdyYXRpb25zLm1pZ3JhdGVfMTBfdG9fMTEoZGF0YSksIC8vIDEwXHJcblx0XHRhc3luYyAoZGF0YSkgPT4gYXdhaXQgbWlncmF0aW9ucy5taWdyYXRlXzExX3RvXzEyKGRhdGEpLCAvLyAxMVxyXG5cdFx0YXN5bmMgKGRhdGEpID0+IGF3YWl0IG1pZ3JhdGlvbnMubWlncmF0ZV8xMl90b18xMyhkYXRhKSwgLy8gMTJcclxuXHRcdGFzeW5jIChkYXRhKSA9PiBhd2FpdCBtaWdyYXRpb25zLm1pZ3JhdGVfMTNfdG9fMTQoZGF0YSksIC8vIDEzXHJcblx0XHRhc3luYyAoZGF0YSkgPT4gYXdhaXQgbWlncmF0aW9ucy5taWdyYXRlXzE0X3RvXzE1KGRhdGEpLCAvLyAxNFxyXG5cdF07XHJcblx0Ly8gSSBoYXZlIGJlY29tZSB0b28gbGF6eSB0byBrZWVwIHRyYWNrIG9mIHdoaWNoIHZlcnNpb24gd2UgYXJlIG9uLlxyXG5cdHB1YmxpYyBzdGF0aWMgQ1VSUkVOVF9WRVJTSU9OID0gTWlncmF0b3JTZXJ2aWNlLk1JR1JBVElPTl9TVEVQUy5sZW5ndGggKyAxXHJcblx0cHJpdmF0ZSBwbHVnaW46IElDb2xvcmVkVGFnV3JhbmdsZXJQbHVnaW47XHJcblxyXG5cdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblx0Ly8gQ29uc3RydWN0b3JzXHJcblxyXG5cdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblx0Y29uc3RydWN0b3IocGx1Z2luOiBJQ29sb3JlZFRhZ1dyYW5nbGVyUGx1Z2luKSB7XHJcblx0XHR0aGlzLnBsdWdpbiA9IHBsdWdpbjtcclxuXHR9XHJcblxyXG5cdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblx0Ly8gTWV0aG9kc1xyXG5cdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblx0cHVibGljIGFzeW5jIG1pZ3JhdGVEYXRhKGRhdGE6IGFueSwpOiBQcm9taXNlPGFueT4ge1xyXG5cdFx0Ly8gSWYgdGhlIHBsdWdpbiBoYXNuJ3QgYmVlbiB1c2VkIGJlZm9yZSwgbm8gZGF0YSB3aWxsIGJlIHByZXNlbnQgYWthIG5vIG1pZ3JhdGlvbnMgbmVlZGVkXHJcblx0XHRpZiAoZGF0YSA9PT0gbnVsbCkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbFxyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFNldCBhIGRlZmF1bHQgdmVyc2lvbiwgZWxzZSB0aGUgbWlncmF0aW9ucyB3b24ndCB3b3JrLlxyXG5cdFx0bGV0IHZlcnNpb24gPSBkYXRhPy5JbmZvPy5TZXR0aW5nc1ZlcnNpb24gPz8gLTE7XHJcblx0XHRpZiAodmVyc2lvbiA9PT0gLTEgfHwgdmVyc2lvbiA8PSAxNCkge1xyXG5cdFx0XHQvLyBjb3B5IHRoZSBkYXRhIGZpbGUgdG8gdGhlIGJhY2t1cCBsb2NhdGlvblxyXG5cdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5hcHAudmF1bHQuYWRhcHRlci5jb3B5KFxyXG5cdFx0XHRcdGAke3RoaXMucGx1Z2luLm1hbmlmZXN0LmRpcn0vZGF0YS5qc29uYCxcclxuXHRcdFx0XHRgJHt0aGlzLnBsdWdpbi5tYW5pZmVzdC5kaXJ9L2RhdGFfYmFja3VwLSR7RGF0ZS5ub3coKS50b1N0cmluZygpfS5qc29uYFxyXG5cdFx0XHQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICh2ZXJzaW9uID09PSAtMSkge1xyXG5cdFx0XHQvLyBFeGl0IGNsYXVzZVxyXG5cdFx0XHRjb25zb2xlLndhcm4oXCJWZXJzaW9uIGNvdWxkIG5vdCBiZSBlc3RhYmxpc2hlZCwgYXNzaWduaW5nIGFzIGlzLiBDcmVhdGVkIGEgZGF0YV9iYWNrdXAuanNvbiBmaWxlLlwiKVxyXG5cdFx0XHRuZXcgTm90aWNlKFwiQ29sb3JlZFRhZ3NXcmFuZ2xlciA6IDxicj5WZXJzaW9uIGNvdWxkIG5vdCBiZSByZWFkIGZyb20gZGF0YS5qc29uLiBCYWNrdXAgY3JlYXRlZCBhcyBkYXRhX2JhY2t1cC5qc29uIGZpbGUuXCIpO1xyXG5cdFx0XHRyZXR1cm4gZGF0YTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAodmVyc2lvbiA8PSAxNCkge1xyXG5cdFx0XHRuZXcgTm90aWNlKFwiQ29sb3JlZFRhZ3NXcmFuZ2xlciA6IDxicj5kYXRhLmpzb24gd2FzIG1hZGUgZm9yIGEgbG93ZXIgdmVyc2lvbiwgdXBncmFkaW5nIGl0IHRvIHRoZSBuZXdlc3QgdmVyc2lvbi4gQmFja3VwIGNyZWF0ZWQgYXMgZGF0YV9iYWNrdXAuanNvbiBmaWxlLlwiKVxyXG5cdFx0fVxyXG5cclxuXHRcdC8vIEFjdHVhbCBtaWdyYXRpb25zXHJcblx0XHRsZXQgbWlncmF0ZWREYXRhOiBJUGx1Z2luU2V0dGluZ3MgPSBkYXRhO1xyXG5cdFx0Zm9yICh2ZXJzaW9uOyB2ZXJzaW9uIDwgTWlncmF0b3JTZXJ2aWNlLk1JR1JBVElPTl9TVEVQUy5sZW5ndGg7IHZlcnNpb24rKykge1xyXG5cdFx0XHRtaWdyYXRlZERhdGEgPSBhd2FpdCBNaWdyYXRvclNlcnZpY2UuTUlHUkFUSU9OX1NURVBTW3ZlcnNpb25dKG1pZ3JhdGVkRGF0YSk7XHJcblx0XHRcdGNvbnNvbGUubG9nKGBNaWdyYXRlZCBkYXRhLmpzb24gZnJvbSBDb2xvcmVkVGFnc1dyYW5nbGVyIHRvIHZlcnNpb24gJHttaWdyYXRlZERhdGEuSW5mby5TZXR0aW5nc1ZlcnNpb259YClcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gbWlncmF0ZWREYXRhO1xyXG5cdH1cclxuXHJcbn1cclxuIiwgIi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyBJbXBvcnRzXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5pbXBvcnQge0lQbHVnaW5TZXR0aW5nc30gZnJvbSBcIi4uLy4uLy4uL2NvbnRyYWN0cy9wbHVnaW4vc2V0dGluZ3MvSVBsdWdpblNldHRpbmdzXCI7XHJcbmltcG9ydCB7SVNldHRpbmdJbmZvfSBmcm9tIFwiLi4vLi4vLi4vY29udHJhY3RzL3BsdWdpbi9zZXR0aW5ncy9JU2V0dGluZ0luZm9cIjtcclxuaW1wb3J0IHtNaWdyYXRvclNlcnZpY2V9IGZyb20gXCIuLi9taWdyYXRvci9NaWdyYXRvclNlcnZpY2VcIjtcclxuXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyBTdXBwb3J0IENvZGVcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbmNvbnN0IGRlZmF1bHRTZXR0aW5nc0luZm86IElTZXR0aW5nSW5mbyA9IHtcclxuXHRTZXR0aW5nc1ZlcnNpb246IE1pZ3JhdG9yU2VydmljZS5DVVJSRU5UX1ZFUlNJT04gLy8ganVzdCBhZGQgYSBtaWdyYXRpb24gYW5kIHdlIGFyZSB1cCB0byBhIG5ldyB2ZXJzaW9uIG51bWJlci5cclxufVxyXG5cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vIENvZGVcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbmV4cG9ydCBjb25zdCBkZWZhdWx0U2V0dGluZ3M6IElQbHVnaW5TZXR0aW5ncyA9IHtcclxuXHRUYWdDb2xvcnM6IFtdLFxyXG5cdEVuYWJsZWRFeHRlbnNpb25zOiBbXCJjb3JlXCJdLFxyXG5cdEluZm86IGRlZmF1bHRTZXR0aW5nc0luZm9cclxufVxyXG4iLCAiLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vIEltcG9ydHNcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gQ29kZVxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuZXhwb3J0IGNvbnN0IHJlU0xBU0ggPSAvXFwvL2c7XHJcbmV4cG9ydCBjb25zdCByZVNwbGl0ID0gL1tcXG47XS87IC8vIGZvciBvcmdhbml6YXRpb24sIEkgYWRkZWQgXFxuXHJcbiIsICIvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gSW1wb3J0c1xyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuaW1wb3J0IHtJVGFnUmVjb3Jkc1NlcnZpY2V9IGZyb20gXCIuLi8uLi8uLi9jb250cmFjdHMvcGx1Z2luL3NlcnZpY2VzL3RhZ19yZWNvcmRzL0lUYWdSZWNvcmRzU2VydmljZVwiO1xyXG5pbXBvcnQge0lTZXR0aW5nc1NlcnZpY2V9IGZyb20gXCIuLi8uLi8uLi9jb250cmFjdHMvcGx1Z2luL3NlcnZpY2VzL3NldHRpbmdzL0lTZXR0aW5nc1NlcnZpY2VcIjtcclxuaW1wb3J0IHtJQ29sb3JlZFRhZ1JlY29yZH0gZnJvbSBcIi4uLy4uLy4uL2NvbnRyYWN0cy9wbHVnaW4vc2V0dGluZ3MvSUNvbG9yZWRUYWdSZWNvcmRcIjtcclxuaW1wb3J0IHtyZVNMQVNILCByZVNwbGl0fSBmcm9tIFwiLi4vLi4vLi4vbGliL1JlZ2V4VXRpbHNcIjtcclxuaW1wb3J0IHtJRXh0ZW5zaW9uc1NlcnZpY2V9IGZyb20gXCIuLi8uLi8uLi9jb250cmFjdHMvcGx1Z2luL3NlcnZpY2VzL2V4dGVuc2lvbnMvSUV4dGVuc2lvbnNTZXJ2aWNlXCI7XHJcbmltcG9ydCB7U2VydmljZVByb3ZpZGVyfSBmcm9tIFwiLi4vU2VydmljZVByb3ZpZGVyXCI7XHJcbmltcG9ydCB7SUV4dGVuc2lvbn0gZnJvbSBcIi4uLy4uLy4uL2NvbnRyYWN0cy9wbHVnaW4vZXh0ZW5zaW9ucy9JRXh0ZW5zaW9uXCI7XHJcbmltcG9ydCB7SUV4dGVuc2lvblJlY29yZH0gZnJvbSBcIi4uLy4uLy4uL2NvbnRyYWN0cy9wbHVnaW4vZXh0ZW5zaW9ucy9JRXh0ZW5zaW9uUmVjb3JkXCI7XHJcblxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gQ29kZVxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuZXhwb3J0IGNsYXNzIFRhZ1JlY29yZHNTZXJ2aWNlIGltcGxlbWVudHMgSVRhZ1JlY29yZHNTZXJ2aWNlIHtcclxuXHRwcml2YXRlIF9zZXR0aW5nczogSVNldHRpbmdzU2VydmljZTtcclxuXHRwcml2YXRlIF9leHRlbnNpb25zOiBJRXh0ZW5zaW9uc1NlcnZpY2U7XHJcblx0cHJpdmF0ZSBfZmxhdENhY2hlOiBJQ29sb3JlZFRhZ1JlY29yZFtdIHwgbnVsbCA9IG51bGw7XHJcblxyXG5cdHByaXZhdGUgZ2V0IF90YWdSZWNvcmRzKCk6IElDb2xvcmVkVGFnUmVjb3JkW10ge1xyXG5cdFx0cmV0dXJuIHRoaXMuX3NldHRpbmdzLmRhdGEuVGFnQ29sb3JzO1xyXG5cdH1cclxuXHJcblx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHQvLyBDb25zdHJ1Y3RvcnNcclxuXHQvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cdGNvbnN0cnVjdG9yKHNldHRpbmdzOiBJU2V0dGluZ3NTZXJ2aWNlLCBleHRlbnNpb25zOiBJRXh0ZW5zaW9uc1NlcnZpY2UpIHtcclxuXHRcdHRoaXMuX3NldHRpbmdzID0gc2V0dGluZ3M7XHJcblx0XHR0aGlzLl9leHRlbnNpb25zID0gZXh0ZW5zaW9ucztcclxuXHR9XHJcblxyXG5cdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblx0Ly8gTWV0aG9kc1xyXG5cdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblx0Z2V0VGFnc0ZsYXQocmVtb3ZlX3NsYXNoOiBib29sZWFuID0gdHJ1ZSk6IElDb2xvcmVkVGFnUmVjb3JkW10ge1xyXG5cdFx0cmV0dXJuIHRoaXMuX2ZsYXRDYWNoZSA/Pz0gdGhpcy5fdGFnUmVjb3Jkc1xyXG5cdFx0XHQuZmxhdE1hcCgocmVjb3JkKSA9PiB7XHJcblx0XHRcdFx0cmV0dXJuIHJlY29yZC5jb3JlX3RhZ1RleHQgLy8gcmVhZCB0aGUgbGFzdCBsaW5lIGlmIHlvdSBhcmUgY29uZnVzZWQgd2h5IHdlIGFyZSBsb29waW5nIG92ZXIgdGhlIHRhZ19uYW1lXHJcblx0XHRcdFx0XHQuc3BsaXQocmVTcGxpdClcclxuXHRcdFx0XHRcdC5tYXAodGFnID0+IHRhZy50cmltKCkudG9Mb3dlckNhc2UoKSkgIC8vIEFsc28gdHJpbSB0aGUgdGFnIGZvciBsZWFkaW5nIHNwYWNlcyAmIG1hcCBldmVyeXRoaW5nIHRvIGxvd2VyY2FzZSFcclxuXHRcdFx0XHRcdC5maWx0ZXIoQm9vbGVhbikgLy8gZmlsdGVyIG91dCBlbXB0eSBsaW5lc1xyXG5cdFx0XHRcdFx0Lm1hcCh0YWcgPT4gcmVtb3ZlX3NsYXNoID8gdGFnLnJlcGxhY2UocmVTTEFTSCwgXCJcIikgOiB0YWcpICAvLyByZXBsYWNlIHRoZSBcIi9cIlxyXG5cdFx0XHRcdFx0Lm1hcCh0YWcgPT4gKHsuLi5yZWNvcmQsIGNvcmVfdGFnVGV4dDogdGFnfSkpO1xyXG5cdFx0XHR9KTtcclxuXHR9XHJcblxyXG5cdGdldFRhZ3MoKTogSUNvbG9yZWRUYWdSZWNvcmRbXSB7XHJcblx0XHRyZXR1cm4gdGhpcy5fdGFnUmVjb3JkcztcclxuXHR9XHJcblxyXG5cdGdldFRhZ0NvdW50KCk6IG51bWJlciB7XHJcblx0XHRyZXR1cm4gdGhpcy5fdGFnUmVjb3Jkcy5sZW5ndGhcclxuXHR9XHJcblxyXG5cdGFzeW5jIGFkZE9yVXBkYXRlVGFnKHJlY29yZDogSUNvbG9yZWRUYWdSZWNvcmQpOiBQcm9taXNlPHZvaWQ+IHtcclxuXHRcdGNvbnN0IGluZGV4ID0gdGhpcy5nZXRUYWdJbmRleChyZWNvcmQpO1xyXG5cdFx0aWYgKGluZGV4ICE9PSAtMSkge1xyXG5cdFx0XHR0aGlzLl90YWdSZWNvcmRzW2luZGV4XSA9IHJlY29yZDtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHRoaXMuX3RhZ1JlY29yZHMucHVzaChyZWNvcmQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGF3YWl0IHRoaXMuX3NldHRpbmdzLmRlYm91bmNlU2F2ZVRvRmlsZS5ydW4oKVxyXG5cdFx0dGhpcy5fZmxhdENhY2hlID0gbnVsbDsgLy8gaW52YWxpZGF0ZSB0aGUgY2FjaGVcclxuXHRcdFNlcnZpY2VQcm92aWRlci5jc3NTdHlsZXIucHJvY2Vzc0V4dGVuc2lvbnMoKSAvLyBVcGRhdGUgdG8gdXNpbmcgdGhlIG5ldyB0YWdcclxuXHR9XHJcblxyXG5cdGFzeW5jIHJlbW92ZVRhZyhyZWNvcmQ6IElDb2xvcmVkVGFnUmVjb3JkKTogUHJvbWlzZTx2b2lkPiB7XHJcblx0XHR0aGlzLl90YWdSZWNvcmRzLnJlbW92ZShyZWNvcmQpXHJcblx0XHRhd2FpdCB0aGlzLl9zZXR0aW5ncy5kZWJvdW5jZVNhdmVUb0ZpbGUucnVuKCk7XHJcblx0XHR0aGlzLl9mbGF0Q2FjaGUgPSBudWxsOyAvLyBpbnZhbGlkYXRlIHRoZSBjYWNoZVxyXG5cdH1cclxuXHJcblx0Z2V0VGFnSW5kZXgocmVjb3JkOiBJQ29sb3JlZFRhZ1JlY29yZCk6IG51bWJlciB7XHJcblx0XHRyZXR1cm4gdGhpcy5fdGFnUmVjb3Jkcy5maW5kSW5kZXgoKHIpID0+IHIuY29yZV9pZCA9PT0gcmVjb3JkLmNvcmVfaWQpO1xyXG5cdH1cclxuXHJcblx0Z2V0Rmlyc3RUYWcocmVjb3JkOiBJQ29sb3JlZFRhZ1JlY29yZCk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gcmVjb3JkLmNvcmVfdGFnVGV4dC5zcGxpdChyZVNwbGl0KS5maXJzdCgpID8/IFwiVU5ERUZJTkVEXCI7XHJcblx0fVxyXG5cclxuXHRnZXRUYWdQcmV2aWV3SWRzKHJlY29yZDogSUNvbG9yZWRUYWdSZWNvcmQpOiB7IGJlZ2luOiBzdHJpbmcsIGVuZDogc3RyaW5nIH0ge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0YmVnaW46IGB0YWctcHJldmlldy1iZWluZy0ke3JlY29yZC5jb3JlX2lkfWAsXHJcblx0XHRcdGVuZDogYHRhZy1wcmV2aWV3LWVuZC0ke3JlY29yZC5jb3JlX2lkfWBcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGdldERlZmF1bHRSZWNvcmQoKTogSUNvbG9yZWRUYWdSZWNvcmQge1xyXG5cdFx0cmV0dXJuIHRoaXMuX2V4dGVuc2lvbnMuRnVsbExpc3QucmVkdWNlKFxyXG5cdFx0XHQoYWNjOiBJQ29sb3JlZFRhZ1JlY29yZCwgY3VyOiBJRXh0ZW5zaW9uPElFeHRlbnNpb25SZWNvcmQ+KSA9PiAoey4uLmFjYywgLi4uY3VyLmdldERlZmF1bHRSZWNvcmQoKX0pLFxyXG5cdFx0XHR7fSBhcyBJQ29sb3JlZFRhZ1JlY29yZFxyXG5cdFx0KSBhcyBJQ29sb3JlZFRhZ1JlY29yZFxyXG5cdH1cclxuXHJcblx0YXN5bmMgY3JlYXRlTmV3RGVmYXVsdFRhZygpOiBQcm9taXNlPHZvaWQ+IHtcclxuXHRcdGNvbnN0IG5ld1JlY29yZCA9IHRoaXMuZ2V0RGVmYXVsdFJlY29yZCgpO1xyXG5cclxuXHRcdC8vIEVuc3VyZSBfZmxhdENhY2hlIGlzIHBvcHVsYXRlZFxyXG5cdFx0aWYgKHRoaXMuX2ZsYXRDYWNoZSA9PT0gbnVsbCkge1xyXG5cdFx0XHR0aGlzLmdldFRhZ3NGbGF0KCk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gQ2hlY2sgZm9yIGR1cGxpY2F0ZSBuYW1lc1xyXG5cdFx0Ly9cdFx0VGhlIHdheSB3ZSBhcmUgZG9pbmcgdGhpcyBpcyBieSBnZXR0aW5nIGFsbCB0aGUgcmVjb3JkcyB3aGljaCBhbHJlYWR5IHN0YXJ0IHdpdGggdGhlIGRlZmF1bHQgdGFnVGV4dFxyXG5cdFx0Ly9cdFx0VGhlIGNvdW50IG9mIHRoaXMgKzEgaXMgdGhlIG5ldyBzdWZmaXggZm9yIHRoZSBuZXcgcmVjb3JkXHJcblx0XHRjb25zdCBkZWZhdWx0UHJlc2VudCA9IHRoaXMuX2ZsYXRDYWNoZSFcclxuXHRcdFx0LmZpbHRlcihyZWNvcmQgPT4gcmVjb3JkLmNvcmVfdGFnVGV4dC5zdGFydHNXaXRoKG5ld1JlY29yZC5jb3JlX3RhZ1RleHQpKVxyXG5cdFx0XHQubGVuZ3RoO1xyXG5cclxuXHRcdG5ld1JlY29yZC5jb3JlX3RhZ1RleHQgKz0gYC0ke2RlZmF1bHRQcmVzZW50fWA7XHJcblxyXG5cdFx0YXdhaXQgdGhpcy5hZGRPclVwZGF0ZVRhZyhuZXdSZWNvcmQpXHJcblx0fVxyXG5cclxufVxyXG4iLCAiLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vIEltcG9ydHNcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbmltcG9ydCB7Q29sb3JDb21wb25lbnR9IGZyb20gXCJvYnNpZGlhblwiO1xyXG5pbXBvcnQge1JHQlNlbGVjdG9yUHJvcGVydGllc30gZnJvbSBcInNyYy9jb250cmFjdHMvcGx1Z2luL3NlcnZpY2VzL2V4dGVuc2lvbnMvRXh0ZW5zaW9uUHJvcGVydGllc1wiO1xyXG5pbXBvcnQge2hleFRvUkdCQSwgcmdiYVRvSGV4fSBmcm9tIFwiLi4vLi4vLi4vLi4vLi4vbGliL0NvbG9yQ29udmVydGVyc1wiO1xyXG5pbXBvcnQge1JHQkF9IGZyb20gXCIuLi8uLi8uLi8uLi8uLi9jb250cmFjdHMvdHlwZXMvUkdCQVwiO1xyXG5pbXBvcnQge0lTZXR0aW5nVGFnUmVjb3JkQ29tcG9uZW50fSBmcm9tIFwic3JjL2NvbnRyYWN0cy9wbHVnaW4vdWkvY29tcG9uZW50cy90YWdfdGFibGUvSVNldHRpbmdUYWdSZWNvcmRDb21wb25lbnRcIjtcclxuaW1wb3J0IHtTZXJ2aWNlUHJvdmlkZXJ9IGZyb20gXCIuLi8uLi8uLi8uLi9zZXJ2aWNlcy9TZXJ2aWNlUHJvdmlkZXJcIjtcclxuaW1wb3J0IHtSb3dEYXRhVHlwZX0gZnJvbSBcIi4uLy4uLy4uLy4uLy4uL2NvbnRyYWN0cy9wbHVnaW4vdWkvY29tcG9uZW50cy9Sb3dEYXRhVHlwZVwiO1xyXG5cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vIENvZGVcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbmV4cG9ydCBjbGFzcyBTZXR0aW5nVGFnUmVjb3JkQ29sb3JDb21wb25lbnQgZXh0ZW5kcyBDb2xvckNvbXBvbmVudCBpbXBsZW1lbnRzIElTZXR0aW5nVGFnUmVjb3JkQ29tcG9uZW50IHtcclxuXHRjb25zdHJ1Y3Rvcihyb3dEYXRhOiBSb3dEYXRhVHlwZSwgcHJvcGVydHlfbmFtZTogUkdCU2VsZWN0b3JQcm9wZXJ0aWVzKSB7XHJcblx0XHRzdXBlcihyb3dEYXRhLnBhcmVudEVsKTsgLy8gT2JzaWRpYW4ncyBzdHVmZlxyXG5cclxuXHRcdGxldCB2YWx1ZTogUkdCQSA9IHJvd0RhdGEucmVjb3JkW3Byb3BlcnR5X25hbWVdIGFzIFJHQkE7XHJcblx0XHR0aGlzLnNldFZhbHVlKHJnYmFUb0hleCh2YWx1ZSkpXHJcblxyXG5cdFx0dGhpcy5vbkNoYW5nZShhc3luYyAobmV3VmFsdWUpID0+IHtcclxuXHRcdFx0cm93RGF0YS5yZWNvcmRbcHJvcGVydHlfbmFtZV0gPSBoZXhUb1JHQkEobmV3VmFsdWUsIDEpO1xyXG5cdFx0XHRhd2FpdCBTZXJ2aWNlUHJvdmlkZXIudGFnUmVjb3Jkcy5hZGRPclVwZGF0ZVRhZyhyb3dEYXRhLnJlY29yZClcclxuXHRcdFx0YXdhaXQgcm93RGF0YS5yb3dVcGRhdGVDYWxsYmFjaygpIC8vIFVwZGF0ZXMgdGhlIHByZXZpZXcgZWxlbWVudFxyXG5cdFx0fSlcclxuXHJcblx0fVxyXG59XHJcbiIsICIvLyBub2luc3BlY3Rpb24gSlNVbnVzZWRHbG9iYWxTeW1ib2xzXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyBJbXBvcnRzXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5pbXBvcnQge0hTTCwgUkdCfSBmcm9tIFwib2JzaWRpYW5cIjtcclxuaW1wb3J0IHtSR0JBfSBmcm9tIFwiLi4vY29udHJhY3RzL3R5cGVzL1JHQkFcIjtcclxuXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyBDb2RlXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5leHBvcnQgZnVuY3Rpb24gaGV4VG9SZ2IoaGV4Q29sb3I6IHN0cmluZyk6IFJHQiB7XHJcblx0Y29uc3QgaGV4ID0gaGV4Q29sb3IucmVwbGFjZShcIiNcIiwgXCJcIik7XHJcblx0cmV0dXJuIHtcclxuXHRcdHI6IHBhcnNlSW50KGhleC5zbGljZSgwLCAyKSwgMTYpLFxyXG5cdFx0ZzogcGFyc2VJbnQoaGV4LnNsaWNlKDIsIDQpLCAxNiksXHJcblx0XHRiOiBwYXJzZUludChoZXguc2xpY2UoNCwgNiksIDE2KVxyXG5cdH1cclxufVxyXG5cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbmV4cG9ydCBmdW5jdGlvbiByZ2JUb0hleChyZ2I6IFJHQik6IHN0cmluZyB7XHJcblx0Y29uc3QgdG9IZXggPSAoYzogbnVtYmVyKSA9PiBjLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCBcIjBcIik7XHJcblx0cmV0dXJuIGAjJHt0b0hleChyZ2Iucil9JHt0b0hleChyZ2IuZyl9JHt0b0hleChyZ2IuYil9YDtcclxufVxyXG5cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbmV4cG9ydCBmdW5jdGlvbiByZ2JUb0hzbChyZ2I6IFJHQik6IEhTTCB7XHJcblx0Ly8gTm9ybWFsaXplIFJHQiB2YWx1ZXMgdG8gdGhlIHJhbmdlIFswLCAxXVxyXG5cdGNvbnN0IHIgPSByZ2IuciAvIDI1NTtcclxuXHRjb25zdCBnID0gcmdiLmcgLyAyNTU7XHJcblx0Y29uc3QgYiA9IHJnYi5iIC8gMjU1O1xyXG5cclxuXHQvLyBGaW5kIHRoZSBtYXhpbXVtIGFuZCBtaW5pbXVtIHZhbHVlcyBhbW9uZyBSLCBHLCBhbmQgQlxyXG5cdGNvbnN0IG1heCA9IE1hdGgubWF4KHIsIGcsIGIpO1xyXG5cdGNvbnN0IG1pbiA9IE1hdGgubWluKHIsIGcsIGIpO1xyXG5cclxuXHQvLyBDYWxjdWxhdGUgdGhlIGxpZ2h0bmVzcyAoTClcclxuXHRjb25zdCBsID0gKG1heCArIG1pbikgLyAyO1xyXG5cclxuXHRsZXQgaCA9IDA7XHJcblx0bGV0IHMgPSAwO1xyXG5cclxuXHRpZiAobWF4ICE9PSBtaW4pIHtcclxuXHRcdC8vIENhbGN1bGF0ZSB0aGUgc2F0dXJhdGlvbiAoUylcclxuXHRcdHMgPSBsID4gMC41ID8gKG1heCAtIG1pbikgLyAoMiAtIG1heCAtIG1pbikgOiAobWF4IC0gbWluKSAvIChtYXggKyBtaW4pO1xyXG5cclxuXHRcdC8vIENhbGN1bGF0ZSB0aGUgaHVlIChIKVxyXG5cdFx0aWYgKG1heCA9PT0gcikge1xyXG5cdFx0XHRoID0gKDYwICogKChnIC0gYikgLyAobWF4IC0gbWluKSkgKyAzNjApICUgMzYwO1xyXG5cdFx0fSBlbHNlIGlmIChtYXggPT09IGcpIHtcclxuXHRcdFx0aCA9IDYwICogKChiIC0gcikgLyAobWF4IC0gbWluKSkgKyAxMjA7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRoID0gNjAgKiAoKHIgLSBnKSAvIChtYXggLSBtaW4pKSArIDI0MDtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHJldHVybiB7aCwgcywgbH07XHJcbn1cclxuXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5leHBvcnQgZnVuY3Rpb24gaHNsVG9SZ2IoaHNsOiB7IGg6IG51bWJlcjsgczogbnVtYmVyOyBsOiBudW1iZXIgfSk6IFJHQiB7XHJcblx0Y29uc3Qge2gsIHMsIGx9ID0gaHNsO1xyXG5cclxuXHQvLyBFbnN1cmUgdGhlIGh1ZSBpcyB3aXRoaW4gdGhlIHJhbmdlIFswLCAzNjBdXHJcblx0Y29uc3Qgbm9ybWFsaXplZEh1ZSA9IChoICUgMzYwICsgMzYwKSAlIDM2MDtcclxuXHJcblx0Ly8gQ29udmVydCB0aGUgc2F0dXJhdGlvbiBhbmQgbGlnaHRuZXNzIHRvIHRoZSBbMCwgMV0gcmFuZ2VcclxuXHRjb25zdCBub3JtYWxpemVkU2F0dXJhdGlvbiA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEsIHMpKTtcclxuXHRjb25zdCBub3JtYWxpemVkTGlnaHRuZXNzID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgbCkpO1xyXG5cclxuXHRjb25zdCBjaHJvbWEgPSAoMSAtIE1hdGguYWJzKDIgKiBub3JtYWxpemVkTGlnaHRuZXNzIC0gMSkpICogbm9ybWFsaXplZFNhdHVyYXRpb247XHJcblx0Y29uc3QgeCA9IGNocm9tYSAqICgxIC0gTWF0aC5hYnMoKChub3JtYWxpemVkSHVlIC8gNjApICUgMikgLSAxKSk7XHJcblx0Y29uc3QgbSA9IG5vcm1hbGl6ZWRMaWdodG5lc3MgLSBjaHJvbWEgLyAyO1xyXG5cclxuXHRsZXQgciA9IDAsIGcgPSAwLCBiID0gMDtcclxuXHJcblx0aWYgKG5vcm1hbGl6ZWRIdWUgPj0gMCAmJiBub3JtYWxpemVkSHVlIDwgNjApIHtcclxuXHRcdHIgPSBjaHJvbWE7XHJcblx0XHRnID0geDtcclxuXHR9IGVsc2UgaWYgKG5vcm1hbGl6ZWRIdWUgPj0gNjAgJiYgbm9ybWFsaXplZEh1ZSA8IDEyMCkge1xyXG5cdFx0ciA9IHg7XHJcblx0XHRnID0gY2hyb21hO1xyXG5cdH0gZWxzZSBpZiAobm9ybWFsaXplZEh1ZSA+PSAxMjAgJiYgbm9ybWFsaXplZEh1ZSA8IDE4MCkge1xyXG5cdFx0ZyA9IGNocm9tYTtcclxuXHRcdGIgPSB4O1xyXG5cdH0gZWxzZSBpZiAobm9ybWFsaXplZEh1ZSA+PSAxODAgJiYgbm9ybWFsaXplZEh1ZSA8IDI0MCkge1xyXG5cdFx0ZyA9IHg7XHJcblx0XHRiID0gY2hyb21hO1xyXG5cdH0gZWxzZSBpZiAobm9ybWFsaXplZEh1ZSA+PSAyNDAgJiYgbm9ybWFsaXplZEh1ZSA8IDMwMCkge1xyXG5cdFx0ciA9IHg7XHJcblx0XHRiID0gY2hyb21hO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRyID0gY2hyb21hO1xyXG5cdFx0YiA9IHg7XHJcblx0fVxyXG5cclxuXHRyID0gTWF0aC5yb3VuZCgociArIG0pICogMjU1KTtcclxuXHRnID0gTWF0aC5yb3VuZCgoZyArIG0pICogMjU1KTtcclxuXHRiID0gTWF0aC5yb3VuZCgoYiArIG0pICogMjU1KTtcclxuXHJcblx0cmV0dXJuIHtyLCBnLCBifTtcclxufVxyXG5cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbmV4cG9ydCBmdW5jdGlvbiBoZXhUb1JHQkEoaGV4OiBzdHJpbmcsIGFscGhhOiBudW1iZXIpOiBSR0JBIHtcclxuXHQvLyBSZW1vdmUgdGhlIGhhc2ggKCMpIGZyb20gdGhlIGJlZ2lubmluZyBvZiB0aGUgSEVYIHN0cmluZ1xyXG5cdGhleCA9IGhleC5yZXBsYWNlKC9eIy8sICcnKTtcclxuXHJcblx0Ly8gRW5zdXJlIHRoZSBhbHBoYSB2YWx1ZSBpcyBiZXR3ZWVuIDAgYW5kIDFcclxuXHRpZiAoYWxwaGEgPCAwKSBhbHBoYSA9IDA7XHJcblx0aWYgKGFscGhhID4gMSkgYWxwaGEgPSAxO1xyXG5cclxuXHQvLyBQYXJzZSB0aGUgSEVYIHZhbHVlcyBpbnRvIHNlcGFyYXRlIHJlZCwgZ3JlZW4sIGFuZCBibHVlIGNvbXBvbmVudHNcclxuXHRjb25zdCByID0gcGFyc2VJbnQoaGV4LnN1YnN0cmluZygwLCAyKSwgMTYpO1xyXG5cdGNvbnN0IGcgPSBwYXJzZUludChoZXguc3Vic3RyaW5nKDIsIDQpLCAxNik7XHJcblx0Y29uc3QgYiA9IHBhcnNlSW50KGhleC5zdWJzdHJpbmcoNCwgNiksIDE2KTtcclxuXHJcblx0Ly8gQ29udmVydCB0aGUgUkdCIHZhbHVlcyBhbmQgYWxwaGEgdG8gdGhlIHJnYmEgZm9ybWF0XHJcblx0cmV0dXJuIHtyLCBnLCBiLCBhOiBhbHBoYX1cclxufVxyXG5cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbmV4cG9ydCBmdW5jdGlvbiBzdHJpbmdUb0hzbCh0eHQ6IHN0cmluZyk6IEhTTCB7XHJcblx0Y29uc3QgaHNsQXJyYXkgPSB0eHRcclxuXHRcdC5yZXBsYWNlKFwiaHNsKFwiLCBcIlwiKVxyXG5cdFx0LnJlcGxhY2UoXCIpXCIsIFwiXCIpXHJcblx0XHQuc3BsaXQoXCIsXCIpXHJcblx0XHQubWFwKHYgPT4gdi50cmltKCkpXHJcblx0cmV0dXJuIHtcclxuXHRcdGg6IE51bWJlcihoc2xBcnJheVswXSksXHJcblx0XHRzOiBoc2xBcnJheVsxXS5lbmRzV2l0aChcIiVcIilcclxuXHRcdFx0PyAoTnVtYmVyKGhzbEFycmF5WzFdLnJlcGxhY2UoXCIlXCIsIFwiXCIpKSAvIDEwMClcclxuXHRcdFx0OiAoTnVtYmVyKGhzbEFycmF5WzFdKSksXHJcblx0XHRsOiBoc2xBcnJheVsyXS5lbmRzV2l0aChcIiVcIilcclxuXHRcdFx0PyAoTnVtYmVyKGhzbEFycmF5WzJdLnJlcGxhY2UoXCIlXCIsIFwiXCIpKSAvIDEwMClcclxuXHRcdFx0OiAoTnVtYmVyKGhzbEFycmF5WzJdKSksXHJcblx0fVxyXG59XHJcblxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuZXhwb3J0IGZ1bmN0aW9uIHN0cmluZ1RvUmdiKHR4dDogc3RyaW5nKTogUkdCIHtcclxuXHRjb25zdCB0ZXh0QXJyYXkgPSB0eHRcclxuXHRcdC5yZXBsYWNlKFwicmdiKFwiLCBcIlwiKVxyXG5cdFx0LnJlcGxhY2UoXCIpXCIsIFwiXCIpXHJcblx0XHQuc3BsaXQoXCIsXCIpXHJcblx0XHQubWFwKHYgPT4gdi50cmltKCkpXHJcblx0cmV0dXJuIHtcclxuXHRcdHI6IE51bWJlcih0ZXh0QXJyYXlbMF0pLFxyXG5cdFx0ZzogTnVtYmVyKHRleHRBcnJheVsxXSksXHJcblx0XHRiOiBOdW1iZXIodGV4dEFycmF5WzJdKSxcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzdHJpbmdUb1JnYmEodHh0OiBTdHJpbmcpOiBSR0JBIHtcclxuXHRjb25zdCB0ZXh0QXJyYXkgPSB0eHRcclxuXHRcdC5yZXBsYWNlKFwicmdiYShcIiwgXCJcIilcclxuXHRcdC5yZXBsYWNlKFwiKVwiLCBcIlwiKVxyXG5cdFx0LnNwbGl0KFwiLFwiKVxyXG5cdFx0Lm1hcCh2ID0+IHYudHJpbSgpKVxyXG5cdHJldHVybiB7XHJcblx0XHRyOiBOdW1iZXIodGV4dEFycmF5WzBdKSxcclxuXHRcdGc6IE51bWJlcih0ZXh0QXJyYXlbMV0pLFxyXG5cdFx0YjogTnVtYmVyKHRleHRBcnJheVsyXSksXHJcblx0XHRhOiBOdW1iZXIodGV4dEFycmF5WzNdKVxyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJnYlRvU3RyaW5nKGNvbG9yOiBSR0IpOiBzdHJpbmcge1xyXG5cdHJldHVybiBgcmdiKCR7Y29sb3Iucn0sICR7Y29sb3IuZ30sICR7Y29sb3IuYn0pYFxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmdib3BhY2l0eVRvU3RyaW5nKGNvbG9yOiBSR0IsIG9wYWNpdHk6bnVtYmVyKTogc3RyaW5nIHtcclxuXHRyZXR1cm4gYHJnYmEoJHtjb2xvci5yfSwgJHtjb2xvci5nfSwgJHtjb2xvci5ifSwgJHtvcGFjaXR5fSlgXHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIHJnYmFUb1N0cmluZyhjb2xvcjogUkdCQSk6IHN0cmluZyB7XHJcblx0cmV0dXJuIGByZ2JhKCR7Y29sb3Iucn0sICR7Y29sb3IuZ30sICR7Y29sb3IuYn0sICR7Y29sb3IuYX0pYFxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmdiYVRvSGV4KGNvbG9yOiBSR0JBKTogc3RyaW5nIHtcclxuXHRjb25zdCB7ciwgZywgYn0gPSBjb2xvcjtcclxuXHRyZXR1cm4gJyMnICsgW3IsIGcsIGJdLm1hcCh4ID0+IHtcclxuXHRcdGNvbnN0IGhleCA9IHgudG9TdHJpbmcoMTYpO1xyXG5cdFx0cmV0dXJuIGhleC5sZW5ndGggPT09IDEgPyAnMCcgKyBoZXggOiBoZXg7XHJcblx0fSkuam9pbignJyk7XHJcbn1cclxuXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29udHJhc3RDb2xvcihyZ2I6IFJHQik6IFJHQiB7XHJcblx0Ly8gQ2FsY3VsYXRlIHRoZSBicmlnaHRuZXNzIG9mIHRoZSBmb3JlZ3JvdW5kIGNvbG9yIChzaW1wbGUgYXBwcm94aW1hdGlvbilcclxuXHRsZXQgYnJpZ2h0bmVzcyA9IChyZ2IuciAqIDI5OSArIHJnYi5nICogNTg3ICsgcmdiLmIgKiAxMTQpIC8gMTAwMDtcclxuXHQvLyBJZiB0aGUgZm9yZWdyb3VuZCBpcyBicmlnaHQsIHVzZSBibGFjazsgb3RoZXJ3aXNlIHVzZSB3aGl0ZVxyXG5cdHJldHVybiBicmlnaHRuZXNzID4gMTI4ID8ge3I6IDAsIGc6IDAsIGI6IDB9IDoge3I6IDI1NSwgZzogMjU1LCBiOiAyNTV9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29udHJhc3RCb29sKHJnYjogUkdCKTogYm9vbGVhbiB7XHJcblx0cmV0dXJuIGdldENvbnRyYXN0Q29sb3IocmdiKS5yID09PSAwXHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBjbGFtcCh2YWx1ZTogbnVtYmVyLCBtaW46IG51bWJlciwgbWF4OiBudW1iZXIpIHtcclxuXHRyZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgodmFsdWUsIG1pbiksIG1heCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhZGp1c3RCcmlnaHRuZXNzKHJnYjogUkdCLCBmYWN0b3I6IG51bWJlcik6IFJHQiB7XHJcblx0Y29uc3QgciA9IHJnYi5yIC8gMjU1LCBnID0gcmdiLmcgLyAyNTUsIGIgPSByZ2IuYiAvIDI1NTtcclxuXHJcblx0Y29uc3QgbWF4ID0gTWF0aC5tYXgociwgZywgYiksIG1pbiA9IE1hdGgubWluKHIsIGcsIGIpO1xyXG5cdGxldCBoID0gMCwgcyA9IDAsIGwgPSAobWF4ICsgbWluKSAvIDI7XHJcblxyXG5cdGlmIChtYXggIT09IG1pbikge1xyXG5cdFx0Y29uc3QgZCA9IG1heCAtIG1pbjtcclxuXHRcdHMgPSBsID4gMC41ID8gZCAvICgyIC0gbWF4IC0gbWluKSA6IGQgLyAobWF4ICsgbWluKTtcclxuXHRcdHN3aXRjaCAobWF4KSB7XHJcblx0XHRcdGNhc2UgcjpcclxuXHRcdFx0XHRoID0gKGcgLSBiKSAvIGQgKyAoZyA8IGIgPyA2IDogMCk7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UgZzpcclxuXHRcdFx0XHRoID0gKGIgLSByKSAvIGQgKyAyO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRjYXNlIGI6XHJcblx0XHRcdFx0aCA9IChyIC0gZykgLyBkICsgNDtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdH1cclxuXHRcdGggLz0gNjtcclxuXHR9XHJcblxyXG5cdGwgPSBjbGFtcChsICogZmFjdG9yLCAwLCAxKTtcclxuXHJcblx0bGV0IHIxOiBudW1iZXIsIGcxOiBudW1iZXIsIGIxOiBudW1iZXI7XHJcblx0aWYgKHMgPT09IDApIHtcclxuXHRcdHIxID0gZzEgPSBiMSA9IGw7XHJcblx0fSBlbHNlIHtcclxuXHRcdGNvbnN0IHEgPSBsIDwgMC41ID8gbCAqICgxICsgcykgOiBsICsgcyAtIGwgKiBzO1xyXG5cdFx0Y29uc3QgcCA9IDIgKiBsIC0gcTtcclxuXHRcdHIxID0gaHVlMnJnYihwLCBxLCBoICsgMSAvIDMpO1xyXG5cdFx0ZzEgPSBodWUycmdiKHAsIHEsIGgpO1xyXG5cdFx0YjEgPSBodWUycmdiKHAsIHEsIGggLSAxIC8gMyk7XHJcblx0fVxyXG5cclxuXHRyZXR1cm4ge1xyXG5cdFx0cjogY2xhbXAoTWF0aC5yb3VuZChyMSAqIDI1NSksIDAsIDI1NSksXHJcblx0XHRnOiBjbGFtcChNYXRoLnJvdW5kKGcxICogMjU1KSwgMCwgMjU1KSxcclxuXHRcdGI6IGNsYW1wKE1hdGgucm91bmQoYjEgKiAyNTUpLCAwLCAyNTUpXHJcblx0fTtcclxuXHJcblx0ZnVuY3Rpb24gaHVlMnJnYihwOiBudW1iZXIsIHE6IG51bWJlciwgdDogbnVtYmVyKTogbnVtYmVyIHtcclxuXHRcdGlmICh0IDwgMCkgdCArPSAxO1xyXG5cdFx0aWYgKHQgPiAxKSB0IC09IDE7XHJcblx0XHRpZiAodCA8IDEgLyA2KSByZXR1cm4gY2xhbXAocCArIChxIC0gcCkgKiA2ICogdCwgMCwgMSk7XHJcblx0XHRpZiAodCA8IDEgLyAyKSByZXR1cm4gY2xhbXAocSwgMCwgMSk7XHJcblx0XHRpZiAodCA8IDIgLyAzKSByZXR1cm4gY2xhbXAocCArIChxIC0gcCkgKiAoMiAvIDMgLSB0KSAqIDYsIDAsIDEpO1xyXG5cdFx0cmV0dXJuIGNsYW1wKHAsIDAsIDEpO1xyXG5cdH1cclxufVxyXG4iLCAiLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vIEltcG9ydHNcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbmltcG9ydCB7VG9nZ2xlQ29tcG9uZW50fSBmcm9tIFwib2JzaWRpYW5cIjtcclxuaW1wb3J0IHtCb29sZWFuUHJvcGVydGllc30gZnJvbSBcInNyYy9jb250cmFjdHMvcGx1Z2luL3NlcnZpY2VzL2V4dGVuc2lvbnMvRXh0ZW5zaW9uUHJvcGVydGllc1wiO1xyXG5pbXBvcnQge0lTZXR0aW5nVGFnUmVjb3JkQ29tcG9uZW50fSBmcm9tIFwic3JjL2NvbnRyYWN0cy9wbHVnaW4vdWkvY29tcG9uZW50cy90YWdfdGFibGUvSVNldHRpbmdUYWdSZWNvcmRDb21wb25lbnRcIjtcclxuaW1wb3J0IHtTZXJ2aWNlUHJvdmlkZXJ9IGZyb20gXCIuLi8uLi8uLi8uLi9zZXJ2aWNlcy9TZXJ2aWNlUHJvdmlkZXJcIjtcclxuaW1wb3J0IHtSb3dEYXRhVHlwZX0gZnJvbSBcIi4uLy4uLy4uLy4uLy4uL2NvbnRyYWN0cy9wbHVnaW4vdWkvY29tcG9uZW50cy9Sb3dEYXRhVHlwZVwiO1xyXG5cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vIENvZGVcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbmV4cG9ydCBjbGFzcyBTZXR0aW5nVGFnUmVjb3JkVG9nZ2xlQ29tcG9uZW50IGV4dGVuZHMgVG9nZ2xlQ29tcG9uZW50IGltcGxlbWVudHMgSVNldHRpbmdUYWdSZWNvcmRDb21wb25lbnQge1xyXG5cdGNvbnN0cnVjdG9yKHJvd0RhdGE6IFJvd0RhdGFUeXBlLCBwcm9wZXJ0eV9uYW1lOiBCb29sZWFuUHJvcGVydGllcykge1xyXG5cdFx0c3VwZXIocm93RGF0YS5wYXJlbnRFbCk7IC8vIE9ic2lkaWFuJ3Mgc3R1ZmZcclxuXHJcblx0XHQvLyBAdHMtaWdub3JlXHJcblx0XHR0aGlzLnNldFZhbHVlKHJvd0RhdGEucmVjb3JkW3Byb3BlcnR5X25hbWVdIGFzIGJvb2xlYW4pXHJcblx0XHR0aGlzLm9uQ2hhbmdlKGFzeW5jIChuZXdWYWx1ZSkgPT4ge1xyXG5cdFx0XHQvLyBAdHMtaWdub3JlIC8vIEkgc3RpbGwgZG9uJ3QgZ2V0IHdoeT8/P1xyXG5cdFx0XHRyb3dEYXRhLnJlY29yZFtwcm9wZXJ0eV9uYW1lXSA9IG5ld1ZhbHVlO1xyXG5cdFx0XHRhd2FpdCBTZXJ2aWNlUHJvdmlkZXIudGFnUmVjb3Jkcy5hZGRPclVwZGF0ZVRhZyhyb3dEYXRhLnJlY29yZClcclxuXHRcdH0pXHJcblx0fVxyXG59XHJcbiIsICIvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gSW1wb3J0c1xyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuaW1wb3J0IHtJQ3NzU3R5bGVyU2VydmljZX0gZnJvbSBcIi4uLy4uLy4uL2NvbnRyYWN0cy9wbHVnaW4vc2VydmljZXMvY3NzX3N0eWxlci9JQ3NzU3R5bGVyU2VydmljZVwiO1xyXG5pbXBvcnQge0lFeHRlbnNpb25zU2VydmljZX0gZnJvbSBcIi4uLy4uLy4uL2NvbnRyYWN0cy9wbHVnaW4vc2VydmljZXMvZXh0ZW5zaW9ucy9JRXh0ZW5zaW9uc1NlcnZpY2VcIjtcclxuXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyBDb2RlXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5leHBvcnQgY29uc3QgdGhlbWVTZWxlY3RvckxpZ2h0OnN0cmluZyA9IFwiYm9keS50aGVtZS1saWdodFwiO1xyXG5leHBvcnQgY29uc3QgdGhlbWVTZWxlY3RvckRhcms6c3RyaW5nID0gXCJib2R5LnRoZW1lLWRhcmtcIjtcclxuXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyBDb2RlXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5leHBvcnQgY2xhc3MgQ3NzU3R5bGVyU2VydmljZSBpbXBsZW1lbnRzIElDc3NTdHlsZXJTZXJ2aWNlIHtcclxuXHRwcml2YXRlIHJlYWRvbmx5IHN0eWxlRWxlbWVudDogSFRNTFN0eWxlRWxlbWVudDtcclxuXHJcblx0cHJpdmF0ZSBleHRlbnNpb25zOiBJRXh0ZW5zaW9uc1NlcnZpY2VcclxuXHJcblx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHQvLyBDb25zdHJ1Y3RvcnNcclxuXHQvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cdGNvbnN0cnVjdG9yKGV4dGVuc2lvbnM6IElFeHRlbnNpb25zU2VydmljZSkge1xyXG5cdFx0dGhpcy5leHRlbnNpb25zID0gZXh0ZW5zaW9ucztcclxuXHJcblx0XHR0aGlzLnN0eWxlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcclxuXHRcdHRoaXMuc3R5bGVFbGVtZW50LmlkID0gXCJjb2xvcmVkLXRhZ3Mtd3JhbmdsZXJcIlxyXG5cdH1cclxuXHJcblx0cHVibGljIHByb2Nlc3NFeHRlbnNpb25zKCkge1xyXG5cdFx0dGhpcy5zdHlsZUVsZW1lbnQuaW5uZXJIVE1MID0gXCJcIjtcclxuXHRcdHRoaXMuc3R5bGVFbGVtZW50LmlubmVySFRNTCA9IHRoaXMuY3JlYXRlQ1NTKClcclxuXHJcblx0XHRkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHRoaXMuc3R5bGVFbGVtZW50KTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBjbGVhbnVwKCkge1xyXG5cdFx0ZG9jdW1lbnQuaGVhZC5yZW1vdmVDaGlsZCh0aGlzLnN0eWxlRWxlbWVudCk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGNyZWF0ZUNTUygpOiBzdHJpbmcge1xyXG5cdFx0bGV0IGRpY3Q6IFJlY29yZDxzdHJpbmcsIFJlY29yZDxzdHJpbmcsIHN0cmluZz4+ID0ge307XHJcblxyXG5cdFx0dGhpcy5leHRlbnNpb25zLkVuYWJsZWRMaXN0XHJcblx0XHRcdC8vIEVhY2ggZXh0ZW5zaW9uIHNob3VsZCBoYW5kbGUgdGhlaXIgb3duIHJ1bGVzIGZvciBmaWx0ZXJpbmcgd2hpY2ggcmVjb3JkcyBhcmUgYXBwbGllZCB0byBvciBub3RcclxuXHRcdFx0LmZvckVhY2goZSA9PiB7XHJcblx0XHRcdFx0Y29uc3QgcnVsZXM6IFJlY29yZDxzdHJpbmcsIFJlY29yZDxzdHJpbmcsIHN0cmluZz4+ID0gZS5jc3NXcmFuZ2xlci5nZXRSdWxlcygpO1xyXG5cdFx0XHRcdC8vIEJlY2F1c2UgZWFjaCBleHRlbnNpb24gaXMgbG9hZGVkIGluIG9yZGVyLCB3ZSBjYW4gb3ZlcnJpZGUgYmVoYXZpb3VycyBmcm9tIGEgcHJldmlvdXMgcGx1Z2luIG9uZSBieSBvbmVcclxuXHRcdFx0XHRPYmplY3Qua2V5cyhydWxlcykuZm9yRWFjaCgoa2V5KSA9PiB7XHJcblx0XHRcdFx0XHRkaWN0W2tleV0gPSBPYmplY3QuYXNzaWduKGRpY3Rba2V5XSB8fCB7fSwgcnVsZXNba2V5XSk7IC8vIG92ZXJ3cml0ZSBvciBjcmVhdGUgbmV3IG9iamVjdFxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9KVxyXG5cclxuXHRcdHJldHVybiBPYmplY3Qua2V5cyhkaWN0KVxyXG5cdFx0XHQubWFwKFxyXG5cdFx0XHRcdHNlbGVjdG9yID0+IGAke3NlbGVjdG9yfSB7ICR7T2JqZWN0LmtleXMoZGljdFtzZWxlY3Rvcl0pLm1hcChwcm9wZXJ0eSA9PiBgJHtwcm9wZXJ0eX06ICR7ZGljdFtzZWxlY3Rvcl1bcHJvcGVydHldfTtgKS5qb2luKFwiXCIpfSB9YFxyXG5cdFx0XHQpLmpvaW4oXCJcXG5cIik7XHJcblx0fVxyXG5cclxufVxyXG4iLCAiLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vIEltcG9ydHNcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbmltcG9ydCB7SUNvbG9yZWRUYWdSZWNvcmR9IGZyb20gXCJzcmMvY29udHJhY3RzL3BsdWdpbi9zZXR0aW5ncy9JQ29sb3JlZFRhZ1JlY29yZFwiO1xyXG5pbXBvcnQge0lDc3NXcmFuZ2xlcn0gZnJvbSBcIi4uLy4uLy4uL2NvbnRyYWN0cy9wbHVnaW4vc2VydmljZXMvY3NzX3N0eWxlci9JQ3NzV3JhbmdsZXJcIjtcclxuaW1wb3J0IHtyZ2JUb1N0cmluZ30gZnJvbSBcIi4uLy4uLy4uL2xpYi9Db2xvckNvbnZlcnRlcnNcIjtcclxuaW1wb3J0IHtTZXJ2aWNlUHJvdmlkZXJ9IGZyb20gXCIuLi8uLi9zZXJ2aWNlcy9TZXJ2aWNlUHJvdmlkZXJcIjtcclxuaW1wb3J0IHt0aGVtZVNlbGVjdG9yRGFyaywgdGhlbWVTZWxlY3RvckxpZ2h0fSBmcm9tIFwiLi4vLi4vc2VydmljZXMvY3NzX3N0eWxlci9Dc3NTdHlsZXJTZXJ2aWNlXCI7XHJcblxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gQ29kZVxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbmV4cG9ydCBjbGFzcyBDb3JlQ3NzV3JhbmdsZXIgaW1wbGVtZW50cyBJQ3NzV3JhbmdsZXIge1xyXG5cdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblx0Ly8gSGVscGVyIE1ldGhvZHNcclxuXHQvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cdHByaXZhdGUgX3Byb3BlcnRpZXMocmVjb3JkOiBJQ29sb3JlZFRhZ1JlY29yZCk6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4ge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0XCJjb2xvclwiOiBgJHtyZ2JUb1N0cmluZyhyZWNvcmQuY29yZV9jb2xvcl9mb3JlZ3JvdW5kKX0gIWltcG9ydGFudGAsXHJcblx0XHRcdFwiYmFja2dyb3VuZFwiOiBgJHtyZ2JUb1N0cmluZyhyZWNvcmQuY29yZV9jb2xvcl9iYWNrZ3JvdW5kKX0gIWltcG9ydGFudGAsXHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIF9zZWxlY3RvcnModGhlbWU6IHN0cmluZywgcmVjb3JkOiBJQ29sb3JlZFRhZ1JlY29yZCk6IHN0cmluZ1tdIHtcclxuXHRcdHJldHVybiBbXHJcblx0XHRcdGAke3RoZW1lfSAudGFnW2hyZWY9XCIjJHtyZWNvcmQuY29yZV90YWdUZXh0fVwiIGldYCxcclxuXHRcdFx0YCR7dGhlbWV9IC5jbS10YWctJHtyZWNvcmQuY29yZV90YWdUZXh0fWAsXHJcblx0XHRdXHJcblx0fVxyXG5cdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblx0Ly8gTWV0aG9kc1xyXG5cdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblx0cHVibGljIGdldFJ1bGVzKCk6IFJlY29yZDxzdHJpbmcsIFJlY29yZDxzdHJpbmcsIHN0cmluZz4+IHtcclxuXHRcdGNvbnN0IGRpY3Q6IFJlY29yZDxzdHJpbmcsIFJlY29yZDxzdHJpbmcsIHN0cmluZz4+ID0ge307XHJcblxyXG5cdFx0U2VydmljZVByb3ZpZGVyLnRhZ1JlY29yZHNcclxuXHRcdFx0LmdldFRhZ3NGbGF0KGZhbHNlKVxyXG5cdFx0XHQuZmlsdGVyKHJlY29yZCA9PiByZWNvcmQuY29yZV9lbmFibGVkKVxyXG5cdFx0XHQuZm9yRWFjaChyZWNvcmQgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5fc2VsZWN0b3JzKHRoZW1lU2VsZWN0b3JMaWdodCwgcmVjb3JkKVxyXG5cdFx0XHRcdFx0XHQuZm9yRWFjaCgocnVsZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdGRpY3RbcnVsZV0gPSB0aGlzLl9wcm9wZXJ0aWVzKHJlY29yZClcclxuXHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdHRoaXMuX3NlbGVjdG9ycyh0aGVtZVNlbGVjdG9yRGFyaywgcmVjb3JkKVxyXG5cdFx0XHRcdFx0XHQuZm9yRWFjaCgocnVsZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdGRpY3RbcnVsZV0gPSB0aGlzLl9wcm9wZXJ0aWVzKHJlY29yZClcclxuXHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHR9XHJcblx0XHRcdClcclxuXHRcdHJldHVybiBkaWN0XHJcblx0fVxyXG59XHJcbiIsICIvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gSW1wb3J0c1xyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuaW1wb3J0IHtJRXh0ZW5zaW9ufSBmcm9tIFwiLi4vLi4vY29udHJhY3RzL3BsdWdpbi9leHRlbnNpb25zL0lFeHRlbnNpb25cIjtcclxuaW1wb3J0IHtUYWJsZUNvbnRlbnRQb3B1bGF0b3J9IGZyb20gXCIuLi8uLi9jb250cmFjdHMvcGx1Z2luL3VpL2NvbXBvbmVudHMvVGFibGVDb250ZW50UG9wdWxhdG9yXCI7XHJcbmltcG9ydCB7SUNzc1dyYW5nbGVyfSBmcm9tIFwiLi4vLi4vY29udHJhY3RzL3BsdWdpbi9zZXJ2aWNlcy9jc3Nfc3R5bGVyL0lDc3NXcmFuZ2xlclwiO1xyXG5pbXBvcnQge0lFeHRlbnNpb25SZWNvcmR9IGZyb20gXCIuLi8uLi9jb250cmFjdHMvcGx1Z2luL2V4dGVuc2lvbnMvSUV4dGVuc2lvblJlY29yZFwiO1xyXG5pbXBvcnQge1NlcnZpY2VQcm92aWRlcn0gZnJvbSBcIi4uL3NlcnZpY2VzL1NlcnZpY2VQcm92aWRlclwiO1xyXG5cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vIENvZGVcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBBYnN0cmFjdEV4dGVuc2lvbjxUIGV4dGVuZHMgSUV4dGVuc2lvblJlY29yZD4gaW1wbGVtZW50cyBJRXh0ZW5zaW9uPFQ+IHtcclxuXHRhYnN0cmFjdCByZWFkb25seSBUYWJsZUNvbnRlbnRQb3B1bGF0b3JzOiBUYWJsZUNvbnRlbnRQb3B1bGF0b3JbXTtcclxuXHRhYnN0cmFjdCByZWFkb25seSBjc3NXcmFuZ2xlcjogSUNzc1dyYW5nbGVyO1xyXG5cdGFic3RyYWN0IHJlYWRvbmx5IGV4dGVuc2lvbk5hbWU6IHN0cmluZztcclxuXHRhYnN0cmFjdCByZWFkb25seSBkZXNjcmlwdGlvbjogc3RyaW5nO1xyXG5cdHJlYWRvbmx5IGV4dGVuc2lvblJlcXVpcmVtZW50czogc3RyaW5nW10gPSBbXVxyXG5cclxuXHRwdWJsaWMgZ2V0IGlzRW5hYmxlZCgpOiBib29sZWFuIHtcclxuXHRcdHJldHVybiBTZXJ2aWNlUHJvdmlkZXIuZXh0ZW5zaW9ucy5FbmFibGVkTGlzdC5jb250YWlucyh0aGlzKVxyXG5cdH1cclxuXHJcblx0cHVibGljIHNldCBpc0VuYWJsZWQodmFsdWU6IGJvb2xlYW4pIHtcclxuXHRcdFNlcnZpY2VQcm92aWRlci5leHRlbnNpb25zLnNldEV4dGVuc2lvbih0aGlzLCB2YWx1ZSlcclxuXHR9XHJcblxyXG5cdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblx0Ly8gTWV0aG9kc1xyXG5cdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblx0YWJzdHJhY3QgZ2V0RGVmYXVsdFJlY29yZCgpOiBUXHJcbn1cclxuIiwgIi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyBJbXBvcnRzXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5pbXBvcnQge1RhYmxlQ29udGVudFBvcHVsYXRvcn0gZnJvbSBcIi4uLy4uLy4uL2NvbnRyYWN0cy9wbHVnaW4vdWkvY29tcG9uZW50cy9UYWJsZUNvbnRlbnRQb3B1bGF0b3JcIjtcclxuaW1wb3J0IHt2NCBhcyB1dWlkVjR9IGZyb20gXCJ1dWlkXCI7XHJcbmltcG9ydCB7U2V0dGluZ1RhZ1JlY29yZENvbG9yQ29tcG9uZW50fSBmcm9tIFwiLi4vLi4vdWkvc2V0dGluZ190YWIvY29tcG9uZW50cy90YWdfdGFibGUvU2V0dGluZ1RhZ1JlY29yZENvbG9yQ29tcG9uZW50XCI7XHJcbmltcG9ydCB7U2V0dGluZ1RhZ1JlY29yZFRvZ2dsZUNvbXBvbmVudH0gZnJvbSBcIi4uLy4uL3VpL3NldHRpbmdfdGFiL2NvbXBvbmVudHMvdGFnX3RhYmxlL1NldHRpbmdUYWdSZWNvcmRUb2dnbGVDb21wb25lbnRcIjtcclxuaW1wb3J0IHtJRXh0ZW5zaW9uUmVjb3JkQ29yZX0gZnJvbSBcIi4vSUV4dGVuc2lvblJlY29yZENzc1N0eWxpbmdcIjtcclxuaW1wb3J0IHtDb3JlQ3NzV3JhbmdsZXJ9IGZyb20gXCIuL0NvcmVDc3NXcmFuZ2xlclwiO1xyXG5pbXBvcnQge0Fic3RyYWN0RXh0ZW5zaW9ufSBmcm9tIFwiLi4vQWJzdHJhY3RFeHRlbnNpb25cIjtcclxuXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyBDb2RlXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5leHBvcnQgY2xhc3MgQ29yZUV4dGVuc2lvbiBleHRlbmRzIEFic3RyYWN0RXh0ZW5zaW9uPElFeHRlbnNpb25SZWNvcmRDb3JlPiB7XHJcblx0cHVibGljIGNzc1dyYW5nbGVyID0gbmV3IENvcmVDc3NXcmFuZ2xlcigpXHJcblx0cHVibGljIGV4dGVuc2lvbk5hbWUgPSAnY29yZSc7XHJcblx0cHVibGljIGRlc2NyaXB0aW9uID0gXCJDb3JlIGZ1bmN0aW9uYWxpdHkgb2YgdGhlIHBsdWdpblwiO1xyXG5cdHB1YmxpYyBUYWJsZUNvbnRlbnRQb3B1bGF0b3JzOiBUYWJsZUNvbnRlbnRQb3B1bGF0b3JbXSA9IFtcclxuXHRcdHtcclxuXHRcdFx0dGl0bGU6IFwiRW5hYmxlIENvbG9yc1wiLFxyXG5cdFx0XHRjYWxsYmFjazogKHJvd0RhdGEpID0+IHtcclxuXHRcdFx0XHRyZXR1cm4gbmV3IFNldHRpbmdUYWdSZWNvcmRUb2dnbGVDb21wb25lbnQocm93RGF0YSxcclxuXHRcdFx0XHRcdFwiY29yZV9lbmFibGVkXCIpO1xyXG5cdFx0XHR9LFxyXG5cdFx0XHRjbGFzc2VzOiBbXCJoZWFkZXItd3JhcC1ldmVyeS13b3JkXCIsIFwiYm9yZGVyLXJpZ2h0LWRvdHRlZFwiXVxyXG5cdFx0fSwge1xyXG5cdFx0XHR0aXRsZTogXCJUZXh0XCIsXHJcblx0XHRcdGNhbGxiYWNrOiAocm93RGF0YSkgPT4ge1xyXG5cdFx0XHRcdHJldHVybiBuZXcgU2V0dGluZ1RhZ1JlY29yZENvbG9yQ29tcG9uZW50KHJvd0RhdGEsXHJcblx0XHRcdFx0XHRcImNvcmVfY29sb3JfZm9yZWdyb3VuZFwiKTtcclxuXHRcdFx0fSxcclxuXHRcdFx0Y2xhc3NlczogW11cclxuXHRcdH0sIHtcclxuXHRcdFx0dGl0bGU6IFwiRmlsbFwiLFxyXG5cdFx0XHRjYWxsYmFjazogKHJvd0RhdGEpID0+IHtcclxuXHRcdFx0XHRyZXR1cm4gbmV3IFNldHRpbmdUYWdSZWNvcmRDb2xvckNvbXBvbmVudChyb3dEYXRhLFxyXG5cdFx0XHRcdFx0XCJjb3JlX2NvbG9yX2JhY2tncm91bmRcIik7XHJcblx0XHRcdH0sXHJcblx0XHRcdGNsYXNzZXM6IFtdXHJcblx0XHR9LF1cclxuXHJcblx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHQvLyBNZXRob2RzXHJcblx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHRwdWJsaWMgZ2V0RGVmYXVsdFJlY29yZCgpOiBJRXh0ZW5zaW9uUmVjb3JkQ29yZSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRjb3JlX2VuYWJsZWQ6IHRydWUsXHJcblx0XHRcdGNvcmVfaWQ6IHV1aWRWNCgpLFxyXG5cdFx0XHRjb3JlX3RhZ1RleHQ6IFwibmV3LXRhZ1wiLFxyXG5cdFx0XHRjb3JlX2NvbG9yX2ZvcmVncm91bmQ6IHtyOiAyNTUsIGc6IDI1NSwgYjogMjU1fSxcclxuXHRcdFx0Y29yZV9jb2xvcl9iYWNrZ3JvdW5kOiB7cjogMCwgZzogMCwgYjogMH0sXHJcblx0XHR9O1xyXG5cdH1cclxufVxyXG4iLCAiLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vIEltcG9ydHNcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbmltcG9ydCB7SUNvbG9yZWRUYWdSZWNvcmR9IGZyb20gXCJzcmMvY29udHJhY3RzL3BsdWdpbi9zZXR0aW5ncy9JQ29sb3JlZFRhZ1JlY29yZFwiO1xyXG5pbXBvcnQge0lDc3NXcmFuZ2xlcn0gZnJvbSBcIi4uLy4uLy4uL2NvbnRyYWN0cy9wbHVnaW4vc2VydmljZXMvY3NzX3N0eWxlci9JQ3NzV3JhbmdsZXJcIjtcclxuaW1wb3J0IHtTZXJ2aWNlUHJvdmlkZXJ9IGZyb20gXCIuLi8uLi9zZXJ2aWNlcy9TZXJ2aWNlUHJvdmlkZXJcIjtcclxuaW1wb3J0IHt0aGVtZVNlbGVjdG9yRGFyaywgdGhlbWVTZWxlY3RvckxpZ2h0fSBmcm9tIFwiLi4vLi4vc2VydmljZXMvY3NzX3N0eWxlci9Dc3NTdHlsZXJTZXJ2aWNlXCI7XHJcbmltcG9ydCB7cmdib3BhY2l0eVRvU3RyaW5nfSBmcm9tIFwiLi4vLi4vLi4vbGliL0NvbG9yQ29udmVydGVyc1wiO1xyXG5cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vIENvZGVcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbmV4cG9ydCBjbGFzcyBDc3NTdHlsaW5nQ3NzV3JhbmdsZXIgaW1wbGVtZW50cyBJQ3NzV3JhbmdsZXIge1xyXG5cdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblx0Ly8gSGVscGVyIE1ldGhvZHNcclxuXHQvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cdHByaXZhdGUgX3Byb3BlcnRpZXMocmVjb3JkOiBJQ29sb3JlZFRhZ1JlY29yZCk6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4ge1xyXG5cdFx0Y29uc3QgZGljdDogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9XHJcblx0XHRpZiAocmVjb3JkLmNzc19zdHlsaW5nX2JvbGRfZW5hYmxlZCkge1xyXG5cdFx0XHRkaWN0W1wiZm9udC13ZWlnaHRcIl0gPSBcImJvbGRcIlxyXG5cdFx0fVxyXG5cdFx0aWYgKHJlY29yZC5jc3Nfc3R5bGluZ19pdGFsaWNfZW5hYmxlZCkge1xyXG5cdFx0XHRkaWN0W1wiZm9udC1zdHlsZVwiXSA9IFwiaXRhbGljXCJcclxuXHRcdH1cclxuXHRcdGlmIChyZWNvcmQuY3NzX3N0eWxpbmdfZm9udF9mYW1pbHkgIT09IHVuZGVmaW5lZCAmJiByZWNvcmQuY3NzX3N0eWxpbmdfZm9udF9mYW1pbHkgIT09IG51bGwgJiYgcmVjb3JkLmNzc19zdHlsaW5nX2ZvbnRfZmFtaWx5ICE9PSBcIlwiKSB7XHJcblx0XHRcdGRpY3RbXCJmb250LWZhbWlseVwiXSA9IGAke3JlY29yZC5jc3Nfc3R5bGluZ19mb250X2ZhbWlseX1gXHJcblx0XHR9XHJcblx0XHRpZiAocmVjb3JkLmNzc19zdHlsaW5nX2ZvbnRfc2l6ZSAhPT0gdW5kZWZpbmVkICYmIHJlY29yZC5jc3Nfc3R5bGluZ19mb250X3NpemUgIT09IG51bGwgJiYgcmVjb3JkLmNzc19zdHlsaW5nX2ZvbnRfc2l6ZSAhPT0gMSkge1xyXG5cdFx0XHRkaWN0W1wiZm9udC1zaXplXCJdID0gYCR7cmVjb3JkLmNzc19zdHlsaW5nX2ZvbnRfc2l6ZX1lbWBcclxuXHRcdH1cclxuXHRcdGlmIChyZWNvcmQuY3NzX3N0eWxpbmdfb3BhY2l0eSAhPT0gdW5kZWZpbmVkICYmIHJlY29yZC5jc3Nfc3R5bGluZ19vcGFjaXR5ICE9PSBudWxsICYmIHJlY29yZC5jc3Nfc3R5bGluZ19vcGFjaXR5ICE9PSAxKSB7XHJcblx0XHRcdGlmIChyZWNvcmQuY29yZV9lbmFibGVkKXtcclxuXHRcdFx0XHRkaWN0W1wiYmFja2dyb3VuZC1jb2xvclwiXSA9IGAke3JnYm9wYWNpdHlUb1N0cmluZyhyZWNvcmQuY29yZV9jb2xvcl9iYWNrZ3JvdW5kLCByZWNvcmQuY3NzX3N0eWxpbmdfb3BhY2l0eSl9ICFpbXBvcnRhbnRgXHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0ZGljdFtcImJhY2tncm91bmQtY29sb3JcIl0gPSBgaHNsYSh2YXIoLS1hY2NlbnQtaCksIHZhcigtLWFjY2VudC1zKSwgdmFyKC0tYWNjZW50LWwpLCAke3JlY29yZC5jc3Nfc3R5bGluZ19vcGFjaXR5fSlgXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gZGljdDtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgX3NlbGVjdG9ycyh0aGVtZTogc3RyaW5nLCByZWNvcmQ6IElDb2xvcmVkVGFnUmVjb3JkKTogc3RyaW5nW10ge1xyXG5cdFx0cmV0dXJuIFtcclxuXHRcdFx0YCR7dGhlbWV9IC50YWdbaHJlZj1cIiMke3JlY29yZC5jb3JlX3RhZ1RleHR9XCIgaV1gLFxyXG5cdFx0XHRgJHt0aGVtZX0gLmNtLXRhZy0ke3JlY29yZC5jb3JlX3RhZ1RleHR9YCxcclxuXHRcdF1cclxuXHR9XHJcblx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHQvLyBNZXRob2RzXHJcblx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHRwdWJsaWMgZ2V0UnVsZXMoKTogUmVjb3JkPHN0cmluZywgUmVjb3JkPHN0cmluZywgc3RyaW5nPj4ge1xyXG5cdFx0Y29uc3QgZGljdDogUmVjb3JkPHN0cmluZywgUmVjb3JkPHN0cmluZywgc3RyaW5nPj4gPSB7fTtcclxuXHJcblx0XHQvLyBPbmx5IHVzZSB0aGUgZGVmYXVsdCByZWNvcmQgZm9yIHRoZSBzcGVjaWZpYyBleHRlbnNpb24gd2UgYXJlIGluLFxyXG5cdFx0Ly9cdFx0Tm8gbmVlZCB0byBjaGVjayBhbGwgdGhlIGF2YWlsYWJsZSBrZXlzIGluIGFsbCBhdmFpbGFibGUgZXh0ZW5zaW9uc1xyXG5cdFx0Y29uc3QgZGVmYXVsdFJlY29yZCA9IFNlcnZpY2VQcm92aWRlci5leHRlbnNpb25zLkNzc1N0eWxpbmcuZ2V0RGVmYXVsdFJlY29yZCgpXHJcblxyXG5cdFx0U2VydmljZVByb3ZpZGVyLnRhZ1JlY29yZHNcclxuXHRcdFx0LmdldFRhZ3NGbGF0KGZhbHNlKVxyXG5cdFx0XHQuZmlsdGVyKHJlY29yZCA9PiB7XHJcblx0XHRcdFx0Ly8gQHRzLWlnbm9yZVxyXG5cdFx0XHRcdHJldHVybiBPYmplY3Qua2V5cyhkZWZhdWx0UmVjb3JkKS5maXJzdChrZXkgPT4gcmVjb3JkW2tleV0gIT09IGRlZmF1bHRSZWNvcmRba2V5XSlcclxuXHRcdFx0fSlcclxuXHRcdFx0LmZvckVhY2gocmVjb3JkID0+IHtcclxuXHRcdFx0XHRcdHRoaXMuX3NlbGVjdG9ycyh0aGVtZVNlbGVjdG9yTGlnaHQsIHJlY29yZClcclxuXHRcdFx0XHRcdFx0LmZvckVhY2goKHJ1bGUpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRkaWN0W3J1bGVdID0gdGhpcy5fcHJvcGVydGllcyhyZWNvcmQpXHJcblx0XHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHR0aGlzLl9zZWxlY3RvcnModGhlbWVTZWxlY3RvckRhcmssIHJlY29yZClcclxuXHRcdFx0XHRcdFx0LmZvckVhY2goKHJ1bGUpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRkaWN0W3J1bGVdID0gdGhpcy5fcHJvcGVydGllcyhyZWNvcmQpXHJcblx0XHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0fVxyXG5cdFx0XHQpXHJcblx0XHRyZXR1cm4gZGljdFxyXG5cdH1cclxufVxyXG4iLCAiLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vIEltcG9ydHNcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbmltcG9ydCB7QmFzZUNvbXBvbmVudCwgRXh0cmFCdXR0b25Db21wb25lbnQsIFNsaWRlckNvbXBvbmVudCwgVGV4dEFyZWFDb21wb25lbnR9IGZyb20gXCJvYnNpZGlhblwiO1xyXG5pbXBvcnQge051bWJlclByb3BlcnRpZXN9IGZyb20gXCJzcmMvY29udHJhY3RzL3BsdWdpbi9zZXJ2aWNlcy9leHRlbnNpb25zL0V4dGVuc2lvblByb3BlcnRpZXNcIjtcclxuaW1wb3J0IHtJU2V0dGluZ1RhZ1JlY29yZENvbXBvbmVudH0gZnJvbSBcInNyYy9jb250cmFjdHMvcGx1Z2luL3VpL2NvbXBvbmVudHMvdGFnX3RhYmxlL0lTZXR0aW5nVGFnUmVjb3JkQ29tcG9uZW50XCI7XHJcbmltcG9ydCB7U2VydmljZVByb3ZpZGVyfSBmcm9tIFwiLi4vLi4vLi4vLi4vc2VydmljZXMvU2VydmljZVByb3ZpZGVyXCI7XHJcbmltcG9ydCB7Um93RGF0YVR5cGV9IGZyb20gXCIuLi8uLi8uLi8uLi8uLi9jb250cmFjdHMvcGx1Z2luL3VpL2NvbXBvbmVudHMvUm93RGF0YVR5cGVcIjtcclxuXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyBDb2RlXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5leHBvcnQgY2xhc3MgU2V0dGluZ1RhZ1JlY29yZFNsaWRlckNvbXBvbmVudCBleHRlbmRzIEJhc2VDb21wb25lbnQgaW1wbGVtZW50cyBJU2V0dGluZ1RhZ1JlY29yZENvbXBvbmVudCB7XHJcblx0cHVibGljIGJ1dHRvbkVsOkV4dHJhQnV0dG9uQ29tcG9uZW50O1xyXG5cdHB1YmxpYyBzbGlkZXJFbDpTbGlkZXJDb21wb25lbnQ7XHJcblx0cHVibGljIGJveEVsOkhUTUxFbGVtZW50O1xyXG5cclxuXHQvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cdC8vIENvbnN0cnVjdG9yc1xyXG5cdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblx0Y29uc3RydWN0b3Iocm93RGF0YTogUm93RGF0YVR5cGUsIHByb3BlcnR5X25hbWU6IE51bWJlclByb3BlcnRpZXMsIG1pbjogbnVtYmVyLCBtYXg6IG51bWJlciwgc3RlcDogbnVtYmVyLCBlbmFibGVSZXNldDogYm9vbGVhbiA9IGZhbHNlLCByZXNldFZhbHVlOm51bWJlcnxudWxsPW51bGwpIHtcclxuXHRcdHN1cGVyKCk7XHJcblxyXG5cdFx0dGhpcy5ib3hFbCA9IHJvd0RhdGEucGFyZW50RWwuY3JlYXRlRGl2KHtcImNsc1wiOlwic2xpZGVyLWJveFwifSk7XHJcblxyXG5cdFx0aWYgKGVuYWJsZVJlc2V0KSB7XHJcblx0XHRcdHRoaXMuYnV0dG9uRWwgPSBuZXcgRXh0cmFCdXR0b25Db21wb25lbnQodGhpcy5ib3hFbClcclxuXHRcdFx0XHQuc2V0SWNvbihcInJlc2V0XCIpXHJcblx0XHRcdFx0LnNldFRvb2x0aXAoXCJyZXN0b3JlIGRlZmF1bHRzXCIpXHJcblx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdFx0cm93RGF0YS5yZWNvcmRbcHJvcGVydHlfbmFtZV0gPSByZXNldFZhbHVlID09IG51bGwgPyBtaW4gOiByZXNldFZhbHVlO1xyXG5cdFx0XHRcdFx0dGhpcy5zbGlkZXJFbC5zZXRWYWx1ZShyb3dEYXRhLnJlY29yZFtwcm9wZXJ0eV9uYW1lXSA/PyBtaW4pXHJcblx0XHRcdFx0XHRhd2FpdCBTZXJ2aWNlUHJvdmlkZXIudGFnUmVjb3Jkcy5hZGRPclVwZGF0ZVRhZyhyb3dEYXRhLnJlY29yZClcclxuXHRcdFx0XHR9KVxyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuc2xpZGVyRWwgPSBuZXcgU2xpZGVyQ29tcG9uZW50KHRoaXMuYm94RWwpXHJcblx0XHRcdC5zZXRMaW1pdHMobWluLCBtYXgsIHN0ZXApXHJcblx0XHRcdC5zZXRWYWx1ZShyb3dEYXRhLnJlY29yZFtwcm9wZXJ0eV9uYW1lXSA/PyBtaW4pXHJcblx0XHRcdC5zZXREeW5hbWljVG9vbHRpcCgpXHJcblx0XHRcdC5vbkNoYW5nZShhc3luYyAobmV3VmFsdWUpID0+IHtcclxuXHRcdFx0XHRyb3dEYXRhLnJlY29yZFtwcm9wZXJ0eV9uYW1lXSA9IG5ld1ZhbHVlO1xyXG5cdFx0XHRcdGF3YWl0IFNlcnZpY2VQcm92aWRlci50YWdSZWNvcmRzLmFkZE9yVXBkYXRlVGFnKHJvd0RhdGEucmVjb3JkKVxyXG5cdFx0XHR9KVxyXG5cclxuXHR9XHJcblxyXG5cdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblx0Ly8gTWV0aG9kc1xyXG5cdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblx0cHVibGljIGhpZGUoKXtcclxuXHRcdHRoaXMuYnV0dG9uRWwuZXh0cmFTZXR0aW5nc0VsLmhpZGUoKVxyXG5cdFx0dGhpcy5zbGlkZXJFbC5zbGlkZXJFbC5oaWRlKClcclxuXHRcdHRoaXMuYm94RWwuaGlkZSgpXHJcblx0fVxyXG59XHJcbiIsICIvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gSW1wb3J0c1xyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuaW1wb3J0IHtUZXh0Q29tcG9uZW50fSBmcm9tIFwib2JzaWRpYW5cIjtcclxuaW1wb3J0IHtUZXh0UHJvcGVydGllc30gZnJvbSBcInNyYy9jb250cmFjdHMvcGx1Z2luL3NlcnZpY2VzL2V4dGVuc2lvbnMvRXh0ZW5zaW9uUHJvcGVydGllc1wiO1xyXG5pbXBvcnQge0lTZXR0aW5nVGFnUmVjb3JkQ29tcG9uZW50fSBmcm9tIFwic3JjL2NvbnRyYWN0cy9wbHVnaW4vdWkvY29tcG9uZW50cy90YWdfdGFibGUvSVNldHRpbmdUYWdSZWNvcmRDb21wb25lbnRcIjtcclxuaW1wb3J0IHtTZXJ2aWNlUHJvdmlkZXJ9IGZyb20gXCIuLi8uLi8uLi8uLi9zZXJ2aWNlcy9TZXJ2aWNlUHJvdmlkZXJcIjtcclxuaW1wb3J0IHtSb3dEYXRhVHlwZX0gZnJvbSBcIi4uLy4uLy4uLy4uLy4uL2NvbnRyYWN0cy9wbHVnaW4vdWkvY29tcG9uZW50cy9Sb3dEYXRhVHlwZVwiO1xyXG5cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vIENvZGVcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbmV4cG9ydCBjbGFzcyBTZXR0aW5nVGFnUmVjb3JkVGV4dElucHV0Q29tcG9uZW50IGV4dGVuZHMgVGV4dENvbXBvbmVudCBpbXBsZW1lbnRzIElTZXR0aW5nVGFnUmVjb3JkQ29tcG9uZW50IHtcclxuXHRjb25zdHJ1Y3Rvcihyb3dEYXRhOiBSb3dEYXRhVHlwZSwgcHJvcGVydHlfbmFtZTogVGV4dFByb3BlcnRpZXMpIHtcclxuXHRcdHN1cGVyKHJvd0RhdGEucGFyZW50RWwpOyAvLyBPYnNpZGlhbidzIHN0dWZmXHJcblxyXG5cdFx0dGhpcy5zZXRWYWx1ZShyb3dEYXRhLnJlY29yZFtwcm9wZXJ0eV9uYW1lXSlcclxuXHRcdHRoaXMub25DaGFuZ2UoYXN5bmMgKG5ld1ZhbHVlKSA9PiB7XHJcblx0XHRcdHJvd0RhdGEucmVjb3JkW3Byb3BlcnR5X25hbWVdID0gbmV3VmFsdWU7XHJcblx0XHRcdGF3YWl0IFNlcnZpY2VQcm92aWRlci50YWdSZWNvcmRzLmFkZE9yVXBkYXRlVGFnKHJvd0RhdGEucmVjb3JkKVxyXG5cdFx0fSlcclxuXHR9XHJcbn1cclxuIiwgIi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyBJbXBvcnRzXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5pbXBvcnQge1RhYmxlQ29udGVudFBvcHVsYXRvcn0gZnJvbSBcIi4uLy4uLy4uL2NvbnRyYWN0cy9wbHVnaW4vdWkvY29tcG9uZW50cy9UYWJsZUNvbnRlbnRQb3B1bGF0b3JcIjtcclxuaW1wb3J0IHtcclxuXHRTZXR0aW5nVGFnUmVjb3JkVG9nZ2xlQ29tcG9uZW50XHJcbn0gZnJvbSBcIi4uLy4uL3VpL3NldHRpbmdfdGFiL2NvbXBvbmVudHMvdGFnX3RhYmxlL1NldHRpbmdUYWdSZWNvcmRUb2dnbGVDb21wb25lbnRcIjtcclxuaW1wb3J0IHtJRXh0ZW5zaW9uUmVjb3JkQ3NzU3R5bGluZ30gZnJvbSBcIi4vSUV4dGVuc2lvblJlY29yZENzc1N0eWxpbmdcIjtcclxuaW1wb3J0IHtJQ3NzV3JhbmdsZXJ9IGZyb20gXCJzcmMvY29udHJhY3RzL3BsdWdpbi9zZXJ2aWNlcy9jc3Nfc3R5bGVyL0lDc3NXcmFuZ2xlclwiO1xyXG5pbXBvcnQge0Nzc1N0eWxpbmdDc3NXcmFuZ2xlcn0gZnJvbSBcIi4vQ3NzU3R5bGluZ0Nzc1dyYW5nbGVyXCI7XHJcbmltcG9ydCB7QWJzdHJhY3RFeHRlbnNpb259IGZyb20gXCIuLi9BYnN0cmFjdEV4dGVuc2lvblwiO1xyXG5pbXBvcnQge1xyXG5cdFNldHRpbmdUYWdSZWNvcmRTbGlkZXJDb21wb25lbnRcclxufSBmcm9tIFwiLi4vLi4vdWkvc2V0dGluZ190YWIvY29tcG9uZW50cy90YWdfdGFibGUvU2V0dGluZ1RhZ1JlY29yZFNsaWRlckNvbXBvbmVudFwiO1xyXG5pbXBvcnQge1xyXG5cdFNldHRpbmdUYWdSZWNvcmRUZXh0SW5wdXRDb21wb25lbnRcclxufSBmcm9tIFwiLi4vLi4vdWkvc2V0dGluZ190YWIvY29tcG9uZW50cy90YWdfdGFibGUvU2V0dGluZ1RhZ1JlY29yZFRleHRJbnB1dENvbXBvbmVudFwiO1xyXG5cclxuXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyBDb2RlXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5leHBvcnQgY2xhc3MgQ3NzU3R5bGluZ0V4dGVuc2lvbiBleHRlbmRzIEFic3RyYWN0RXh0ZW5zaW9uPElFeHRlbnNpb25SZWNvcmRDc3NTdHlsaW5nPiB7XHJcblx0cHVibGljIGNzc1dyYW5nbGVyOiBJQ3NzV3JhbmdsZXIgPSBuZXcgQ3NzU3R5bGluZ0Nzc1dyYW5nbGVyKCk7XHJcblx0cHVibGljIGV4dGVuc2lvbk5hbWUgPSBcIlN0eWxpbmdcIjtcclxuXHRwdWJsaWMgZGVzY3JpcHRpb24gPSBcIlN0eWxlIHlvdXIgdGFncyBldmVuIG1vcmUhXCI7XHJcblx0cHVibGljIFRhYmxlQ29udGVudFBvcHVsYXRvcnM6IFRhYmxlQ29udGVudFBvcHVsYXRvcltdID0gW1xyXG5cdFx0Ly8ge1xyXG5cdFx0Ly8gXHR0aXRsZTogXCJDdXN0b20gQ1NTIHN0eWxpbmdcIixcclxuXHRcdC8vIFx0Y2FsbGJhY2s6IChyb3dEYXRhKSA9PiBuZXcgU2V0dGluZ1RhZ1JlY29yZFRvZ2dsZUNvbXBvbmVudChyb3dEYXRhLCBcImNzc19zdHlsaW5nX2VuYWJsZWRcIiksXHJcblx0XHQvLyBcdGNsYXNzZXM6IFtcImhlYWRlci13cmFwLWV2ZXJ5LXdvcmRcIiwgXCJib3JkZXItcmlnaHQtZG90dGVkXCJdXHJcblx0XHQvLyB9LFxyXG5cdFx0e1xyXG5cdFx0XHR0aXRsZTogXCJCYWNrZ3JvdW5kIE9wYWNpdHlcIixcclxuXHRcdFx0Y2FsbGJhY2s6IChyb3dEYXRhKSA9PlxyXG5cdFx0XHRcdG5ldyBTZXR0aW5nVGFnUmVjb3JkU2xpZGVyQ29tcG9uZW50KFxyXG5cdFx0XHRcdFx0cm93RGF0YSxcclxuXHRcdFx0XHRcdFwiY3NzX3N0eWxpbmdfb3BhY2l0eVwiLFxyXG5cdFx0XHRcdFx0MC4wLCAxLjAsIC4wMSxcclxuXHRcdFx0XHRcdHRydWUsXHJcblx0XHRcdFx0XHQxLjBcclxuXHRcdFx0XHQpLFxyXG5cdFx0XHRjbGFzc2VzOiBbXCJoZWFkZXItd3JhcC1ldmVyeS13b3JkXCJdXHJcblx0XHR9LFxyXG5cdFx0e1xyXG5cdFx0XHR0aXRsZTogXCJCb2xkaWZ5XCIsXHJcblx0XHRcdGNhbGxiYWNrOiAocm93RGF0YSkgPT4gbmV3IFNldHRpbmdUYWdSZWNvcmRUb2dnbGVDb21wb25lbnQocm93RGF0YSwgXCJjc3Nfc3R5bGluZ19ib2xkX2VuYWJsZWRcIiksXHJcblx0XHRcdGNsYXNzZXM6IFtdXHJcblx0XHR9LFxyXG5cdFx0e1xyXG5cdFx0XHR0aXRsZTogXCJJdGFsaWNpemVcIixcclxuXHRcdFx0Y2FsbGJhY2s6IChyb3dEYXRhKSA9PiBuZXcgU2V0dGluZ1RhZ1JlY29yZFRvZ2dsZUNvbXBvbmVudChyb3dEYXRhLCBcImNzc19zdHlsaW5nX2l0YWxpY19lbmFibGVkXCIpLFxyXG5cdFx0XHRjbGFzc2VzOiBbXVxyXG5cdFx0fSxcclxuXHRcdHtcclxuXHRcdFx0dGl0bGU6IFwiRm9udCBGYW1pbHlcIixcclxuXHRcdFx0Y2FsbGJhY2s6IChyb3dEYXRhKSA9PiBuZXcgU2V0dGluZ1RhZ1JlY29yZFRleHRJbnB1dENvbXBvbmVudChyb3dEYXRhLCBcImNzc19zdHlsaW5nX2ZvbnRfZmFtaWx5XCIpLFxyXG5cdFx0XHRjbGFzc2VzOiBbXVxyXG5cdFx0fSxcclxuXHRcdHtcclxuXHRcdFx0dGl0bGU6IFwiRm9udCBTaXplXCIsXHJcblx0XHRcdGNhbGxiYWNrOiAocm93RGF0YSkgPT4gbmV3IFNldHRpbmdUYWdSZWNvcmRTbGlkZXJDb21wb25lbnQoXHJcblx0XHRcdFx0cm93RGF0YSxcclxuXHRcdFx0XHRcImNzc19zdHlsaW5nX2ZvbnRfc2l6ZVwiLFxyXG5cdFx0XHRcdDAuNSwgMi4sIC4wNSxcclxuXHRcdFx0XHR0cnVlLFxyXG5cdFx0XHRcdDFcclxuXHRcdFx0KSxcclxuXHRcdFx0Y2xhc3NlczogW11cclxuXHRcdH0sXHJcblx0XVxyXG5cclxuXHRwdWJsaWMgZ2V0RGVmYXVsdFJlY29yZCgpOiBJRXh0ZW5zaW9uUmVjb3JkQ3NzU3R5bGluZyB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRjc3Nfc3R5bGluZ19ib2xkX2VuYWJsZWQ6IGZhbHNlLFxyXG5cdFx0XHRjc3Nfc3R5bGluZ19mb250X2ZhbWlseTogXCJcIixcclxuXHRcdFx0Y3NzX3N0eWxpbmdfZm9udF9zaXplOiAxLjAsXHJcblx0XHRcdGNzc19zdHlsaW5nX2l0YWxpY19lbmFibGVkOiBmYWxzZSxcclxuXHRcdFx0Y3NzX3N0eWxpbmdfb3BhY2l0eTogMS4wLFxyXG5cdFx0fTtcclxuXHR9XHJcbn1cclxuIiwgIi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyBJbXBvcnRzXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5pbXBvcnQge0lDb2xvcmVkVGFnUmVjb3JkfSBmcm9tIFwic3JjL2NvbnRyYWN0cy9wbHVnaW4vc2V0dGluZ3MvSUNvbG9yZWRUYWdSZWNvcmRcIjtcclxuaW1wb3J0IHtJQ3NzV3JhbmdsZXJ9IGZyb20gXCIuLi8uLi8uLi9jb250cmFjdHMvcGx1Z2luL3NlcnZpY2VzL2Nzc19zdHlsZXIvSUNzc1dyYW5nbGVyXCI7XHJcbmltcG9ydCB7cmdib3BhY2l0eVRvU3RyaW5nLCByZ2JUb1N0cmluZ30gZnJvbSBcIi4uLy4uLy4uL2xpYi9Db2xvckNvbnZlcnRlcnNcIjtcclxuaW1wb3J0IHtTZXJ2aWNlUHJvdmlkZXJ9IGZyb20gXCIuLi8uLi9zZXJ2aWNlcy9TZXJ2aWNlUHJvdmlkZXJcIjtcclxuaW1wb3J0IHt0aGVtZVNlbGVjdG9yRGFyaywgdGhlbWVTZWxlY3RvckxpZ2h0fSBmcm9tIFwiLi4vLi4vc2VydmljZXMvY3NzX3N0eWxlci9Dc3NTdHlsZXJTZXJ2aWNlXCI7XHJcblxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gQ29kZVxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbmV4cG9ydCBjbGFzcyBDYW52YXNDYXJkQ3NzV3JhbmdsZXIgaW1wbGVtZW50cyBJQ3NzV3JhbmdsZXIge1xyXG5cdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblx0Ly8gSGVscGVyIE1ldGhvZHNcclxuXHQvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cdHByaXZhdGUgX3Byb3BlcnRpZXMocmVjb3JkOiBJQ29sb3JlZFRhZ1JlY29yZCk6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4ge1xyXG5cdFx0Y29uc3QgZGljdDogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9XHJcblxyXG5cdFx0aWYgKHJlY29yZC5jYW52YXNfY2FyZF9lbmFibGVfYm9yZGVyKXtcclxuXHRcdFx0ZGljdFtcImJvcmRlci1jb2xvclwiXSA9IGAke3JnYlRvU3RyaW5nKHJlY29yZC5jb3JlX2NvbG9yX2ZvcmVncm91bmQpfSAhaW1wb3J0YW50YFxyXG5cdFx0fVxyXG5cdFx0aWYgKHJlY29yZC5jYW52YXNfY2FyZF9lbmFibGVfYmFja2dyb3VuZCl7XHJcblx0XHRcdC8vIGRpY3RbXCItLWNhbnZhcy1jb2xvclwiXSA9IGAke3JlY29yZC5jb3JlX2NvbG9yX2ZvcmVncm91bmQucn0sICR7cmVjb3JkLmNvcmVfY29sb3JfZm9yZWdyb3VuZC5nfSwgJHtyZWNvcmQuY29yZV9jb2xvcl9mb3JlZ3JvdW5kLmJ9YFxyXG5cdFx0XHRkaWN0W1wiYmFja2dyb3VuZC1jb2xvclwiXSA9IGAke3JnYm9wYWNpdHlUb1N0cmluZyhyZWNvcmQuY29yZV9jb2xvcl9iYWNrZ3JvdW5kLCByZWNvcmQuY2FudmFzX2NhcmRfYmFja2dyb3VuZF9vcGFjaXR5KX0gIWltcG9ydGFudGBcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gZGljdFxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBfc2VsZWN0b3JzKHRoZW1lOiBzdHJpbmcsIHJlY29yZDogSUNvbG9yZWRUYWdSZWNvcmQpOiBzdHJpbmdbXSB7XHJcblx0XHRyZXR1cm4gW1xyXG5cdFx0XHRgJHt0aGVtZX0gZGl2LmNhbnZhcy1ub2RlID4gZGl2LmNhbnZhcy1ub2RlLWNvbnRhaW5lcjpoYXMoYS50YWcpW2hyZWY9XCIjJHtyZWNvcmQuY29yZV90YWdUZXh0fVwiIGldYCxcclxuXHRcdFx0YCR7dGhlbWV9IGRpdi5jYW52YXMtbm9kZTpoYXMoZGl2LmNhbnZhcy1ub2RlLWNvbnRhaW5lcjpoYXMoYS50YWcpW2hyZWY9XCIjJHtyZWNvcmQuY29yZV90YWdUZXh0fVwiIGldKWAsXHJcblx0XHRcdGAke3RoZW1lfSBkaXYuY2FudmFzLW5vZGUtY29udGFpbmVyOmhhcyhkaXYubWFya2Rvd24tZW1iZWQtY29udGVudCBhW2hyZWY9XCIjJHtyZWNvcmQuY29yZV90YWdUZXh0fVwiIGldKWBcclxuXHRcdF1cclxuXHR9XHJcblx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHQvLyBNZXRob2RzXHJcblx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHRwdWJsaWMgZ2V0UnVsZXMoKTogUmVjb3JkPHN0cmluZywgUmVjb3JkPHN0cmluZywgc3RyaW5nPj4ge1xyXG5cdFx0Y29uc3QgZGljdDogUmVjb3JkPHN0cmluZywgUmVjb3JkPHN0cmluZywgc3RyaW5nPj4gPSB7fTtcclxuXHJcblx0XHRTZXJ2aWNlUHJvdmlkZXIudGFnUmVjb3Jkc1xyXG5cdFx0XHQuZ2V0VGFnc0ZsYXQoZmFsc2UpXHJcblx0XHRcdC5maWx0ZXIocmVjb3JkID0+IHtcclxuXHRcdFx0XHRyZXR1cm4gcmVjb3JkLmNhbnZhc19jYXJkX2VuYWJsZV9ib3JkZXJcclxuXHRcdFx0XHRcdHx8IHJlY29yZC5jYW52YXNfY2FyZF9lbmFibGVfYmFja2dyb3VuZFxyXG5cdFx0XHRcdFx0fHwgcmVjb3JkLmNhbnZhc19jYXJkX2JhY2tncm91bmRfb3BhY2l0eSAhPT0gU2VydmljZVByb3ZpZGVyLmV4dGVuc2lvbnMuQ2FudmFzQ2FyZHMuZ2V0RGVmYXVsdFJlY29yZCgpLmNhbnZhc19jYXJkX2JhY2tncm91bmRfb3BhY2l0eTtcclxuXHRcdFx0fSlcclxuXHRcdFx0Ly8gU29ydCBvZiBsb3dlc3QgdG8gaGlnaGVzdCBwcmlvcml0eVxyXG5cdFx0XHQuc29ydCgoYSwgYikgPT4ge1xyXG5cdFx0XHRcdGlmIChhLmNhbnZhc19jYXJkX3ByaW9yaXR5ID09PSB1bmRlZmluZWQgfHwgYi5jYW52YXNfY2FyZF9wcmlvcml0eSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gMVxyXG5cdFx0XHRcdHJldHVybiBhLmNhbnZhc19jYXJkX3ByaW9yaXR5ID49IGIuY2FudmFzX2NhcmRfcHJpb3JpdHkgPyAxIDogLTFcclxuXHRcdFx0fSlcclxuXHRcdFx0LmZvckVhY2gocmVjb3JkID0+IHtcclxuXHRcdFx0XHRcdHRoaXMuX3NlbGVjdG9ycyh0aGVtZVNlbGVjdG9yTGlnaHQsIHJlY29yZClcclxuXHRcdFx0XHRcdFx0LmZvckVhY2goKHJ1bGUpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRkaWN0W3J1bGVdID0gdGhpcy5fcHJvcGVydGllcyhyZWNvcmQpXHJcblx0XHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHR0aGlzLl9zZWxlY3RvcnModGhlbWVTZWxlY3RvckRhcmssIHJlY29yZClcclxuXHRcdFx0XHRcdFx0LmZvckVhY2goKHJ1bGUpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRkaWN0W3J1bGVdID0gdGhpcy5fcHJvcGVydGllcyhyZWNvcmQpXHJcblx0XHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0fVxyXG5cdFx0XHQpXHJcblx0XHRyZXR1cm4gZGljdFxyXG5cdH1cclxufVxyXG4iLCAiLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vIEltcG9ydHNcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbmltcG9ydCB7VGV4dENvbXBvbmVudH0gZnJvbSBcIm9ic2lkaWFuXCI7XHJcbmltcG9ydCB7TnVtYmVyUHJvcGVydGllc30gZnJvbSBcInNyYy9jb250cmFjdHMvcGx1Z2luL3NlcnZpY2VzL2V4dGVuc2lvbnMvRXh0ZW5zaW9uUHJvcGVydGllc1wiO1xyXG5pbXBvcnQge0lTZXR0aW5nVGFnUmVjb3JkQ29tcG9uZW50fSBmcm9tIFwic3JjL2NvbnRyYWN0cy9wbHVnaW4vdWkvY29tcG9uZW50cy90YWdfdGFibGUvSVNldHRpbmdUYWdSZWNvcmRDb21wb25lbnRcIjtcclxuaW1wb3J0IHtTZXJ2aWNlUHJvdmlkZXJ9IGZyb20gXCIuLi8uLi8uLi8uLi9zZXJ2aWNlcy9TZXJ2aWNlUHJvdmlkZXJcIjtcclxuaW1wb3J0IHtSb3dEYXRhVHlwZX0gZnJvbSBcIi4uLy4uLy4uLy4uLy4uL2NvbnRyYWN0cy9wbHVnaW4vdWkvY29tcG9uZW50cy9Sb3dEYXRhVHlwZVwiO1xyXG5cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vIENvZGVcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbmV4cG9ydCBjbGFzcyBTZXR0aW5nVGFnUmVjb3JkTnVtYmVySW5wdXRDb21wb25lbnQgZXh0ZW5kcyBUZXh0Q29tcG9uZW50IGltcGxlbWVudHMgSVNldHRpbmdUYWdSZWNvcmRDb21wb25lbnQge1xyXG5cdGNvbnN0cnVjdG9yKHJvd0RhdGE6IFJvd0RhdGFUeXBlLCBwcm9wZXJ0eV9uYW1lOiBOdW1iZXJQcm9wZXJ0aWVzLCBwbGFjZWhvbGRlcjpudW1iZXIgPSAwKSB7XHJcblx0XHRzdXBlcihyb3dEYXRhLnBhcmVudEVsKTsgLy8gT2JzaWRpYW4ncyBzdHVmZlxyXG5cclxuXHRcdHRoaXMuaW5wdXRFbC5jbGFzc0xpc3QuYWRkKFwic2V0dGluZ1RhZ1JlY29yZE51bWJlcklucHV0Q29tcG9uZW50XCIpO1xyXG5cdFx0dGhpcy5zZXRQbGFjZWhvbGRlcihwbGFjZWhvbGRlci50b1N0cmluZygpKVxyXG5cdFx0dGhpcy5zZXRWYWx1ZShyb3dEYXRhLnJlY29yZFtwcm9wZXJ0eV9uYW1lXT8udG9TdHJpbmcoKSA/PyBcIlwiKVxyXG5cdFx0dGhpcy5vbkNoYW5nZShhc3luYyAobmV3VmFsdWUpID0+IHtcclxuXHRcdFx0cm93RGF0YS5yZWNvcmRbcHJvcGVydHlfbmFtZV0gPSBOdW1iZXIucGFyc2VJbnQobmV3VmFsdWUpO1xyXG5cdFx0XHRhd2FpdCBTZXJ2aWNlUHJvdmlkZXIudGFnUmVjb3Jkcy5hZGRPclVwZGF0ZVRhZyhyb3dEYXRhLnJlY29yZClcclxuXHRcdH0pXHJcblx0fVxyXG59XHJcbiIsICIvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gSW1wb3J0c1xyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuaW1wb3J0IHtUYWJsZUNvbnRlbnRQb3B1bGF0b3J9IGZyb20gXCIuLi8uLi8uLi9jb250cmFjdHMvcGx1Z2luL3VpL2NvbXBvbmVudHMvVGFibGVDb250ZW50UG9wdWxhdG9yXCI7XHJcbmltcG9ydCB7U2V0dGluZ1RhZ1JlY29yZFRvZ2dsZUNvbXBvbmVudH0gZnJvbSBcIi4uLy4uL3VpL3NldHRpbmdfdGFiL2NvbXBvbmVudHMvdGFnX3RhYmxlL1NldHRpbmdUYWdSZWNvcmRUb2dnbGVDb21wb25lbnRcIjtcclxuaW1wb3J0IHtBYnN0cmFjdEV4dGVuc2lvbn0gZnJvbSBcIi4uL0Fic3RyYWN0RXh0ZW5zaW9uXCI7XHJcbmltcG9ydCB7Q2FudmFzQ2FyZENzc1dyYW5nbGVyfSBmcm9tIFwiLi9DYW52YXNDYXJkQ3NzV3JhbmdsZXJcIjtcclxuaW1wb3J0IHtJRXh0ZW5zaW9uUmVjb3JkQ2FudmFzQ2FyZH0gZnJvbSBcIi4vSUV4dGVuc2lvblJlY29yZENhbnZhc0NhcmRcIjtcclxuaW1wb3J0IHtTZXR0aW5nVGFnUmVjb3JkU2xpZGVyQ29tcG9uZW50fSBmcm9tIFwiLi4vLi4vdWkvc2V0dGluZ190YWIvY29tcG9uZW50cy90YWdfdGFibGUvU2V0dGluZ1RhZ1JlY29yZFNsaWRlckNvbXBvbmVudFwiO1xyXG5pbXBvcnQge1xyXG5cdFNldHRpbmdUYWdSZWNvcmROdW1iZXJJbnB1dENvbXBvbmVudFxyXG59IGZyb20gXCIuLi8uLi91aS9zZXR0aW5nX3RhYi9jb21wb25lbnRzL3RhZ190YWJsZS9TZXR0aW5nVGFnUmVjb3JkTnVtYmVySW5wdXRDb21wb25lbnRcIjtcclxuXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyBDb2RlXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5leHBvcnQgY2xhc3MgQ2FudmFzQ2FyZEV4dGVuc2lvbiBleHRlbmRzIEFic3RyYWN0RXh0ZW5zaW9uPElFeHRlbnNpb25SZWNvcmRDYW52YXNDYXJkPiB7XHJcblx0cHVibGljIG92ZXJyaWRlIGNzc1dyYW5nbGVyID0gbmV3IENhbnZhc0NhcmRDc3NXcmFuZ2xlcigpO1xyXG5cdHB1YmxpYyBvdmVycmlkZSBleHRlbnNpb25OYW1lID0gJ2NhbnZhcyBjYXJkcyc7XHJcblx0cHVibGljIG92ZXJyaWRlIGRlc2NyaXB0aW9uID0gXCJBcHBseSBUYWcgZm9ybWF0dGluZyB0byBDYW52YXMgQ2FyZHNcIjtcclxuXHJcblx0cHVibGljIGV4dGVuc2lvblJlcXVpcmVtZW50cyA9IFtcImNvcmVcIl1cclxuXHJcblx0cHVibGljIFRhYmxlQ29udGVudFBvcHVsYXRvcnM6IFRhYmxlQ29udGVudFBvcHVsYXRvcltdID0gW1xyXG5cdFx0e1xyXG5cdFx0XHR0aXRsZTogXCJFbmFibGUgQm9yZGVyXCIsXHJcblx0XHRcdGNhbGxiYWNrOiAocm93RGF0YSkgPT4ge1xyXG5cdFx0XHRcdHJldHVybiBuZXcgU2V0dGluZ1RhZ1JlY29yZFRvZ2dsZUNvbXBvbmVudChyb3dEYXRhLFxyXG5cdFx0XHRcdFx0XCJjYW52YXNfY2FyZF9lbmFibGVfYm9yZGVyXCIpO1xyXG5cdFx0XHR9LFxyXG5cdFx0XHRjbGFzc2VzOiBbXCJoZWFkZXItd3JhcC1ldmVyeS13b3JkXCJdXHJcblx0XHR9LCB7XHJcblx0XHRcdHRpdGxlOiBcIkVuYWJsZSBCYWNrZ3JvdW5kXCIsXHJcblx0XHRcdGNhbGxiYWNrOiAocm93RGF0YSkgPT4ge1xyXG5cdFx0XHRcdHJldHVybiBuZXcgU2V0dGluZ1RhZ1JlY29yZFRvZ2dsZUNvbXBvbmVudChyb3dEYXRhLFxyXG5cdFx0XHRcdFx0XCJjYW52YXNfY2FyZF9lbmFibGVfYmFja2dyb3VuZFwiKTtcclxuXHRcdFx0fSxcclxuXHRcdFx0Y2xhc3NlczogW1wiaGVhZGVyLXdyYXAtZXZlcnktd29yZFwiXVxyXG5cdFx0fSx7XHJcblx0XHRcdHRpdGxlOiBcIkJhY2tncm91bmQgT3BhY2l0eVwiLFxyXG5cdFx0XHRjYWxsYmFjazogKHJvd0RhdGEpID0+IHtcclxuXHRcdFx0XHRyZXR1cm4gbmV3IFNldHRpbmdUYWdSZWNvcmRTbGlkZXJDb21wb25lbnQocm93RGF0YSxcclxuXHRcdFx0XHRcdFwiY2FudmFzX2NhcmRfYmFja2dyb3VuZF9vcGFjaXR5XCIsXHJcblx0XHRcdFx0XHQwLjAsIDEuMCwgLjAxLFxyXG5cdFx0XHRcdFx0dHJ1ZSxcclxuXHRcdFx0XHRcdHRoaXMuZ2V0RGVmYXVsdFJlY29yZCgpLmNhbnZhc19jYXJkX2JhY2tncm91bmRfb3BhY2l0eVxyXG5cdFx0XHRcdCk7XHJcblx0XHRcdH0sXHJcblx0XHRcdGNsYXNzZXM6IFtcImhlYWRlci13cmFwLWV2ZXJ5LXdvcmRcIl1cclxuXHRcdH0se1xyXG5cdFx0XHR0aXRsZTogXCJQcmlvcml0eVwiLFxyXG5cdFx0XHRjYWxsYmFjazogKHJvd0RhdGEpID0+IHtcclxuXHRcdFx0XHRyZXR1cm4gbmV3IFNldHRpbmdUYWdSZWNvcmROdW1iZXJJbnB1dENvbXBvbmVudChyb3dEYXRhLFxyXG5cdFx0XHRcdFx0XCJjYW52YXNfY2FyZF9wcmlvcml0eVwiXHJcblx0XHRcdFx0KTtcclxuXHRcdFx0fSxcclxuXHRcdFx0Y2xhc3NlczogW1wiaGVhZGVyLXdyYXAtZXZlcnktd29yZFwiXVxyXG5cdFx0fSxcclxuXHRdXHJcblxyXG5cdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblx0Ly8gTWV0aG9kc1xyXG5cdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblx0cHVibGljIGdldERlZmF1bHRSZWNvcmQoKTogSUV4dGVuc2lvblJlY29yZENhbnZhc0NhcmQge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0Y2FudmFzX2NhcmRfZW5hYmxlX2JvcmRlcjogdHJ1ZSxcclxuXHRcdFx0Y2FudmFzX2NhcmRfZW5hYmxlX2JhY2tncm91bmQ6IHRydWUsXHJcblx0XHRcdGNhbnZhc19jYXJkX2JhY2tncm91bmRfb3BhY2l0eTogMC40NSxcclxuXHRcdFx0Y2FudmFzX2NhcmRfcHJpb3JpdHkgOiB1bmRlZmluZWRcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuIiwgIi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyBJbXBvcnRzXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5pbXBvcnQge0lFeHRlbnNpb25zU2VydmljZX0gZnJvbSBcIi4uLy4uLy4uL2NvbnRyYWN0cy9wbHVnaW4vc2VydmljZXMvZXh0ZW5zaW9ucy9JRXh0ZW5zaW9uc1NlcnZpY2VcIjtcclxuaW1wb3J0IHtJRXh0ZW5zaW9ufSBmcm9tIFwiLi4vLi4vLi4vY29udHJhY3RzL3BsdWdpbi9leHRlbnNpb25zL0lFeHRlbnNpb25cIjtcclxuaW1wb3J0IHtDb3JlRXh0ZW5zaW9ufSBmcm9tIFwiLi4vLi4vZXh0ZW5zaW9ucy9jb3JlL0NvcmVFeHRlbnNpb25cIjtcclxuaW1wb3J0IHtDc3NTdHlsaW5nRXh0ZW5zaW9ufSBmcm9tIFwiLi4vLi4vZXh0ZW5zaW9ucy9zdHlsaW5nL0Nzc1N0eWxpbmdFeHRlbnNpb25cIjtcclxuaW1wb3J0IHtJU2V0dGluZ3NTZXJ2aWNlfSBmcm9tIFwiLi4vLi4vLi4vY29udHJhY3RzL3BsdWdpbi9zZXJ2aWNlcy9zZXR0aW5ncy9JU2V0dGluZ3NTZXJ2aWNlXCI7XHJcbmltcG9ydCB7SUV4dGVuc2lvblJlY29yZH0gZnJvbSBcIi4uLy4uLy4uL2NvbnRyYWN0cy9wbHVnaW4vZXh0ZW5zaW9ucy9JRXh0ZW5zaW9uUmVjb3JkXCI7XHJcbmltcG9ydCB7SUV4dGVuc2lvblJlY29yZENvcmV9IGZyb20gXCIuLi8uLi9leHRlbnNpb25zL2NvcmUvSUV4dGVuc2lvblJlY29yZENzc1N0eWxpbmdcIjtcclxuaW1wb3J0IHtJRXh0ZW5zaW9uUmVjb3JkQ3NzU3R5bGluZ30gZnJvbSBcIi4uLy4uL2V4dGVuc2lvbnMvc3R5bGluZy9JRXh0ZW5zaW9uUmVjb3JkQ3NzU3R5bGluZ1wiO1xyXG5pbXBvcnQge0lFeHRlbnNpb25SZWNvcmRDYW52YXNDYXJkfSBmcm9tIFwiLi4vLi4vZXh0ZW5zaW9ucy9jYW52YXNfY2FyZC9JRXh0ZW5zaW9uUmVjb3JkQ2FudmFzQ2FyZFwiO1xyXG5pbXBvcnQge0NhbnZhc0NhcmRFeHRlbnNpb259IGZyb20gXCIuLi8uLi9leHRlbnNpb25zL2NhbnZhc19jYXJkL0NhbnZhc0NhcmRFeHRlbnNpb25cIjtcclxuXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyBDb2RlXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5leHBvcnQgY2xhc3MgRXh0ZW5zaW9uc1NlcnZpY2UgaW1wbGVtZW50cyBJRXh0ZW5zaW9uc1NlcnZpY2Uge1xyXG5cdHB1YmxpYyByZWFkb25seSBDb3JlOiBJRXh0ZW5zaW9uPElFeHRlbnNpb25SZWNvcmRDb3JlPlxyXG5cdHB1YmxpYyByZWFkb25seSBDc3NTdHlsaW5nOiBJRXh0ZW5zaW9uPElFeHRlbnNpb25SZWNvcmRDc3NTdHlsaW5nPlxyXG5cdHB1YmxpYyByZWFkb25seSBDYW52YXNDYXJkczogSUV4dGVuc2lvbjxJRXh0ZW5zaW9uUmVjb3JkQ2FudmFzQ2FyZD5cclxuXHJcblx0cHJpdmF0ZSBfc2V0dGluZ3M6IElTZXR0aW5nc1NlcnZpY2U7XHJcblx0cHJpdmF0ZSBfTGlzdDogSUV4dGVuc2lvbjxJRXh0ZW5zaW9uUmVjb3JkPltdIHwgdW5kZWZpbmVkO1xyXG5cclxuXHRwdWJsaWMgZ2V0IEZ1bGxMaXN0KCk6IElFeHRlbnNpb248SUV4dGVuc2lvblJlY29yZD5bXSB7XHJcblx0XHRyZXR1cm4gdGhpcy5fTGlzdCA/Pz0gdGhpcy5Bc0xpc3QoKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgX0VuYWJsZWRMaXN0OiBJRXh0ZW5zaW9uPElFeHRlbnNpb25SZWNvcmQ+W10gfCB1bmRlZmluZWQ7XHJcblx0cHVibGljIGdldCBFbmFibGVkTGlzdCgpOiBJRXh0ZW5zaW9uPElFeHRlbnNpb25SZWNvcmQ+W10ge1xyXG5cdFx0cmV0dXJuIHRoaXMuX0VuYWJsZWRMaXN0ID8/IHRoaXMuRnVsbExpc3RcclxuXHRcdFx0LmZpbHRlcihlID0+IHRoaXMuX3NldHRpbmdzLmRhdGEuRW5hYmxlZEV4dGVuc2lvbnMuY29udGFpbnMoZS5leHRlbnNpb25OYW1lKSk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIF9EaWN0aW9uYXJ5OiBSZWNvcmQ8c3RyaW5nLCBJRXh0ZW5zaW9uPElFeHRlbnNpb25SZWNvcmQ+PiB8IHVuZGVmaW5lZDtcclxuXHJcblx0cHVibGljIGdldCBEaWN0aW9uYXJ5KCk6IFJlY29yZDxzdHJpbmcsIElFeHRlbnNpb248SUV4dGVuc2lvblJlY29yZD4+IHtcclxuXHRcdHJldHVybiB0aGlzLl9EaWN0aW9uYXJ5ID8/PSB0aGlzLkFzRGljdGlvbmFyeSgpO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldCBFbmFibGVkTGlzdEFzU3RyaW5ncygpOiBzdHJpbmdbXSB7XHJcblx0XHRyZXR1cm4gdGhpcy5FbmFibGVkTGlzdC5tYXAoZSA9PiBlLmV4dGVuc2lvbk5hbWUpO1xyXG5cdH1cclxuXHJcblx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHQvLyBDb25zdHJ1Y3RvcnNcclxuXHQvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cdGNvbnN0cnVjdG9yKHNldHRpbmdzOiBJU2V0dGluZ3NTZXJ2aWNlKSB7XHJcblx0XHR0aGlzLl9zZXR0aW5ncyA9IHNldHRpbmdzO1xyXG5cdFx0dGhpcy5Db3JlID0gbmV3IENvcmVFeHRlbnNpb24oKTtcclxuXHRcdHRoaXMuQ3NzU3R5bGluZyA9IG5ldyBDc3NTdHlsaW5nRXh0ZW5zaW9uKCk7XHJcblx0XHR0aGlzLkNhbnZhc0NhcmRzID0gbmV3IENhbnZhc0NhcmRFeHRlbnNpb24oKTtcclxuXHR9XHJcblxyXG5cdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblx0Ly8gTWV0aG9kc1xyXG5cdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblx0cHVibGljIHNldEV4dGVuc2lvbihleHRlbnNpb246IElFeHRlbnNpb248SUV4dGVuc2lvblJlY29yZD4sIHZhbHVlOiBib29sZWFuKTogdm9pZCB7XHJcblx0XHRpZiAodmFsdWUpIHtcclxuXHRcdFx0dGhpcy5fc2V0dGluZ3MuZGF0YS5FbmFibGVkRXh0ZW5zaW9ucy5wdXNoKGV4dGVuc2lvbi5leHRlbnNpb25OYW1lKVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0aWYgKHRoaXMuX3NldHRpbmdzLmRhdGEuRW5hYmxlZEV4dGVuc2lvbnMuY29udGFpbnMoZXh0ZW5zaW9uLmV4dGVuc2lvbk5hbWUpKSB7XHJcblx0XHRcdFx0dGhpcy5fc2V0dGluZ3MuZGF0YS5FbmFibGVkRXh0ZW5zaW9ucy5yZW1vdmUoZXh0ZW5zaW9uLmV4dGVuc2lvbk5hbWUpXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHRoaXMuX0VuYWJsZWRMaXN0ID0gdW5kZWZpbmVkIC8vIEludmFsaWRhdGUgaXRcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgQXNMaXN0KCk6IElFeHRlbnNpb248SUV4dGVuc2lvblJlY29yZD5bXSB7XHJcblx0XHRyZXR1cm4gW1xyXG5cdFx0XHR0aGlzLkNvcmUsXHJcblx0XHRcdHRoaXMuQ3NzU3R5bGluZyxcclxuXHRcdFx0dGhpcy5DYW52YXNDYXJkc1xyXG5cdFx0XVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBBc0RpY3Rpb25hcnkoKTogUmVjb3JkPHN0cmluZywgSUV4dGVuc2lvbjxJRXh0ZW5zaW9uUmVjb3JkPj4ge1xyXG5cdFx0cmV0dXJuIHRoaXMuQXNMaXN0KCkucmVkdWNlKFxyXG5cdFx0XHQoYWNjLCBlKSA9PiB7XHJcblx0XHRcdFx0YWNjW2UuZXh0ZW5zaW9uTmFtZV0gPSBlO1xyXG5cdFx0XHRcdHJldHVybiBhY2M7XHJcblx0XHRcdH0sXHJcblx0XHRcdHt9IGFzIFJlY29yZDxzdHJpbmcsIElFeHRlbnNpb248SUV4dGVuc2lvblJlY29yZD4+XHJcblx0XHQpO1xyXG5cdH1cclxufVxyXG4iLCAiLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vIEltcG9ydHNcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbmltcG9ydCB7SUNvbG9yZWRUYWdXcmFuZ2xlclBsdWdpbn0gZnJvbSBcIi4uLy4uL2NvbnRyYWN0cy9wbHVnaW4vSUNvbG9yZWRUYWdXcmFuZ2xlclBsdWdpblwiO1xyXG5pbXBvcnQge0lTZXR0aW5nc1NlcnZpY2V9IGZyb20gXCIuLi8uLi9jb250cmFjdHMvcGx1Z2luL3NlcnZpY2VzL3NldHRpbmdzL0lTZXR0aW5nc1NlcnZpY2VcIjtcclxuaW1wb3J0IHtJVGFnUmVjb3Jkc1NlcnZpY2V9IGZyb20gXCIuLi8uLi9jb250cmFjdHMvcGx1Z2luL3NlcnZpY2VzL3RhZ19yZWNvcmRzL0lUYWdSZWNvcmRzU2VydmljZVwiO1xyXG5pbXBvcnQge1NldHRpbmdzU2VydmljZX0gZnJvbSBcIi4vc2V0dGluZ3MvU2V0dGluZ3NTZXJ2aWNlXCI7XHJcbmltcG9ydCB7VGFnUmVjb3Jkc1NlcnZpY2V9IGZyb20gXCIuL3RhZ19yZWNvcmRzL1RhZ1JlY29yZHNTZXJ2aWNlXCI7XHJcbmltcG9ydCB7SU1pZ3JhdG9yU2VydmljZX0gZnJvbSBcIi4uLy4uL2NvbnRyYWN0cy9wbHVnaW4vc2VydmljZXMvbWlncmF0b3IvSU1pZ3JhdG9yU2VydmljZVwiO1xyXG5pbXBvcnQge01pZ3JhdG9yU2VydmljZX0gZnJvbSBcIi4vbWlncmF0b3IvTWlncmF0b3JTZXJ2aWNlXCI7XHJcbmltcG9ydCB7SUV4dGVuc2lvbnNTZXJ2aWNlfSBmcm9tIFwiLi4vLi4vY29udHJhY3RzL3BsdWdpbi9zZXJ2aWNlcy9leHRlbnNpb25zL0lFeHRlbnNpb25zU2VydmljZVwiO1xyXG5pbXBvcnQge0V4dGVuc2lvbnNTZXJ2aWNlfSBmcm9tIFwiLi9leHRlbnNpb25zL0V4dGVuc2lvbnNTZXJ2aWNlXCI7XHJcbmltcG9ydCB7Q3NzU3R5bGVyU2VydmljZX0gZnJvbSBcIi4vY3NzX3N0eWxlci9Dc3NTdHlsZXJTZXJ2aWNlXCI7XHJcbmltcG9ydCB7SUNzc1N0eWxlclNlcnZpY2V9IGZyb20gXCIuLi8uLi9jb250cmFjdHMvcGx1Z2luL3NlcnZpY2VzL2Nzc19zdHlsZXIvSUNzc1N0eWxlclNlcnZpY2VcIjtcclxuXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyBDb2RlXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5leHBvcnQgY2xhc3MgU2VydmljZVByb3ZpZGVyIHtcclxuXHRwdWJsaWMgc3RhdGljIHBsdWdpbjogSUNvbG9yZWRUYWdXcmFuZ2xlclBsdWdpblxyXG5cdHB1YmxpYyBzdGF0aWMgZXh0ZW5zaW9uczogSUV4dGVuc2lvbnNTZXJ2aWNlXHJcblx0cHVibGljIHN0YXRpYyBzZXR0aW5nczogSVNldHRpbmdzU2VydmljZTtcclxuXHRwdWJsaWMgc3RhdGljIHRhZ1JlY29yZHM6IElUYWdSZWNvcmRzU2VydmljZTtcclxuXHRwdWJsaWMgc3RhdGljIG1pZ3JhdG9yOiBJTWlncmF0b3JTZXJ2aWNlO1xyXG5cdHB1YmxpYyBzdGF0aWMgY3NzU3R5bGVyOiBJQ3NzU3R5bGVyU2VydmljZVxyXG5cclxuXHRwcml2YXRlIHN0YXRpYyBJbnN0YW50aWF0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHQvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cdC8vIE1ldGhvZHNcclxuXHQvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cdHB1YmxpYyBzdGF0aWMgUG9wdWxhdGVJbnN0YW5jZXMocGx1Z2luOiBJQ29sb3JlZFRhZ1dyYW5nbGVyUGx1Z2luKSB7XHJcblx0XHRpZiAoU2VydmljZVByb3ZpZGVyLkluc3RhbnRpYXRlZCkgcmV0dXJuO1xyXG5cclxuXHRcdFNlcnZpY2VQcm92aWRlci5wbHVnaW4gPSBwbHVnaW47XHJcblx0XHRTZXJ2aWNlUHJvdmlkZXIubWlncmF0b3IgPSBuZXcgTWlncmF0b3JTZXJ2aWNlKHBsdWdpbilcclxuXHRcdFNlcnZpY2VQcm92aWRlci5zZXR0aW5ncyA9IG5ldyBTZXR0aW5nc1NlcnZpY2UocGx1Z2luLCBTZXJ2aWNlUHJvdmlkZXIubWlncmF0b3IpXHJcblx0XHRTZXJ2aWNlUHJvdmlkZXIuZXh0ZW5zaW9ucyA9IG5ldyBFeHRlbnNpb25zU2VydmljZShTZXJ2aWNlUHJvdmlkZXIuc2V0dGluZ3MpXHJcblx0XHRTZXJ2aWNlUHJvdmlkZXIudGFnUmVjb3JkcyA9IG5ldyBUYWdSZWNvcmRzU2VydmljZShTZXJ2aWNlUHJvdmlkZXIuc2V0dGluZ3MsIFNlcnZpY2VQcm92aWRlci5leHRlbnNpb25zKVxyXG5cclxuXHRcdFNlcnZpY2VQcm92aWRlci5jc3NTdHlsZXIgPSBuZXcgQ3NzU3R5bGVyU2VydmljZShTZXJ2aWNlUHJvdmlkZXIuZXh0ZW5zaW9ucylcclxuXHJcblx0XHRTZXJ2aWNlUHJvdmlkZXIuSW5zdGFudGlhdGVkID0gdHJ1ZTtcclxuXHR9XHJcbn1cclxuIiwgIi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyBJbXBvcnRzXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5pbXBvcnQge0lTZXR0aW5nVGFnUmVjb3JkQ29tcG9uZW50fSBmcm9tIFwiLi4vLi4vLi4vLi4vLi4vY29udHJhY3RzL3BsdWdpbi91aS9jb21wb25lbnRzL3RhZ190YWJsZS9JU2V0dGluZ1RhZ1JlY29yZENvbXBvbmVudFwiO1xyXG5pbXBvcnQge1NlcnZpY2VQcm92aWRlcn0gZnJvbSBcIi4uLy4uLy4uLy4uL3NlcnZpY2VzL1NlcnZpY2VQcm92aWRlclwiO1xyXG5pbXBvcnQge1Jvd0RhdGFUeXBlfSBmcm9tIFwiLi4vLi4vLi4vLi4vLi4vY29udHJhY3RzL3BsdWdpbi91aS9jb21wb25lbnRzL1Jvd0RhdGFUeXBlXCI7XHJcblxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gQ29kZVxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuZXhwb3J0IGNsYXNzIFNldHRpbmdUYWdSZWNvcmRQcmV2aWV3IGltcGxlbWVudHMgSVNldHRpbmdUYWdSZWNvcmRDb21wb25lbnQge1xyXG5cdGRpc2FibGVkOiBib29sZWFuO1xyXG5cdHByaXZhdGUgRWw6IEhUTUxFbGVtZW50O1xyXG5cclxuXHQvLyBUaGlzIGlzIGp1c3QgYSByZWNyZWF0aW9uIG9mIHRoZSBvYnNpZGlhbiB0YWcgc3BhbnNcclxuXHQvL1x0XHRBbHRob3VnaCBJIHNob3VsZCBiZSBhYmxlIHRvIGNyZWF0ZSBzb21lIHNvcnQgb2Ygc3lzdGVtIHRvIHVwZGF0ZSB0aGVtIGVhc2lseT9cclxuXHQvL1x0XHRDdXJyZW50bHksIHRoaXMgaXMgZG9uZSBieSBnaXZpbmcgdGhlbSBzcGVjaWZpYyBJZHMgdGllZCB0byB0aGUgdXVpZCBvZiB0aGUgcmVjb3Jkcy5cclxuXHJcblx0Y29uc3RydWN0b3Iocm93RGF0YTogUm93RGF0YVR5cGUpIHtcclxuXHRcdHRoaXMuRWwgPSByb3dEYXRhLnBhcmVudEVsLmNyZWF0ZURpdigpXHJcblx0XHR0aGlzLkVsLmFkZENsYXNzKFwidGFnLXByZXZpZXctZGl2XCIpO1xyXG5cdFx0bGV0IGVsMiA9IHRoaXMuRWwuY3JlYXRlRGl2KClcclxuXHJcblx0XHRjb25zdCBwcmV2aWV3SWRzID0gU2VydmljZVByb3ZpZGVyLnRhZ1JlY29yZHMuZ2V0VGFnUHJldmlld0lkcyhyb3dEYXRhLnJlY29yZClcclxuXHRcdGNvbnN0IGZpcnN0VGFnID0gU2VydmljZVByb3ZpZGVyLnRhZ1JlY29yZHMuZ2V0Rmlyc3RUYWcocm93RGF0YS5yZWNvcmQpXHJcblxyXG5cdFx0Y29uc3QgZWxCZWdpbiA9IGVsMi5jcmVhdGVFbChcInNwYW5cIilcclxuXHRcdGVsQmVnaW4uYWRkQ2xhc3NlcyhbXCJjbS1oYXNodGFnXCIsIFwiY20taGFzaHRhZy1iZWdpblwiLCBcImNtLW1ldGFcIiwgYGNtLXRhZy0ke2ZpcnN0VGFnfWBdKTtcclxuXHRcdGVsQmVnaW4uaWQgPSBwcmV2aWV3SWRzLmJlZ2luXHJcblxyXG5cdFx0Y29uc3QgZWxFbmQgPSBlbDIuY3JlYXRlRWwoXCJzcGFuXCIpXHJcblx0XHRlbEVuZC5hZGRDbGFzc2VzKFtcImNtLWhhc2h0YWdcIiwgXCJjbS1oYXNodGFnLWVuZFwiLCBcImNtLW1ldGFcIiwgYGNtLXRhZy0ke2ZpcnN0VGFnfWBdKTtcclxuXHRcdGVsRW5kLmlkID0gcHJldmlld0lkcy5lbmRcclxuXHJcblx0XHQvLyBDb2xvcnMgYXJlIGFwcGxpZWQgYWZ0ZXIgdGhlIGZhY3QgYnkgdGhlIHRhYmxlIHJlbmRlcmluZ1xyXG5cdH1cclxuXHJcblx0c2V0RGlzYWJsZWQoZGlzYWJsZWQ6IGJvb2xlYW4pOiB0aGlzIHtcclxuXHRcdHRoaXMuZGlzYWJsZWQgPSBkaXNhYmxlZDtcclxuXHRcdHRoaXMuRWwuaGlkZGVuID0gZGlzYWJsZWQ7XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9XHJcblxyXG5cdHRoZW4oY2I6IChjb21wb25lbnQ6IHRoaXMpID0+IGFueSk6IHRoaXMge1xyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fVxyXG59XHJcbiIsICIvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gSW1wb3J0c1xyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuaW1wb3J0IHtJU2V0dGluZ1RhZ1JlY29yZENvbXBvbmVudH0gZnJvbSBcIi4uLy4uLy4uLy4uLy4uL2NvbnRyYWN0cy9wbHVnaW4vdWkvY29tcG9uZW50cy90YWdfdGFibGUvSVNldHRpbmdUYWdSZWNvcmRDb21wb25lbnRcIjtcclxuaW1wb3J0IHtFeHRyYUJ1dHRvbkNvbXBvbmVudH0gZnJvbSBcIm9ic2lkaWFuXCI7XHJcbmltcG9ydCB7YXJyYXlNb3ZlfSBmcm9tIFwiLi4vLi4vLi4vLi4vLi4vbGliL0FycmF5VXRpbHNcIjtcclxuaW1wb3J0IHtTZXJ2aWNlUHJvdmlkZXJ9IGZyb20gXCIuLi8uLi8uLi8uLi9zZXJ2aWNlcy9TZXJ2aWNlUHJvdmlkZXJcIjtcclxuaW1wb3J0IHtSb3dEYXRhVHlwZX0gZnJvbSBcIi4uLy4uLy4uLy4uLy4uL2NvbnRyYWN0cy9wbHVnaW4vdWkvY29tcG9uZW50cy9Sb3dEYXRhVHlwZVwiO1xyXG5cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vIENvZGVcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbmV4cG9ydCBjbGFzcyBTZXR0aW5nVGFnUmVjb3JkTmF2aWdhdG9ycyBpbXBsZW1lbnRzIElTZXR0aW5nVGFnUmVjb3JkQ29tcG9uZW50IHtcclxuXHRkaXNhYmxlZDogYm9vbGVhbjtcclxuXHRwcml2YXRlIEVsOiBIVE1MRWxlbWVudDtcclxuXHJcblx0Ly8gVGhpcyBpcyBqdXN0IGEgcmVjcmVhdGlvbiBvZiB0aGUgb2JzaWRpYW4gdGFnIHNwYW5zXHJcblx0Ly9cdFx0QWx0aG91Z2ggSSBzaG91bGQgYmUgYWJsZSB0byBjcmVhdGUgc29tZSBzb3J0IG9mIHN5c3RlbSB0byB1cGRhdGUgdGhlbSBlYXNpbHk/XHJcblx0Ly9cdFx0Q3VycmVudGx5LCB0aGlzIGlzIGRvbmUgYnkgZ2l2aW5nIHRoZW0gc3BlY2lmaWMgSWRzIHRpZWQgdG8gdGhlIHV1aWQgb2YgdGhlIHJlY29yZHMuXHJcblxyXG5cdGNvbnN0cnVjdG9yKHJvd0RhdGE6IFJvd0RhdGFUeXBlLCBlbmFibGVSZW1vdmU6IGJvb2xlYW4gPSB0cnVlLCByZWRyYXdDYWxsYmFjazogKCkgPT4gUHJvbWlzZTx2b2lkPikge1xyXG5cdFx0dGhpcy5FbCA9IHJvd0RhdGEucGFyZW50RWwuY3JlYXRlRGl2KClcclxuXHRcdHRoaXMuRWwuYWRkQ2xhc3MoXCJuYXZpZ2F0b3ItcGFyZW50XCIpO1xyXG5cdFx0Y29uc3QgcmVjb3JkSW5kZXggPSBTZXJ2aWNlUHJvdmlkZXIudGFnUmVjb3Jkcy5nZXRUYWdJbmRleChyb3dEYXRhLnJlY29yZClcclxuXHJcblx0XHRpZiAoZW5hYmxlUmVtb3ZlKSB7XHJcblx0XHRcdG5ldyBFeHRyYUJ1dHRvbkNvbXBvbmVudCh0aGlzLkVsKVxyXG5cdFx0XHRcdC5zZXRJY29uKFwidHJhc2hcIilcclxuXHRcdFx0XHQuc2V0VG9vbHRpcChcIkRlbGV0ZSByZWNvcmRcIilcclxuXHRcdFx0XHQub25DbGljayhhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0XHRhd2FpdCBTZXJ2aWNlUHJvdmlkZXIudGFnUmVjb3Jkcy5yZW1vdmVUYWcocm93RGF0YS5yZWNvcmQpXHJcblx0XHRcdFx0XHRhd2FpdCByZWRyYXdDYWxsYmFjaygpXHJcblx0XHRcdFx0fSlcclxuXHRcdFx0XHQuZXh0cmFTZXR0aW5nc0VsLmNsYXNzTGlzdC5hZGQoXCJuYXZpZ2F0b3ItdHJhc2hcIik7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHJlY29yZEluZGV4ICE9PSAwKSB7XHJcblx0XHRcdG5ldyBFeHRyYUJ1dHRvbkNvbXBvbmVudCh0aGlzLkVsKVxyXG5cdFx0XHRcdC5zZXRJY29uKFwidXAtY2hldnJvbi1nbHlwaFwiKVxyXG5cdFx0XHRcdC5zZXRUb29sdGlwKFwiTW92ZSB1cFwiKVxyXG5cdFx0XHRcdC5vbkNsaWNrKGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRcdC8vIHJlb3JkZXIgc3R1ZmYgaGVyZSEhIVxyXG5cdFx0XHRcdFx0Ly8gY29uc29sZS53YXJuKFNlcnZpY2VQcm92aWRlci5wbHVnaW4uYXBwLmxhc3RFdmVudClcclxuXHRcdFx0XHRcdC8vIGNvbnNvbGUud2FybihTZXJ2aWNlUHJvdmlkZXIucGx1Z2luLmFwcC5sYXN0RXZlbnQ/LnNoaWZ0S2V5KVxyXG5cdFx0XHRcdFx0YXJyYXlNb3ZlKFNlcnZpY2VQcm92aWRlci50YWdSZWNvcmRzLmdldFRhZ3MoKSwgcmVjb3JkSW5kZXgsIHJlY29yZEluZGV4IC0gMSlcclxuXHRcdFx0XHRcdFNlcnZpY2VQcm92aWRlci5zZXR0aW5ncy5kZWJvdW5jZVNhdmVUb0ZpbGUoKVxyXG5cdFx0XHRcdFx0YXdhaXQgcmVkcmF3Q2FsbGJhY2soKVxyXG5cdFx0XHRcdH0pXHJcblx0XHRcdFx0LmV4dHJhU2V0dGluZ3NFbC5jbGFzc0xpc3QuYWRkKFwibmF2aWdhdG9yLWNoZXZyb24tdXBcIik7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHJlY29yZEluZGV4ICE9PSBTZXJ2aWNlUHJvdmlkZXIudGFnUmVjb3Jkcy5nZXRUYWdDb3VudCgpIC0gMSkge1xyXG5cdFx0XHRuZXcgRXh0cmFCdXR0b25Db21wb25lbnQodGhpcy5FbClcclxuXHRcdFx0XHQuc2V0SWNvbihcImRvd24tY2hldnJvbi1nbHlwaFwiKVxyXG5cdFx0XHRcdC5zZXRUb29sdGlwKFwiTW92ZSBkb3duXCIpXHJcblx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdFx0Ly8gcmVvcmRlciBzdHVmZiBoZXJlISEhXHJcblx0XHRcdFx0XHRhcnJheU1vdmUoU2VydmljZVByb3ZpZGVyLnRhZ1JlY29yZHMuZ2V0VGFncygpLCByZWNvcmRJbmRleCwgcmVjb3JkSW5kZXggKyAxKVxyXG5cdFx0XHRcdFx0U2VydmljZVByb3ZpZGVyLnNldHRpbmdzLmRlYm91bmNlU2F2ZVRvRmlsZSgpXHJcblx0XHRcdFx0XHRhd2FpdCByZWRyYXdDYWxsYmFjaygpXHJcblx0XHRcdFx0fSlcclxuXHRcdFx0XHQuZXh0cmFTZXR0aW5nc0VsLmNsYXNzTGlzdC5hZGQoXCJuYXZpZ2F0b3ItY2hldnJvbi1kb3duXCIpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0c2V0RGlzYWJsZWQoZGlzYWJsZWQ6IGJvb2xlYW4pOiB0aGlzIHtcclxuXHRcdHRoaXMuZGlzYWJsZWQgPSBkaXNhYmxlZDtcclxuXHRcdHRoaXMuRWwuaGlkZGVuID0gZGlzYWJsZWQ7XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9XHJcblxyXG5cdHRoZW4oY2I6IChjb21wb25lbnQ6IHRoaXMpID0+IGFueSk6IHRoaXMge1xyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fVxyXG59XHJcbiIsICIvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gSW1wb3J0c1xyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyBDb2RlXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyBwdWxsZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vU2lsZW50Vm9pZDEzL1RlbXBsYXRlci9ibG9iL21hc3Rlci9zcmMvdXRpbHMvVXRpbHMudHMjTDcyXHJcbmV4cG9ydCBmdW5jdGlvbiBhcnJheU1vdmU8VD4oXHJcblx0YXJyOiBUW10sXHJcblx0ZnJvbUluZGV4OiBudW1iZXIsXHJcblx0dG9JbmRleDogbnVtYmVyXHJcbik6IHZvaWQge1xyXG5cdGlmICh0b0luZGV4IDwgMCB8fCB0b0luZGV4ID09PSBhcnIubGVuZ3RoKSB7XHJcblx0XHRyZXR1cm47XHJcblx0fVxyXG5cdGNvbnN0IGVsZW1lbnQgPSBhcnJbZnJvbUluZGV4XTtcclxuXHRhcnJbZnJvbUluZGV4XSA9IGFyclt0b0luZGV4XTtcclxuXHRhcnJbdG9JbmRleF0gPSBlbGVtZW50O1xyXG59XHJcbiIsICIvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gSW1wb3J0c1xyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyBDb2RlXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5leHBvcnQgZnVuY3Rpb24gY2FwaXRhbGl6ZUZpcnN0TGV0dGVyKHN0cmluZzogc3RyaW5nKTogc3RyaW5nIHtcclxuXHRyZXR1cm4gc3RyaW5nLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3RyaW5nLnNsaWNlKDEpO1xyXG59XHJcbiIsICIvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gSW1wb3J0c1xyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuaW1wb3J0IHtTZXR0aW5nLCBTZXR0aW5nVGFifSBmcm9tIFwib2JzaWRpYW5cIjtcclxuaW1wb3J0IHtJRXh0ZW5zaW9ufSBmcm9tIFwiLi4vLi4vLi4vLi4vLi4vY29udHJhY3RzL3BsdWdpbi9leHRlbnNpb25zL0lFeHRlbnNpb25cIjtcclxuaW1wb3J0IHtTZXJ2aWNlUHJvdmlkZXJ9IGZyb20gXCIuLi8uLi8uLi8uLi9zZXJ2aWNlcy9TZXJ2aWNlUHJvdmlkZXJcIjtcclxuaW1wb3J0IHtjYXBpdGFsaXplRmlyc3RMZXR0ZXJ9IGZyb20gXCIuLi8uLi8uLi8uLi8uLi9saWIvU3RyaW5nVXRpbHNcIjtcclxuaW1wb3J0IHtJRXh0ZW5zaW9uUmVjb3JkfSBmcm9tIFwiLi4vLi4vLi4vLi4vLi4vY29udHJhY3RzL3BsdWdpbi9leHRlbnNpb25zL0lFeHRlbnNpb25SZWNvcmRcIjtcclxuXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyBDb2RlXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5leHBvcnQgY2xhc3MgU2V0dGluZ0V4dGVuc2lvblNlbGVjdG9yIHtcclxuXHRwcml2YXRlIHBhcmVudDogU2V0dGluZ1RhYjtcclxuXHJcblx0Ly8gcHJpdmF0ZSBzZXR0aW5nRWw6IFNldHRpbmc7XHJcblx0cHJpdmF0ZSBtYXN0ZXJFbDogSFRNTEVsZW1lbnQ7XHJcblx0cHJpdmF0ZSBncmlkQ29udGFpbmVyRWw6IEhUTUxFbGVtZW50O1xyXG5cclxuXHQvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cdC8vIENvbnN0cnVjdG9yXHJcblx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHRjb25zdHJ1Y3RvcihwYXJlbnQ6IFNldHRpbmdUYWIpIHtcclxuXHRcdHRoaXMucGFyZW50ID0gcGFyZW50O1xyXG5cdFx0dGhpcy5fQXNzaWduRWxzKClcclxuXHR9XHJcblxyXG5cdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblx0Ly8gSGVscGVyIE1ldGhvZHNcclxuXHQvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cdHByaXZhdGUgX0Fzc2lnbkVscygpIHtcclxuXHRcdC8vIHRoaXMuc2V0dGluZ0VsID0gbmV3IFNldHRpbmcodGhpcy5wYXJlbnQuY29udGFpbmVyRWwpXHJcblx0XHR0aGlzLm1hc3RlckVsID0gdGhpcy5wYXJlbnQuY29udGFpbmVyRWwuY3JlYXRlRGl2KCk7XHJcblx0XHR0aGlzLm1hc3RlckVsLmFkZENsYXNzKFwiZXh0ZW5zaW9uLXNlbGVjdG9yXCIpO1xyXG5cclxuXHRcdHRoaXMuZ3JpZENvbnRhaW5lckVsID0gdGhpcy5tYXN0ZXJFbC5jcmVhdGVEaXYoKTtcclxuXHRcdHRoaXMuZ3JpZENvbnRhaW5lckVsLmFkZENsYXNzKFwiZ3JpZC1jb250YWluZXJcIik7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGNyZWF0ZUV4dGVuc2lvbkdyaWRJdGVtKGV4dGVuc2lvbjogSUV4dGVuc2lvbjxJRXh0ZW5zaW9uUmVjb3JkPik6IEhUTUxFbGVtZW50IHtcclxuXHRcdGNvbnN0IGdyaWRJdGVtID0gbmV3IFNldHRpbmcoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JykpXHJcblx0XHRcdC5zZXRDbGFzcygnZ3JpZC1pdGVtJylcclxuXHRcdFx0LnNldE5hbWUoY2FwaXRhbGl6ZUZpcnN0TGV0dGVyKGV4dGVuc2lvbi5leHRlbnNpb25OYW1lKSlcclxuXHRcdFx0LnNldERlc2MoZXh0ZW5zaW9uLmRlc2NyaXB0aW9uKVxyXG5cdFx0XHQuYWRkVG9nZ2xlKGNiID0+IHtcclxuXHRcdFx0XHRjYi5zZXRWYWx1ZShleHRlbnNpb24uaXNFbmFibGVkKVxyXG5cdFx0XHRcdGNiLm9uQ2hhbmdlKHZhbHVlID0+IHtcclxuXHRcdFx0XHRcdGlmIChleHRlbnNpb24uZXh0ZW5zaW9uUmVxdWlyZW1lbnRzLmxlbmd0aCAhPSAwICYmIHZhbHVlKSB7XHJcblx0XHRcdFx0XHRcdGNvbnN0IG5vdEZvdW5kUmVxdWlyZW1lbnRzID0gZXh0ZW5zaW9uLmV4dGVuc2lvblJlcXVpcmVtZW50cy5maWx0ZXIoZXh0ID0+ICFTZXJ2aWNlUHJvdmlkZXIuZXh0ZW5zaW9ucy5FbmFibGVkTGlzdEFzU3RyaW5ncy5pbmNsdWRlcyhleHQpKTtcclxuXHRcdFx0XHRcdFx0aWYgKG5vdEZvdW5kUmVxdWlyZW1lbnRzLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0XHRcdFx0XHRjb25zdCB2YWx1ZXMgPSBub3RGb3VuZFJlcXVpcmVtZW50cy5tYXAoY2FwaXRhbGl6ZUZpcnN0TGV0dGVyKS5qb2luKFwiLCBcIilcclxuXHRcdFx0XHRcdFx0XHRjb25zdCBkb2MgPSBuZXcgRG9jdW1lbnRGcmFnbWVudCgpO1xyXG5cdFx0XHRcdFx0XHRcdGRvYy5jcmVhdGVTcGFuKHt9KS5pbm5lclRleHQgPSBleHRlbnNpb24uZGVzY3JpcHRpb247XHJcblx0XHRcdFx0XHRcdFx0ZG9jLmNyZWF0ZVNwYW4oe1wiY2xzXCI6XCJ0ZXh0LWNvbG9yLXJlZFwifSkuaW5uZXJIVE1MID0gYDxicj5UaGUgZm9sbG93aW5nIGV4dGVuc2lvbiByZXF1aXJlbWVudHMgd2VyZSBub3Qgc2V0OiA8Yj4ke3ZhbHVlc308L2I+YDtcclxuXHJcblx0XHRcdFx0XHRcdFx0Z3JpZEl0ZW0uc2V0RGVzYyhkb2MpXHJcblxyXG5cdFx0XHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdGdyaWRJdGVtLnNldERlc2MoZXh0ZW5zaW9uLmRlc2NyaXB0aW9uKVxyXG5cdFx0XHRcdFx0ZXh0ZW5zaW9uLmlzRW5hYmxlZCA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0U2VydmljZVByb3ZpZGVyLmNzc1N0eWxlci5wcm9jZXNzRXh0ZW5zaW9ucygpIC8vIFRoaXMgaXMgc28gd2UgY2FuIHVwZGF0ZSBhbGwgdGhlIHN0eWxpbmcgd2hlbiBzb21ldGhpbmcgY2hhbmdlc1xyXG5cclxuXHRcdFx0XHRcdHRoaXMucGFyZW50LmRpc3BsYXkoKSAvLyBSZWRyYXcgZW50aXJlIHNldHRpbmdzXHJcblx0XHRcdFx0fSlcclxuXHRcdFx0fSlcclxuXHRcdHJldHVybiBncmlkSXRlbS5zZXR0aW5nRWw7XHJcblx0fVxyXG5cclxuXHQvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cdC8vIE1ldGhvZHNcclxuXHQvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cdHB1YmxpYyBhc3luYyBkaXNwbGF5KCk6IFByb21pc2U8dm9pZD4ge1xyXG5cdFx0Zm9yIChjb25zdCBpRXh0ZW5zaW9uIG9mIFNlcnZpY2VQcm92aWRlci5leHRlbnNpb25zLkZ1bGxMaXN0KSB7XHJcblx0XHRcdGNvbnN0IGVsID0gdGhpcy5jcmVhdGVFeHRlbnNpb25HcmlkSXRlbShpRXh0ZW5zaW9uKVxyXG5cdFx0XHR0aGlzLmdyaWRDb250YWluZXJFbC5hcHBlbmRDaGlsZChlbClcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBLElBQUFBLG9CQUEwQzs7O0FDQTFDLElBQUFDLG9CQUF3Qzs7O0FDQXhDLElBQUFDLG9CQUFrQzs7O0FDQWxDLElBQUFDLG1CQUFnQzs7O0FDRWhDLElBQUFDLG1CQUFrQzs7O0FDRmxDLElBQUk7QUFDSixJQUFNLFFBQVEsSUFBSSxXQUFXLEVBQUU7QUFDaEIsU0FBUixNQUF1QjtBQUU1QixNQUFJLENBQUMsaUJBQWlCO0FBRXBCLHNCQUFrQixPQUFPLFdBQVcsZUFBZSxPQUFPLG1CQUFtQixPQUFPLGdCQUFnQixLQUFLLE1BQU07QUFFL0csUUFBSSxDQUFDLGlCQUFpQjtBQUNwQixZQUFNLElBQUksTUFBTSwwR0FBMEc7QUFBQSxJQUM1SDtBQUFBLEVBQ0Y7QUFFQSxTQUFPLGdCQUFnQixLQUFLO0FBQzlCOzs7QUNYQSxJQUFNLFlBQVksQ0FBQztBQUVuQixTQUFTLElBQUksR0FBRyxJQUFJLEtBQUssRUFBRSxHQUFHO0FBQzVCLFlBQVUsTUFBTSxJQUFJLEtBQU8sU0FBUyxFQUFFLEVBQUUsTUFBTSxDQUFDLENBQUM7QUFDbEQ7QUFFTyxTQUFTLGdCQUFnQixLQUFLLFNBQVMsR0FBRztBQUcvQyxTQUFPLFVBQVUsSUFBSSxTQUFTLENBQUMsQ0FBQyxJQUFJLFVBQVUsSUFBSSxTQUFTLENBQUMsQ0FBQyxJQUFJLFVBQVUsSUFBSSxTQUFTLENBQUMsQ0FBQyxJQUFJLFVBQVUsSUFBSSxTQUFTLENBQUMsQ0FBQyxJQUFJLE1BQU0sVUFBVSxJQUFJLFNBQVMsQ0FBQyxDQUFDLElBQUksVUFBVSxJQUFJLFNBQVMsQ0FBQyxDQUFDLElBQUksTUFBTSxVQUFVLElBQUksU0FBUyxDQUFDLENBQUMsSUFBSSxVQUFVLElBQUksU0FBUyxDQUFDLENBQUMsSUFBSSxNQUFNLFVBQVUsSUFBSSxTQUFTLENBQUMsQ0FBQyxJQUFJLFVBQVUsSUFBSSxTQUFTLENBQUMsQ0FBQyxJQUFJLE1BQU0sVUFBVSxJQUFJLFNBQVMsRUFBRSxDQUFDLElBQUksVUFBVSxJQUFJLFNBQVMsRUFBRSxDQUFDLElBQUksVUFBVSxJQUFJLFNBQVMsRUFBRSxDQUFDLElBQUksVUFBVSxJQUFJLFNBQVMsRUFBRSxDQUFDLElBQUksVUFBVSxJQUFJLFNBQVMsRUFBRSxDQUFDLElBQUksVUFBVSxJQUFJLFNBQVMsRUFBRSxDQUFDO0FBQ25mOzs7QUNoQkEsSUFBTSxhQUFhLE9BQU8sV0FBVyxlQUFlLE9BQU8sY0FBYyxPQUFPLFdBQVcsS0FBSyxNQUFNO0FBQ3RHLElBQU8saUJBQVE7QUFBQSxFQUNiO0FBQ0Y7OztBQ0NBLFNBQVMsR0FBRyxTQUFTLEtBQUssUUFBUTtBQUNoQyxNQUFJLGVBQU8sY0FBYyxDQUFDLE9BQU8sQ0FBQyxTQUFTO0FBQ3pDLFdBQU8sZUFBTyxXQUFXO0FBQUEsRUFDM0I7QUFFQSxZQUFVLFdBQVcsQ0FBQztBQUN0QixRQUFNLE9BQU8sUUFBUSxXQUFXLFFBQVEsT0FBTyxLQUFLO0FBRXBELE9BQUssQ0FBQyxJQUFJLEtBQUssQ0FBQyxJQUFJLEtBQU87QUFDM0IsT0FBSyxDQUFDLElBQUksS0FBSyxDQUFDLElBQUksS0FBTztBQUUzQixNQUFJLEtBQUs7QUFDUCxhQUFTLFVBQVU7QUFFbkIsYUFBUyxJQUFJLEdBQUcsSUFBSSxJQUFJLEVBQUUsR0FBRztBQUMzQixVQUFJLFNBQVMsQ0FBQyxJQUFJLEtBQUssQ0FBQztBQUFBLElBQzFCO0FBRUEsV0FBTztBQUFBLEVBQ1Q7QUFFQSxTQUFPLGdCQUFnQixJQUFJO0FBQzdCO0FBRUEsSUFBTyxhQUFROzs7QUNsQmYsZUFBc0IsaUJBQWlCLGFBQXNEO0FBQzVGLE1BQUksd0JBQTZFLFlBQVksVUFBVTtBQUN2RyxNQUFJLHlCQUEyRSxDQUFDO0FBRWhGLGFBQVcsT0FBTyxPQUFPLEtBQUsscUJBQXFCLEdBQUc7QUFDckQsVUFBTSxlQUFlLHNCQUFzQixHQUFHO0FBSTlDLDJCQUF1QixXQUFNLENBQUMsSUFBSTtBQUFBLE1BQ2pDLFVBQVU7QUFBQTtBQUFBLE1BQ1YsT0FBTztBQUFBLElBQ1I7QUFBQSxFQUNEO0FBR0EsTUFBSSxtQkFBbUI7QUFDdkIsbUJBQWlCLFVBQVUsY0FBYztBQUN6QyxtQkFBaUIsS0FBSyxrQkFBa0I7QUFDeEMsU0FBTztBQUVSOzs7QUN2QkEsZUFBc0IsaUJBQWlCLGFBQXNEO0FBRTVGLE1BQUkseUJBQWlELFlBQVksVUFBVTtBQUMzRSxNQUFJLDRCQUE0RixDQUFDO0FBRWpHLGFBQVcsT0FBTyxPQUFPLEtBQUssc0JBQXNCLEdBQUc7QUFDdEQsVUFBTSxlQUFlLHVCQUF1QixHQUFHO0FBSS9DLDhCQUEwQixXQUFNLENBQUMsSUFBSTtBQUFBLE1BQ3BDLFVBQVU7QUFBQTtBQUFBLE1BQ1Ysa0JBQWtCO0FBQUEsSUFDbkI7QUFBQSxFQUNEO0FBR0EsTUFBSSx3QkFBK0UsWUFBWSxVQUFVO0FBQ3pHLE1BQUksMkJBQW9HLENBQUM7QUFFekcsYUFBVyxPQUFPLE9BQU8sS0FBSyxxQkFBcUIsR0FBRztBQUNyRCxVQUFNLGVBQWUsc0JBQXNCLEdBQUc7QUFJOUMsNkJBQXlCLFdBQU0sQ0FBQyxJQUFJO0FBQUEsTUFDbkMsVUFBVTtBQUFBO0FBQUEsTUFDVixPQUFPLGFBQWE7QUFBQSxNQUNwQixZQUFZLGFBQWE7QUFBQSxJQUMxQjtBQUFBLEVBQ0Q7QUFHQSxNQUFJLG1CQUFtQjtBQUN2QixtQkFBaUIsVUFBVSx5QkFBeUI7QUFDcEQsbUJBQWlCLFVBQVUsVUFBVTtBQUNyQyxtQkFBaUIsS0FBSyxrQkFBa0I7QUFDeEMsU0FBTztBQUVSOzs7QUN4Q0EsZUFBc0IsaUJBQWlCLGFBQXNEO0FBRTVGLE1BQUksbUJBQW1CO0FBQ3ZCLG1CQUFpQixLQUFLLGtCQUFrQjtBQUN4QyxTQUFPO0FBRVI7OztBQ05BLGVBQXNCLGlCQUFpQixhQUFzRDtBQUM1RixNQUFJLG1CQUFtQjtBQUN2QixtQkFBaUIsWUFBWTtBQUFBLElBQzVCLGFBQWEsWUFBWSxVQUFVO0FBQUEsSUFDbkMsb0JBQW9CLFlBQVksVUFBVTtBQUFBLElBQzFDLFFBQVEsWUFBWSxVQUFVO0FBQUEsRUFDL0I7QUFFQSxtQkFBaUIsV0FBVyxTQUFTO0FBQUEsSUFDcEMsZ0JBQWdCO0FBQUEsSUFDaEIsY0FBYztBQUFBLElBQ2QsU0FBUztBQUFBLEVBQ1Y7QUFFQSxtQkFBaUIsS0FBSyxrQkFBa0I7QUFDeEMsU0FBTztBQUVSOzs7QUNqQkEsZUFBc0IsaUJBQWlCLGFBQXNEO0FBQzVGLE1BQUksbUJBQW1CO0FBRXZCLGFBQVcsV0FBVyxPQUFPLEtBQUssWUFBWSxVQUFVLFdBQVcsR0FBRztBQUNyRSxxQkFBaUIsVUFBVSxZQUFZLE9BQU8sSUFBSTtBQUFBLE1BQ2pELFVBQVUsWUFBWSxVQUFVLFlBQVksT0FBTyxFQUFFO0FBQUEsTUFDckQsT0FBTyxZQUFZLFVBQVUsWUFBWSxPQUFPLEVBQUU7QUFBQSxNQUNsRCxrQkFBa0IsWUFBWSxVQUFVLFlBQVksT0FBTyxFQUFFO0FBQUEsTUFDN0Qsb0JBQW9CO0FBQUEsSUFDckI7QUFBQSxFQUNEO0FBRUEsbUJBQWlCLEtBQUssa0JBQWtCO0FBQ3hDLFNBQU87QUFFUjs7O0FDZkEsZUFBc0IsaUJBQWlCLGFBQXNEO0FBQzVGLE1BQUksbUJBQW1CO0FBR3ZCLG1CQUFpQixPQUFPLGVBQWUsWUFBWSxPQUFPO0FBRTFELG1CQUFpQixLQUFLLGtCQUFrQjtBQUN4QyxTQUFPO0FBRVI7OztBQ1NPLFNBQVMsU0FBUyxLQUFlO0FBRXZDLFFBQU0sSUFBSSxJQUFJLElBQUk7QUFDbEIsUUFBTSxJQUFJLElBQUksSUFBSTtBQUNsQixRQUFNLElBQUksSUFBSSxJQUFJO0FBR2xCLFFBQU0sTUFBTSxLQUFLLElBQUksR0FBRyxHQUFHLENBQUM7QUFDNUIsUUFBTSxNQUFNLEtBQUssSUFBSSxHQUFHLEdBQUcsQ0FBQztBQUc1QixRQUFNLEtBQUssTUFBTSxPQUFPO0FBRXhCLE1BQUksSUFBSTtBQUNSLE1BQUksSUFBSTtBQUVSLE1BQUksUUFBUSxLQUFLO0FBRWhCLFFBQUksSUFBSSxPQUFPLE1BQU0sUUFBUSxJQUFJLE1BQU0sUUFBUSxNQUFNLFFBQVEsTUFBTTtBQUduRSxRQUFJLFFBQVEsR0FBRztBQUNkLFdBQUssT0FBTyxJQUFJLE1BQU0sTUFBTSxRQUFRLE9BQU87QUFBQSxJQUM1QyxXQUFXLFFBQVEsR0FBRztBQUNyQixVQUFJLE9BQU8sSUFBSSxNQUFNLE1BQU0sUUFBUTtBQUFBLElBQ3BDLE9BQU87QUFDTixVQUFJLE9BQU8sSUFBSSxNQUFNLE1BQU0sUUFBUTtBQUFBLElBQ3BDO0FBQUEsRUFDRDtBQUVBLFNBQU8sRUFBQyxHQUFHLEdBQUcsRUFBQztBQUNoQjtBQUdPLFNBQVMsU0FBUyxLQUErQztBQUN2RSxRQUFNLEVBQUMsR0FBRyxHQUFHLEVBQUMsSUFBSTtBQUdsQixRQUFNLGlCQUFpQixJQUFJLE1BQU0sT0FBTztBQUd4QyxRQUFNLHVCQUF1QixLQUFLLElBQUksR0FBRyxLQUFLLElBQUksR0FBRyxDQUFDLENBQUM7QUFDdkQsUUFBTSxzQkFBc0IsS0FBSyxJQUFJLEdBQUcsS0FBSyxJQUFJLEdBQUcsQ0FBQyxDQUFDO0FBRXRELFFBQU0sVUFBVSxJQUFJLEtBQUssSUFBSSxJQUFJLHNCQUFzQixDQUFDLEtBQUs7QUFDN0QsUUFBTSxJQUFJLFVBQVUsSUFBSSxLQUFLLElBQU0sZ0JBQWdCLEtBQU0sSUFBSyxDQUFDO0FBQy9ELFFBQU0sSUFBSSxzQkFBc0IsU0FBUztBQUV6QyxNQUFJLElBQUksR0FBRyxJQUFJLEdBQUcsSUFBSTtBQUV0QixNQUFJLGlCQUFpQixLQUFLLGdCQUFnQixJQUFJO0FBQzdDLFFBQUk7QUFDSixRQUFJO0FBQUEsRUFDTCxXQUFXLGlCQUFpQixNQUFNLGdCQUFnQixLQUFLO0FBQ3RELFFBQUk7QUFDSixRQUFJO0FBQUEsRUFDTCxXQUFXLGlCQUFpQixPQUFPLGdCQUFnQixLQUFLO0FBQ3ZELFFBQUk7QUFDSixRQUFJO0FBQUEsRUFDTCxXQUFXLGlCQUFpQixPQUFPLGdCQUFnQixLQUFLO0FBQ3ZELFFBQUk7QUFDSixRQUFJO0FBQUEsRUFDTCxXQUFXLGlCQUFpQixPQUFPLGdCQUFnQixLQUFLO0FBQ3ZELFFBQUk7QUFDSixRQUFJO0FBQUEsRUFDTCxPQUFPO0FBQ04sUUFBSTtBQUNKLFFBQUk7QUFBQSxFQUNMO0FBRUEsTUFBSSxLQUFLLE9BQU8sSUFBSSxLQUFLLEdBQUc7QUFDNUIsTUFBSSxLQUFLLE9BQU8sSUFBSSxLQUFLLEdBQUc7QUFDNUIsTUFBSSxLQUFLLE9BQU8sSUFBSSxLQUFLLEdBQUc7QUFFNUIsU0FBTyxFQUFDLEdBQUcsR0FBRyxFQUFDO0FBQ2hCOzs7QUMzRkEsZUFBc0IsaUJBQWlCLGFBQXNEO0FBQzVGLE1BQUksbUJBQW1CO0FBQ3ZCLG1CQUFpQixVQUFVLE9BQU8sa0JBQWtCO0FBQ3BELG1CQUFpQixVQUFVLGdDQUFnQztBQUMzRCxtQkFBaUIsVUFBVSw0QkFBNEI7QUFDdkQsbUJBQWlCLFVBQVUsMEJBQTBCO0FBQ3JELG1CQUFpQixVQUFVLE9BQU8sb0JBQW9CO0FBR3RELGFBQVcsV0FBVyxPQUFPLEtBQUssWUFBWSxVQUFVLFdBQVcsR0FBRztBQUNyRSxRQUFJLGFBQWEsWUFBWSxVQUFVLFlBQVksT0FBTztBQUMxRCxxQkFBaUIsVUFBVSxZQUFZLE9BQU8sSUFBSTtBQUFBLE1BQ2pELFVBQVUsV0FBVztBQUFBLE1BQ3JCLE9BQU8sV0FBVztBQUFBLE1BQ2xCLGtCQUFrQixXQUFXLFdBQVcsa0JBQWtCLFdBQVcsS0FBSyxJQUN2RSx3QkFBd0IsV0FBVyxrQkFBa0IsaUJBQWlCLFVBQVUsT0FBTyxlQUFlLElBQ3RHLFdBQVc7QUFBQSxNQUNkLGtCQUFrQixpQkFBaUIsVUFBVSxPQUFPO0FBQUEsSUFDckQ7QUFBQSxFQUNEO0FBRUEsbUJBQWlCLEtBQUssa0JBQWtCO0FBQ3hDLFNBQU87QUFDUjtBQUVBLFNBQVMsV0FBVyxPQUFZLFlBQTBCO0FBQ3pELFNBQ0MsTUFBTSxNQUFNLFdBQVcsS0FDcEIsTUFBTSxNQUFNLFdBQVcsS0FDdkIsTUFBTSxNQUFNLFdBQVc7QUFFNUI7QUFFQSxTQUFTLHdCQUF3QixZQUFpQixrQkFBK0I7QUFDaEYsTUFBSSxpQkFBaUIsU0FBUyxVQUFVO0FBQ3hDLGlCQUFlLEtBQUs7QUFDcEIsU0FBTyxTQUFTLGNBQWM7QUFDL0I7OztBQ3ZDQSxlQUFzQixpQkFBaUIsYUFBc0Q7QUFDNUYsTUFBSSxtQkFBbUI7QUFDdkIsbUJBQWlCLFdBQVcsbUJBQW1CO0FBQy9DLG1CQUFpQixLQUFLLGtCQUFrQjtBQUN4QyxTQUFPO0FBRVI7OztBQ05BLGVBQXNCLGlCQUFpQixhQUFzRDtBQUM1RixNQUFJLG1CQUFtQjtBQUN2QixtQkFBaUIsTUFBTTtBQUFBLElBQ3RCLFFBQVE7QUFBQSxJQUNSLFlBQVk7QUFBQSxJQUNaLGdCQUFnQjtBQUFBLEVBQ2pCO0FBQ0EsbUJBQWlCLEtBQUssa0JBQWtCO0FBQ3hDLFNBQU87QUFFUjs7O0FDVkEsZUFBc0IsaUJBQWlCLGFBQXNEO0FBQzVGLFFBQU0sWUFBaUI7QUFDdkIsU0FBTyxVQUFVLElBQUk7QUFFckIsTUFBSSxtQkFBbUI7QUFFdkIsbUJBQWlCLElBQUksV0FBVztBQUNoQyxtQkFBaUIsSUFBSSxrQkFBa0I7QUFDdkMsbUJBQWlCLElBQUksaUJBQWlCO0FBRXRDLG1CQUFpQixLQUFLLGtCQUFrQjtBQUN4QyxTQUFPO0FBRVI7OztBQ1pBLGVBQXNCLGlCQUFpQixhQUFzRDtBQUM1RixNQUFJLG1CQUFtQjtBQUN2QixtQkFBaUIsVUFBVSxjQUFjLE9BQU8sT0FBTyxZQUFZLFVBQVUsV0FBVztBQUN4RixtQkFBaUIsTUFBTSw2QkFBNkI7QUFDcEQsbUJBQWlCLEtBQUssa0JBQWtCO0FBQ3hDLFNBQU87QUFDUjs7O0FDTkEsZUFBc0IsaUJBQWlCLGFBQXNEO0FBQzVGLE1BQUksbUJBQW1CO0FBQ3ZCLG1CQUFpQixXQUFXLGlCQUFpQixPQUFPLE9BQU8sWUFBWSxXQUFXLGNBQWM7QUFDaEcsbUJBQWlCLEtBQUssa0JBQWtCO0FBQ3hDLFNBQU87QUFDUjs7O0FDTEEsZUFBc0IsaUJBQWlCLGFBQXNEO0FBQzVGLE1BQUksbUJBQW1CO0FBRXZCLG1CQUFpQixXQUFXLDBCQUEwQixZQUFZLFVBQVU7QUFDNUUsbUJBQWlCLFdBQVcsT0FBTyxvQkFBb0IsWUFBWSxVQUFVLE9BQU87QUFFcEYsbUJBQWlCLE9BQU8sMEJBQTBCLFlBQVksVUFBVTtBQUN4RSxtQkFBaUIsT0FBTyxPQUFPLG9CQUFvQixZQUFZLFVBQVUsT0FBTztBQUVoRixtQkFBaUIsT0FBTywwQkFBMEIsWUFBWSxVQUFVO0FBQ3hFLG1CQUFpQixPQUFPLE9BQU8sb0JBQW9CLFlBQVksVUFBVSxPQUFPO0FBRWhGLG1CQUFpQixLQUFLLGtCQUFrQjtBQUN4QyxTQUFPO0FBQ1I7OztBQ2RBLGVBQXNCLGlCQUFpQixhQUFzRDtBQUM1RixNQUFJLG1CQUFtQjtBQUV2QixtQkFBaUIsS0FBSyxrQkFBa0I7QUFDeEMsU0FBTztBQUNSOzs7QUNPQSxlQUFzQixpQkFBaUIsYUFBdUQ7QUFDN0YsTUFBSSxXQUE0QixPQUFPLE9BQU8sQ0FBQyxHQUFHLGVBQWU7QUFHakUsV0FBUyxZQUFZLFlBQVksVUFBVSxZQUFZO0FBQUEsSUFDdEQsQ0FBQyxZQUE4QjtBQUM5QixZQUFNLGNBQWlDLGdCQUFnQixXQUFXLGlCQUFpQjtBQUVuRixrQkFBWSxlQUFlLFFBQVE7QUFDbkMsa0JBQVksd0JBQXdCLEVBQUMsR0FBRyxRQUFRLE1BQUs7QUFDckQsa0JBQVksd0JBQXdCLEVBQUMsR0FBRyxRQUFRLGlCQUFnQjtBQUVoRSxVQUFJLFlBQVksVUFBVSx5QkFBd0I7QUFDakQsb0JBQVksc0JBQXNCLFlBQVksVUFBVSxPQUFPO0FBQUEsTUFDaEU7QUFFQSxVQUFJLFlBQVksT0FBTyxRQUFPO0FBQzdCLG9CQUFZLGdDQUFnQztBQUM1QyxvQkFBWSw0QkFBNEI7QUFDeEMsb0JBQVksaUNBQWlDLFlBQVksT0FBTyxPQUFPO0FBQUEsTUFDeEU7QUFFQSxhQUFPO0FBQUEsSUFDUjtBQUFBLEVBQ0Q7QUFFQSxXQUFTLEtBQUssa0JBQWtCO0FBQ2hDLFNBQU87QUFDUjs7O0FDM0NBLHNCQUFxQjtBQU1kLElBQU0sbUJBQU4sTUFBa0Q7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQTZCeEQsWUFBWSxRQUFtQztBQUM5QyxTQUFLLFNBQVM7QUFBQSxFQUNmO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFLQSxNQUFhLFlBQVksTUFBMEI7QUEvQ3BEO0FBaURFLFFBQUksU0FBUyxNQUFNO0FBQ2xCLGFBQU87QUFBQSxJQUNSO0FBR0EsUUFBSSxXQUFVLHdDQUFNLFNBQU4sbUJBQVksb0JBQVosWUFBK0I7QUFDN0MsUUFBSSxZQUFZLE1BQU0sV0FBVyxJQUFJO0FBRXBDLFlBQU0sS0FBSyxPQUFPLElBQUksTUFBTSxRQUFRO0FBQUEsUUFDbkMsR0FBRyxLQUFLLE9BQU8sU0FBUztBQUFBLFFBQ3hCLEdBQUcsS0FBSyxPQUFPLFNBQVMsbUJBQW1CLEtBQUssSUFBSSxFQUFFLFNBQVM7QUFBQSxNQUNoRTtBQUFBLElBQ0Q7QUFFQSxRQUFJLFlBQVksSUFBSTtBQUVuQixjQUFRLEtBQUsscUZBQXFGO0FBQ2xHLFVBQUksdUJBQU8sOEdBQThHO0FBQ3pILGFBQU87QUFBQSxJQUNSO0FBRUEsUUFBSSxXQUFXLElBQUk7QUFDbEIsVUFBSSx1QkFBTyxnSkFBZ0o7QUFBQSxJQUM1SjtBQUdBLFFBQUksZUFBZ0M7QUFDcEMsU0FBSyxTQUFTLFVBQVUsaUJBQWdCLGdCQUFnQixRQUFRLFdBQVc7QUFDMUUscUJBQWUsTUFBTSxpQkFBZ0IsZ0JBQWdCLE9BQU8sRUFBRSxZQUFZO0FBQzFFLGNBQVEsSUFBSSwwREFBMEQsYUFBYSxLQUFLLGlCQUFpQjtBQUFBLElBQzFHO0FBRUEsV0FBTztBQUFBLEVBQ1I7QUFFRDtBQXpFTyxJQUFNLGtCQUFOO0FBQU0sZ0JBQ0csa0JBQW1EO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlqRSxPQUFPLFNBQVMsTUFBaUIsaUJBQWlCLElBQUk7QUFBQTtBQUFBLEVBQ3RELE9BQU8sU0FBUyxNQUFpQixpQkFBaUIsSUFBSTtBQUFBO0FBQUEsRUFDdEQsT0FBTyxTQUFTLE1BQWlCLGlCQUFpQixJQUFJO0FBQUE7QUFBQSxFQUN0RCxPQUFPLFNBQVMsTUFBaUIsaUJBQWlCLElBQUk7QUFBQTtBQUFBLEVBQ3RELE9BQU8sU0FBUyxNQUFpQixpQkFBaUIsSUFBSTtBQUFBO0FBQUEsRUFDdEQsT0FBTyxTQUFTLE1BQWlCLGlCQUFpQixJQUFJO0FBQUE7QUFBQSxFQUN0RCxPQUFPLFNBQVMsTUFBaUIsaUJBQWlCLElBQUk7QUFBQTtBQUFBLEVBQ3RELE9BQU8sU0FBUyxNQUFpQixpQkFBaUIsSUFBSTtBQUFBO0FBQUEsRUFDdEQsT0FBTyxTQUFTLE1BQWlCLGlCQUFpQixJQUFJO0FBQUE7QUFBQSxFQUN0RCxPQUFPLFNBQVMsTUFBaUIsaUJBQWlCLElBQUk7QUFBQTtBQUFBLEVBQ3RELE9BQU8sU0FBUyxNQUFpQixpQkFBaUIsSUFBSTtBQUFBO0FBQUEsRUFDdEQsT0FBTyxTQUFTLE1BQWlCLGlCQUFpQixJQUFJO0FBQUE7QUFBQSxFQUN0RCxPQUFPLFNBQVMsTUFBaUIsaUJBQWlCLElBQUk7QUFBQTtBQUFBLEVBQ3RELE9BQU8sU0FBUyxNQUFpQixpQkFBaUIsSUFBSTtBQUFBO0FBQUEsRUFDdEQsT0FBTyxTQUFTLE1BQWlCLGlCQUFpQixJQUFJO0FBQUE7QUFDdkQ7QUFBQTtBQXBCWSxnQkFzQkUsa0JBQWtCLGlCQUFnQixnQkFBZ0IsU0FBUzs7O0FDdkIxRSxJQUFNLHNCQUFvQztBQUFBLEVBQ3pDLGlCQUFpQixnQkFBZ0I7QUFBQTtBQUNsQztBQUtPLElBQU0sa0JBQW1DO0FBQUEsRUFDL0MsV0FBVyxDQUFDO0FBQUEsRUFDWixtQkFBbUIsQ0FBQyxNQUFNO0FBQUEsRUFDMUIsTUFBTTtBQUNQOzs7QXRCUk8sSUFBTSxrQkFBTixNQUFrRDtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBU3hELFlBQVksUUFBbUMsVUFBNEI7QUFDMUUsU0FBSyxVQUFVO0FBQ2YsU0FBSyxZQUFZO0FBQ2pCLFNBQUsseUJBQXFCLDJCQUFTLEtBQUssWUFBWSxHQUFHO0FBQUEsRUFDeEQ7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUtBLE1BQWEsZUFBZTtBQUMzQixVQUFNLFdBQVcsTUFBTSxLQUFLLFFBQVEsU0FBUztBQUM3QyxTQUFLLE9BQU8sT0FBTztBQUFBLE1BQ2xCLENBQUM7QUFBQSxNQUNEO0FBQUEsTUFDQSxNQUFNLEtBQUssVUFBVSxZQUFZLFFBQVE7QUFBQSxJQUMxQztBQUVBLFNBQUssbUJBQW1CO0FBQUEsRUFDekI7QUFBQSxFQUVBLE1BQWEsYUFBYTtBQUN6QixVQUFNLEtBQUssUUFBUSxTQUFTLEtBQUssSUFBSTtBQUFBLEVBQ3RDO0FBQ0Q7OztBdUJ0Q08sSUFBTSxVQUFVO0FBQ2hCLElBQU0sVUFBVTs7O0FDT2hCLElBQU0sb0JBQU4sTUFBc0Q7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQVk1RCxZQUFZLFVBQTRCLFlBQWdDO0FBVHhFLFNBQVEsYUFBeUM7QUFVaEQsU0FBSyxZQUFZO0FBQ2pCLFNBQUssY0FBYztBQUFBLEVBQ3BCO0FBQUEsRUFWQSxJQUFZLGNBQW1DO0FBQzlDLFdBQU8sS0FBSyxVQUFVLEtBQUs7QUFBQSxFQUM1QjtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBYUEsWUFBWSxlQUF3QixNQUEyQjtBQW5DaEU7QUFvQ0UsWUFBTyxVQUFLLGVBQUwsaUJBQUssYUFBZSxLQUFLLFlBQzlCLFFBQVEsQ0FBQyxXQUFXO0FBQ3BCLGFBQU8sT0FBTyxhQUNaLE1BQU0sT0FBTyxFQUNiLElBQUksU0FBTyxJQUFJLEtBQUssRUFBRSxZQUFZLENBQUMsRUFDbkMsT0FBTyxPQUFPLEVBQ2QsSUFBSSxTQUFPLGVBQWUsSUFBSSxRQUFRLFNBQVMsRUFBRSxJQUFJLEdBQUcsRUFDeEQsSUFBSSxVQUFRLEVBQUMsR0FBRyxRQUFRLGNBQWMsSUFBRyxFQUFFO0FBQUEsSUFDOUMsQ0FBQztBQUFBLEVBQ0g7QUFBQSxFQUVBLFVBQStCO0FBQzlCLFdBQU8sS0FBSztBQUFBLEVBQ2I7QUFBQSxFQUVBLGNBQXNCO0FBQ3JCLFdBQU8sS0FBSyxZQUFZO0FBQUEsRUFDekI7QUFBQSxFQUVBLE1BQU0sZUFBZSxRQUEwQztBQUM5RCxVQUFNLFFBQVEsS0FBSyxZQUFZLE1BQU07QUFDckMsUUFBSSxVQUFVLElBQUk7QUFDakIsV0FBSyxZQUFZLEtBQUssSUFBSTtBQUFBLElBQzNCLE9BQU87QUFDTixXQUFLLFlBQVksS0FBSyxNQUFNO0FBQUEsSUFDN0I7QUFFQSxVQUFNLEtBQUssVUFBVSxtQkFBbUIsSUFBSTtBQUM1QyxTQUFLLGFBQWE7QUFDbEIsb0JBQWdCLFVBQVUsa0JBQWtCO0FBQUEsRUFDN0M7QUFBQSxFQUVBLE1BQU0sVUFBVSxRQUEwQztBQUN6RCxTQUFLLFlBQVksT0FBTyxNQUFNO0FBQzlCLFVBQU0sS0FBSyxVQUFVLG1CQUFtQixJQUFJO0FBQzVDLFNBQUssYUFBYTtBQUFBLEVBQ25CO0FBQUEsRUFFQSxZQUFZLFFBQW1DO0FBQzlDLFdBQU8sS0FBSyxZQUFZLFVBQVUsQ0FBQyxNQUFNLEVBQUUsWUFBWSxPQUFPLE9BQU87QUFBQSxFQUN0RTtBQUFBLEVBRUEsWUFBWSxRQUFtQztBQTlFaEQ7QUErRUUsWUFBTyxZQUFPLGFBQWEsTUFBTSxPQUFPLEVBQUUsTUFBTSxNQUF6QyxZQUE4QztBQUFBLEVBQ3REO0FBQUEsRUFFQSxpQkFBaUIsUUFBMkQ7QUFDM0UsV0FBTztBQUFBLE1BQ04sT0FBTyxxQkFBcUIsT0FBTztBQUFBLE1BQ25DLEtBQUssbUJBQW1CLE9BQU87QUFBQSxJQUNoQztBQUFBLEVBQ0Q7QUFBQSxFQUVBLG1CQUFzQztBQUNyQyxXQUFPLEtBQUssWUFBWSxTQUFTO0FBQUEsTUFDaEMsQ0FBQyxLQUF3QixTQUF1QyxFQUFDLEdBQUcsS0FBSyxHQUFHLElBQUksaUJBQWlCLEVBQUM7QUFBQSxNQUNsRyxDQUFDO0FBQUEsSUFDRjtBQUFBLEVBQ0Q7QUFBQSxFQUVBLE1BQU0sc0JBQXFDO0FBQzFDLFVBQU0sWUFBWSxLQUFLLGlCQUFpQjtBQUd4QyxRQUFJLEtBQUssZUFBZSxNQUFNO0FBQzdCLFdBQUssWUFBWTtBQUFBLElBQ2xCO0FBS0EsVUFBTSxpQkFBaUIsS0FBSyxXQUMxQixPQUFPLFlBQVUsT0FBTyxhQUFhLFdBQVcsVUFBVSxZQUFZLENBQUMsRUFDdkU7QUFFRixjQUFVLGdCQUFnQixJQUFJO0FBRTlCLFVBQU0sS0FBSyxlQUFlLFNBQVM7QUFBQSxFQUNwQztBQUVEOzs7QUNqSEEsSUFBQUMsbUJBQTZCOzs7QUNxR3RCLFNBQVMsVUFBVSxLQUFhLE9BQXFCO0FBRTNELFFBQU0sSUFBSSxRQUFRLE1BQU0sRUFBRTtBQUcxQixNQUFJLFFBQVE7QUFBRyxZQUFRO0FBQ3ZCLE1BQUksUUFBUTtBQUFHLFlBQVE7QUFHdkIsUUFBTSxJQUFJLFNBQVMsSUFBSSxVQUFVLEdBQUcsQ0FBQyxHQUFHLEVBQUU7QUFDMUMsUUFBTSxJQUFJLFNBQVMsSUFBSSxVQUFVLEdBQUcsQ0FBQyxHQUFHLEVBQUU7QUFDMUMsUUFBTSxJQUFJLFNBQVMsSUFBSSxVQUFVLEdBQUcsQ0FBQyxHQUFHLEVBQUU7QUFHMUMsU0FBTyxFQUFDLEdBQUcsR0FBRyxHQUFHLEdBQUcsTUFBSztBQUMxQjtBQWdETyxTQUFTLFlBQVksT0FBb0I7QUFDL0MsU0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUM3QztBQUVPLFNBQVMsbUJBQW1CLE9BQVksU0FBd0I7QUFDdEUsU0FBTyxRQUFRLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQ3BEO0FBS08sU0FBUyxVQUFVLE9BQXFCO0FBQzlDLFFBQU0sRUFBQyxHQUFHLEdBQUcsRUFBQyxJQUFJO0FBQ2xCLFNBQU8sTUFBTSxDQUFDLEdBQUcsR0FBRyxDQUFDLEVBQUUsSUFBSSxPQUFLO0FBQy9CLFVBQU0sTUFBTSxFQUFFLFNBQVMsRUFBRTtBQUN6QixXQUFPLElBQUksV0FBVyxJQUFJLE1BQU0sTUFBTTtBQUFBLEVBQ3ZDLENBQUMsRUFBRSxLQUFLLEVBQUU7QUFDWDs7O0FEMUtPLElBQU0saUNBQU4sY0FBNkMsZ0NBQXFEO0FBQUEsRUFDeEcsWUFBWSxTQUFzQixlQUFzQztBQUN2RSxVQUFNLFFBQVEsUUFBUTtBQUV0QixRQUFJLFFBQWMsUUFBUSxPQUFPLGFBQWE7QUFDOUMsU0FBSyxTQUFTLFVBQVUsS0FBSyxDQUFDO0FBRTlCLFNBQUssU0FBUyxPQUFPLGFBQWE7QUFDakMsY0FBUSxPQUFPLGFBQWEsSUFBSSxVQUFVLFVBQVUsQ0FBQztBQUNyRCxZQUFNLGdCQUFnQixXQUFXLGVBQWUsUUFBUSxNQUFNO0FBQzlELFlBQU0sUUFBUSxrQkFBa0I7QUFBQSxJQUNqQyxDQUFDO0FBQUEsRUFFRjtBQUNEOzs7QUV6QkEsSUFBQUMsbUJBQThCO0FBU3ZCLElBQU0sa0NBQU4sY0FBOEMsaUNBQXNEO0FBQUEsRUFDMUcsWUFBWSxTQUFzQixlQUFrQztBQUNuRSxVQUFNLFFBQVEsUUFBUTtBQUd0QixTQUFLLFNBQVMsUUFBUSxPQUFPLGFBQWEsQ0FBWTtBQUN0RCxTQUFLLFNBQVMsT0FBTyxhQUFhO0FBRWpDLGNBQVEsT0FBTyxhQUFhLElBQUk7QUFDaEMsWUFBTSxnQkFBZ0IsV0FBVyxlQUFlLFFBQVEsTUFBTTtBQUFBLElBQy9ELENBQUM7QUFBQSxFQUNGO0FBQ0Q7OztBQ2ZPLElBQU0scUJBQTRCO0FBQ2xDLElBQU0sb0JBQTJCO0FBS2pDLElBQU0sbUJBQU4sTUFBb0Q7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQVExRCxZQUFZLFlBQWdDO0FBQzNDLFNBQUssYUFBYTtBQUVsQixTQUFLLGVBQWUsU0FBUyxjQUFjLE9BQU87QUFDbEQsU0FBSyxhQUFhLEtBQUs7QUFBQSxFQUN4QjtBQUFBLEVBRU8sb0JBQW9CO0FBQzFCLFNBQUssYUFBYSxZQUFZO0FBQzlCLFNBQUssYUFBYSxZQUFZLEtBQUssVUFBVTtBQUU3QyxhQUFTLEtBQUssWUFBWSxLQUFLLFlBQVk7QUFBQSxFQUM1QztBQUFBLEVBRU8sVUFBVTtBQUNoQixhQUFTLEtBQUssWUFBWSxLQUFLLFlBQVk7QUFBQSxFQUM1QztBQUFBLEVBRVEsWUFBb0I7QUFDM0IsUUFBSSxPQUErQyxDQUFDO0FBRXBELFNBQUssV0FBVyxZQUVkLFFBQVEsT0FBSztBQUNiLFlBQU0sUUFBZ0QsRUFBRSxZQUFZLFNBQVM7QUFFN0UsYUFBTyxLQUFLLEtBQUssRUFBRSxRQUFRLENBQUMsUUFBUTtBQUNuQyxhQUFLLEdBQUcsSUFBSSxPQUFPLE9BQU8sS0FBSyxHQUFHLEtBQUssQ0FBQyxHQUFHLE1BQU0sR0FBRyxDQUFDO0FBQUEsTUFDdEQsQ0FBQztBQUFBLElBQ0YsQ0FBQztBQUVGLFdBQU8sT0FBTyxLQUFLLElBQUksRUFDckI7QUFBQSxNQUNBLGNBQVksR0FBRyxjQUFjLE9BQU8sS0FBSyxLQUFLLFFBQVEsQ0FBQyxFQUFFLElBQUksY0FBWSxHQUFHLGFBQWEsS0FBSyxRQUFRLEVBQUUsUUFBUSxJQUFJLEVBQUUsS0FBSyxFQUFFO0FBQUEsSUFDOUgsRUFBRSxLQUFLLElBQUk7QUFBQSxFQUNiO0FBRUQ7OztBQy9DTyxJQUFNLGtCQUFOLE1BQThDO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJNUMsWUFBWSxRQUFtRDtBQUN0RSxXQUFPO0FBQUEsTUFDTixTQUFTLEdBQUcsWUFBWSxPQUFPLHFCQUFxQjtBQUFBLE1BQ3BELGNBQWMsR0FBRyxZQUFZLE9BQU8scUJBQXFCO0FBQUEsSUFDMUQ7QUFBQSxFQUNEO0FBQUEsRUFFUSxXQUFXLE9BQWUsUUFBcUM7QUFDdEUsV0FBTztBQUFBLE1BQ04sR0FBRyxxQkFBcUIsT0FBTztBQUFBLE1BQy9CLEdBQUcsaUJBQWlCLE9BQU87QUFBQSxJQUM1QjtBQUFBLEVBQ0Q7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlPLFdBQW1EO0FBQ3pELFVBQU0sT0FBK0MsQ0FBQztBQUV0RCxvQkFBZ0IsV0FDZCxZQUFZLEtBQUssRUFDakIsT0FBTyxZQUFVLE9BQU8sWUFBWSxFQUNwQztBQUFBLE1BQVEsWUFBVTtBQUNqQixhQUFLLFdBQVcsb0JBQW9CLE1BQU0sRUFDeEMsUUFBUSxDQUFDLFNBQVM7QUFDbEIsZUFBSyxJQUFJLElBQUksS0FBSyxZQUFZLE1BQU07QUFBQSxRQUNyQyxDQUFDO0FBQ0YsYUFBSyxXQUFXLG1CQUFtQixNQUFNLEVBQ3ZDLFFBQVEsQ0FBQyxTQUFTO0FBQ2xCLGVBQUssSUFBSSxJQUFJLEtBQUssWUFBWSxNQUFNO0FBQUEsUUFDckMsQ0FBQztBQUFBLE1BQ0g7QUFBQSxJQUNEO0FBQ0QsV0FBTztBQUFBLEVBQ1I7QUFDRDs7O0FDeENPLElBQWUsb0JBQWYsTUFBc0Y7QUFBQSxFQUF0RjtBQUtOLFNBQVMsd0JBQWtDLENBQUM7QUFBQTtBQUFBLEVBRTVDLElBQVcsWUFBcUI7QUFDL0IsV0FBTyxnQkFBZ0IsV0FBVyxZQUFZLFNBQVMsSUFBSTtBQUFBLEVBQzVEO0FBQUEsRUFFQSxJQUFXLFVBQVUsT0FBZ0I7QUFDcEMsb0JBQWdCLFdBQVcsYUFBYSxNQUFNLEtBQUs7QUFBQSxFQUNwRDtBQU1EOzs7QUNqQk8sSUFBTSxnQkFBTixjQUE0QixrQkFBd0M7QUFBQSxFQUFwRTtBQUFBO0FBQ04sU0FBTyxjQUFjLElBQUksZ0JBQWdCO0FBQ3pDLFNBQU8sZ0JBQWdCO0FBQ3ZCLFNBQU8sY0FBYztBQUNyQixTQUFPLHlCQUFrRDtBQUFBLE1BQ3hEO0FBQUEsUUFDQyxPQUFPO0FBQUEsUUFDUCxVQUFVLENBQUMsWUFBWTtBQUN0QixpQkFBTyxJQUFJO0FBQUEsWUFBZ0M7QUFBQSxZQUMxQztBQUFBLFVBQWM7QUFBQSxRQUNoQjtBQUFBLFFBQ0EsU0FBUyxDQUFDLDBCQUEwQixxQkFBcUI7QUFBQSxNQUMxRDtBQUFBLE1BQUc7QUFBQSxRQUNGLE9BQU87QUFBQSxRQUNQLFVBQVUsQ0FBQyxZQUFZO0FBQ3RCLGlCQUFPLElBQUk7QUFBQSxZQUErQjtBQUFBLFlBQ3pDO0FBQUEsVUFBdUI7QUFBQSxRQUN6QjtBQUFBLFFBQ0EsU0FBUyxDQUFDO0FBQUEsTUFDWDtBQUFBLE1BQUc7QUFBQSxRQUNGLE9BQU87QUFBQSxRQUNQLFVBQVUsQ0FBQyxZQUFZO0FBQ3RCLGlCQUFPLElBQUk7QUFBQSxZQUErQjtBQUFBLFlBQ3pDO0FBQUEsVUFBdUI7QUFBQSxRQUN6QjtBQUFBLFFBQ0EsU0FBUyxDQUFDO0FBQUEsTUFDWDtBQUFBLElBQUU7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBS0ksbUJBQXlDO0FBQy9DLFdBQU87QUFBQSxNQUNOLGNBQWM7QUFBQSxNQUNkLFNBQVMsV0FBTztBQUFBLE1BQ2hCLGNBQWM7QUFBQSxNQUNkLHVCQUF1QixFQUFDLEdBQUcsS0FBSyxHQUFHLEtBQUssR0FBRyxJQUFHO0FBQUEsTUFDOUMsdUJBQXVCLEVBQUMsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEVBQUM7QUFBQSxJQUN6QztBQUFBLEVBQ0Q7QUFDRDs7O0FDMUNPLElBQU0sd0JBQU4sTUFBb0Q7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlsRCxZQUFZLFFBQW1EO0FBQ3RFLFVBQU0sT0FBK0IsQ0FBQztBQUN0QyxRQUFJLE9BQU8sMEJBQTBCO0FBQ3BDLFdBQUssYUFBYSxJQUFJO0FBQUEsSUFDdkI7QUFDQSxRQUFJLE9BQU8sNEJBQTRCO0FBQ3RDLFdBQUssWUFBWSxJQUFJO0FBQUEsSUFDdEI7QUFDQSxRQUFJLE9BQU8sNEJBQTRCLFVBQWEsT0FBTyw0QkFBNEIsUUFBUSxPQUFPLDRCQUE0QixJQUFJO0FBQ3JJLFdBQUssYUFBYSxJQUFJLEdBQUcsT0FBTztBQUFBLElBQ2pDO0FBQ0EsUUFBSSxPQUFPLDBCQUEwQixVQUFhLE9BQU8sMEJBQTBCLFFBQVEsT0FBTywwQkFBMEIsR0FBRztBQUM5SCxXQUFLLFdBQVcsSUFBSSxHQUFHLE9BQU87QUFBQSxJQUMvQjtBQUNBLFFBQUksT0FBTyx3QkFBd0IsVUFBYSxPQUFPLHdCQUF3QixRQUFRLE9BQU8sd0JBQXdCLEdBQUc7QUFDeEgsVUFBSSxPQUFPLGNBQWE7QUFDdkIsYUFBSyxrQkFBa0IsSUFBSSxHQUFHLG1CQUFtQixPQUFPLHVCQUF1QixPQUFPLG1CQUFtQjtBQUFBLE1BQzFHLE9BQU87QUFDTixhQUFLLGtCQUFrQixJQUFJLDJEQUEyRCxPQUFPO0FBQUEsTUFDOUY7QUFBQSxJQUNEO0FBRUEsV0FBTztBQUFBLEVBQ1I7QUFBQSxFQUVRLFdBQVcsT0FBZSxRQUFxQztBQUN0RSxXQUFPO0FBQUEsTUFDTixHQUFHLHFCQUFxQixPQUFPO0FBQUEsTUFDL0IsR0FBRyxpQkFBaUIsT0FBTztBQUFBLElBQzVCO0FBQUEsRUFDRDtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSU8sV0FBbUQ7QUFDekQsVUFBTSxPQUErQyxDQUFDO0FBSXRELFVBQU0sZ0JBQWdCLGdCQUFnQixXQUFXLFdBQVcsaUJBQWlCO0FBRTdFLG9CQUFnQixXQUNkLFlBQVksS0FBSyxFQUNqQixPQUFPLFlBQVU7QUFFakIsYUFBTyxPQUFPLEtBQUssYUFBYSxFQUFFLE1BQU0sU0FBTyxPQUFPLEdBQUcsTUFBTSxjQUFjLEdBQUcsQ0FBQztBQUFBLElBQ2xGLENBQUMsRUFDQTtBQUFBLE1BQVEsWUFBVTtBQUNqQixhQUFLLFdBQVcsb0JBQW9CLE1BQU0sRUFDeEMsUUFBUSxDQUFDLFNBQVM7QUFDbEIsZUFBSyxJQUFJLElBQUksS0FBSyxZQUFZLE1BQU07QUFBQSxRQUNyQyxDQUFDO0FBQ0YsYUFBSyxXQUFXLG1CQUFtQixNQUFNLEVBQ3ZDLFFBQVEsQ0FBQyxTQUFTO0FBQ2xCLGVBQUssSUFBSSxJQUFJLEtBQUssWUFBWSxNQUFNO0FBQUEsUUFDckMsQ0FBQztBQUFBLE1BQ0g7QUFBQSxJQUNEO0FBQ0QsV0FBTztBQUFBLEVBQ1I7QUFDRDs7O0FDekVBLElBQUFDLG1CQUFzRjtBQVMvRSxJQUFNLGtDQUFOLGNBQThDLCtCQUFvRDtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBUXhHLFlBQVksU0FBc0IsZUFBaUMsS0FBYSxLQUFhLE1BQWMsY0FBdUIsT0FBTyxhQUF1QixNQUFNO0FBcEJ2SztBQXFCRSxVQUFNO0FBRU4sU0FBSyxRQUFRLFFBQVEsU0FBUyxVQUFVLEVBQUMsT0FBTSxhQUFZLENBQUM7QUFFNUQsUUFBSSxhQUFhO0FBQ2hCLFdBQUssV0FBVyxJQUFJLHNDQUFxQixLQUFLLEtBQUssRUFDakQsUUFBUSxPQUFPLEVBQ2YsV0FBVyxrQkFBa0IsRUFDN0IsUUFBUSxZQUFZO0FBN0J6QixZQUFBQztBQThCSyxnQkFBUSxPQUFPLGFBQWEsSUFBSSxjQUFjLE9BQU8sTUFBTTtBQUMzRCxhQUFLLFNBQVMsVUFBU0EsTUFBQSxRQUFRLE9BQU8sYUFBYSxNQUE1QixPQUFBQSxNQUFpQyxHQUFHO0FBQzNELGNBQU0sZ0JBQWdCLFdBQVcsZUFBZSxRQUFRLE1BQU07QUFBQSxNQUMvRCxDQUFDO0FBQUEsSUFDSDtBQUVBLFNBQUssV0FBVyxJQUFJLGlDQUFnQixLQUFLLEtBQUssRUFDNUMsVUFBVSxLQUFLLEtBQUssSUFBSSxFQUN4QixVQUFTLGFBQVEsT0FBTyxhQUFhLE1BQTVCLFlBQWlDLEdBQUcsRUFDN0Msa0JBQWtCLEVBQ2xCLFNBQVMsT0FBTyxhQUFhO0FBQzdCLGNBQVEsT0FBTyxhQUFhLElBQUk7QUFDaEMsWUFBTSxnQkFBZ0IsV0FBVyxlQUFlLFFBQVEsTUFBTTtBQUFBLElBQy9ELENBQUM7QUFBQSxFQUVIO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFLTyxPQUFNO0FBQ1osU0FBSyxTQUFTLGdCQUFnQixLQUFLO0FBQ25DLFNBQUssU0FBUyxTQUFTLEtBQUs7QUFDNUIsU0FBSyxNQUFNLEtBQUs7QUFBQSxFQUNqQjtBQUNEOzs7QUNwREEsSUFBQUMsbUJBQTRCO0FBU3JCLElBQU0scUNBQU4sY0FBaUQsK0JBQW9EO0FBQUEsRUFDM0csWUFBWSxTQUFzQixlQUErQjtBQUNoRSxVQUFNLFFBQVEsUUFBUTtBQUV0QixTQUFLLFNBQVMsUUFBUSxPQUFPLGFBQWEsQ0FBQztBQUMzQyxTQUFLLFNBQVMsT0FBTyxhQUFhO0FBQ2pDLGNBQVEsT0FBTyxhQUFhLElBQUk7QUFDaEMsWUFBTSxnQkFBZ0IsV0FBVyxlQUFlLFFBQVEsTUFBTTtBQUFBLElBQy9ELENBQUM7QUFBQSxFQUNGO0FBQ0Q7OztBQ0FPLElBQU0sc0JBQU4sY0FBa0Msa0JBQThDO0FBQUEsRUFBaEY7QUFBQTtBQUNOLFNBQU8sY0FBNEIsSUFBSSxzQkFBc0I7QUFDN0QsU0FBTyxnQkFBZ0I7QUFDdkIsU0FBTyxjQUFjO0FBQ3JCLFNBQU8seUJBQWtEO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLE1BTXhEO0FBQUEsUUFDQyxPQUFPO0FBQUEsUUFDUCxVQUFVLENBQUMsWUFDVixJQUFJO0FBQUEsVUFDSDtBQUFBLFVBQ0E7QUFBQSxVQUNBO0FBQUEsVUFBSztBQUFBLFVBQUs7QUFBQSxVQUNWO0FBQUEsVUFDQTtBQUFBLFFBQ0Q7QUFBQSxRQUNELFNBQVMsQ0FBQyx3QkFBd0I7QUFBQSxNQUNuQztBQUFBLE1BQ0E7QUFBQSxRQUNDLE9BQU87QUFBQSxRQUNQLFVBQVUsQ0FBQyxZQUFZLElBQUksZ0NBQWdDLFNBQVMsMEJBQTBCO0FBQUEsUUFDOUYsU0FBUyxDQUFDO0FBQUEsTUFDWDtBQUFBLE1BQ0E7QUFBQSxRQUNDLE9BQU87QUFBQSxRQUNQLFVBQVUsQ0FBQyxZQUFZLElBQUksZ0NBQWdDLFNBQVMsNEJBQTRCO0FBQUEsUUFDaEcsU0FBUyxDQUFDO0FBQUEsTUFDWDtBQUFBLE1BQ0E7QUFBQSxRQUNDLE9BQU87QUFBQSxRQUNQLFVBQVUsQ0FBQyxZQUFZLElBQUksbUNBQW1DLFNBQVMseUJBQXlCO0FBQUEsUUFDaEcsU0FBUyxDQUFDO0FBQUEsTUFDWDtBQUFBLE1BQ0E7QUFBQSxRQUNDLE9BQU87QUFBQSxRQUNQLFVBQVUsQ0FBQyxZQUFZLElBQUk7QUFBQSxVQUMxQjtBQUFBLFVBQ0E7QUFBQSxVQUNBO0FBQUEsVUFBSztBQUFBLFVBQUk7QUFBQSxVQUNUO0FBQUEsVUFDQTtBQUFBLFFBQ0Q7QUFBQSxRQUNBLFNBQVMsQ0FBQztBQUFBLE1BQ1g7QUFBQSxJQUNEO0FBQUE7QUFBQSxFQUVPLG1CQUErQztBQUNyRCxXQUFPO0FBQUEsTUFDTiwwQkFBMEI7QUFBQSxNQUMxQix5QkFBeUI7QUFBQSxNQUN6Qix1QkFBdUI7QUFBQSxNQUN2Qiw0QkFBNEI7QUFBQSxNQUM1QixxQkFBcUI7QUFBQSxJQUN0QjtBQUFBLEVBQ0Q7QUFDRDs7O0FDcEVPLElBQU0sd0JBQU4sTUFBb0Q7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlsRCxZQUFZLFFBQW1EO0FBQ3RFLFVBQU0sT0FBK0IsQ0FBQztBQUV0QyxRQUFJLE9BQU8sMkJBQTBCO0FBQ3BDLFdBQUssY0FBYyxJQUFJLEdBQUcsWUFBWSxPQUFPLHFCQUFxQjtBQUFBLElBQ25FO0FBQ0EsUUFBSSxPQUFPLCtCQUE4QjtBQUV4QyxXQUFLLGtCQUFrQixJQUFJLEdBQUcsbUJBQW1CLE9BQU8sdUJBQXVCLE9BQU8sOEJBQThCO0FBQUEsSUFDckg7QUFFQSxXQUFPO0FBQUEsRUFDUjtBQUFBLEVBRVEsV0FBVyxPQUFlLFFBQXFDO0FBQ3RFLFdBQU87QUFBQSxNQUNOLEdBQUcsdUVBQXVFLE9BQU87QUFBQSxNQUNqRixHQUFHLHlFQUF5RSxPQUFPO0FBQUEsTUFDbkYsR0FBRywyRUFBMkUsT0FBTztBQUFBLElBQ3RGO0FBQUEsRUFDRDtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSU8sV0FBbUQ7QUFDekQsVUFBTSxPQUErQyxDQUFDO0FBRXRELG9CQUFnQixXQUNkLFlBQVksS0FBSyxFQUNqQixPQUFPLFlBQVU7QUFDakIsYUFBTyxPQUFPLDZCQUNWLE9BQU8saUNBQ1AsT0FBTyxtQ0FBbUMsZ0JBQWdCLFdBQVcsWUFBWSxpQkFBaUIsRUFBRTtBQUFBLElBQ3pHLENBQUMsRUFFQSxLQUFLLENBQUMsR0FBRyxNQUFNO0FBQ2YsVUFBSSxFQUFFLHlCQUF5QixVQUFhLEVBQUUseUJBQXlCO0FBQVcsZUFBTztBQUN6RixhQUFPLEVBQUUsd0JBQXdCLEVBQUUsdUJBQXVCLElBQUk7QUFBQSxJQUMvRCxDQUFDLEVBQ0E7QUFBQSxNQUFRLFlBQVU7QUFDakIsYUFBSyxXQUFXLG9CQUFvQixNQUFNLEVBQ3hDLFFBQVEsQ0FBQyxTQUFTO0FBQ2xCLGVBQUssSUFBSSxJQUFJLEtBQUssWUFBWSxNQUFNO0FBQUEsUUFDckMsQ0FBQztBQUNGLGFBQUssV0FBVyxtQkFBbUIsTUFBTSxFQUN2QyxRQUFRLENBQUMsU0FBUztBQUNsQixlQUFLLElBQUksSUFBSSxLQUFLLFlBQVksTUFBTTtBQUFBLFFBQ3JDLENBQUM7QUFBQSxNQUNIO0FBQUEsSUFDRDtBQUNELFdBQU87QUFBQSxFQUNSO0FBQ0Q7OztBQ2xFQSxJQUFBQyxtQkFBNEI7QUFTckIsSUFBTSx1Q0FBTixjQUFtRCwrQkFBb0Q7QUFBQSxFQUM3RyxZQUFZLFNBQXNCLGVBQWlDLGNBQXFCLEdBQUc7QUFiNUY7QUFjRSxVQUFNLFFBQVEsUUFBUTtBQUV0QixTQUFLLFFBQVEsVUFBVSxJQUFJLHNDQUFzQztBQUNqRSxTQUFLLGVBQWUsWUFBWSxTQUFTLENBQUM7QUFDMUMsU0FBSyxVQUFTLG1CQUFRLE9BQU8sYUFBYSxNQUE1QixtQkFBK0IsZUFBL0IsWUFBNkMsRUFBRTtBQUM3RCxTQUFLLFNBQVMsT0FBTyxhQUFhO0FBQ2pDLGNBQVEsT0FBTyxhQUFhLElBQUksT0FBTyxTQUFTLFFBQVE7QUFDeEQsWUFBTSxnQkFBZ0IsV0FBVyxlQUFlLFFBQVEsTUFBTTtBQUFBLElBQy9ELENBQUM7QUFBQSxFQUNGO0FBQ0Q7OztBQ1JPLElBQU0sc0JBQU4sY0FBa0Msa0JBQThDO0FBQUEsRUFBaEY7QUFBQTtBQUNOLFNBQWdCLGNBQWMsSUFBSSxzQkFBc0I7QUFDeEQsU0FBZ0IsZ0JBQWdCO0FBQ2hDLFNBQWdCLGNBQWM7QUFFOUIsU0FBTyx3QkFBd0IsQ0FBQyxNQUFNO0FBRXRDLFNBQU8seUJBQWtEO0FBQUEsTUFDeEQ7QUFBQSxRQUNDLE9BQU87QUFBQSxRQUNQLFVBQVUsQ0FBQyxZQUFZO0FBQ3RCLGlCQUFPLElBQUk7QUFBQSxZQUFnQztBQUFBLFlBQzFDO0FBQUEsVUFBMkI7QUFBQSxRQUM3QjtBQUFBLFFBQ0EsU0FBUyxDQUFDLHdCQUF3QjtBQUFBLE1BQ25DO0FBQUEsTUFBRztBQUFBLFFBQ0YsT0FBTztBQUFBLFFBQ1AsVUFBVSxDQUFDLFlBQVk7QUFDdEIsaUJBQU8sSUFBSTtBQUFBLFlBQWdDO0FBQUEsWUFDMUM7QUFBQSxVQUErQjtBQUFBLFFBQ2pDO0FBQUEsUUFDQSxTQUFTLENBQUMsd0JBQXdCO0FBQUEsTUFDbkM7QUFBQSxNQUFFO0FBQUEsUUFDRCxPQUFPO0FBQUEsUUFDUCxVQUFVLENBQUMsWUFBWTtBQUN0QixpQkFBTyxJQUFJO0FBQUEsWUFBZ0M7QUFBQSxZQUMxQztBQUFBLFlBQ0E7QUFBQSxZQUFLO0FBQUEsWUFBSztBQUFBLFlBQ1Y7QUFBQSxZQUNBLEtBQUssaUJBQWlCLEVBQUU7QUFBQSxVQUN6QjtBQUFBLFFBQ0Q7QUFBQSxRQUNBLFNBQVMsQ0FBQyx3QkFBd0I7QUFBQSxNQUNuQztBQUFBLE1BQUU7QUFBQSxRQUNELE9BQU87QUFBQSxRQUNQLFVBQVUsQ0FBQyxZQUFZO0FBQ3RCLGlCQUFPLElBQUk7QUFBQSxZQUFxQztBQUFBLFlBQy9DO0FBQUEsVUFDRDtBQUFBLFFBQ0Q7QUFBQSxRQUNBLFNBQVMsQ0FBQyx3QkFBd0I7QUFBQSxNQUNuQztBQUFBLElBQ0Q7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBS08sbUJBQStDO0FBQ3JELFdBQU87QUFBQSxNQUNOLDJCQUEyQjtBQUFBLE1BQzNCLCtCQUErQjtBQUFBLE1BQy9CLGdDQUFnQztBQUFBLE1BQ2hDLHNCQUF1QjtBQUFBLElBQ3hCO0FBQUEsRUFDRDtBQUNEOzs7QUN0RE8sSUFBTSxvQkFBTixNQUFzRDtBQUFBLEVBUTVELElBQVcsV0FBMkM7QUF6QnZEO0FBMEJFLFlBQU8sVUFBSyxVQUFMLGlCQUFLLFFBQVUsS0FBSyxPQUFPO0FBQUEsRUFDbkM7QUFBQSxFQUdBLElBQVcsY0FBOEM7QUE5QjFEO0FBK0JFLFlBQU8sVUFBSyxpQkFBTCxZQUFxQixLQUFLLFNBQy9CLE9BQU8sT0FBSyxLQUFLLFVBQVUsS0FBSyxrQkFBa0IsU0FBUyxFQUFFLGFBQWEsQ0FBQztBQUFBLEVBQzlFO0FBQUEsRUFJQSxJQUFXLGFBQTJEO0FBckN2RTtBQXNDRSxZQUFPLFVBQUssZ0JBQUwsaUJBQUssY0FBZ0IsS0FBSyxhQUFhO0FBQUEsRUFDL0M7QUFBQSxFQUVBLElBQVcsdUJBQWlDO0FBQzNDLFdBQU8sS0FBSyxZQUFZLElBQUksT0FBSyxFQUFFLGFBQWE7QUFBQSxFQUNqRDtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBS0EsWUFBWSxVQUE0QjtBQUN2QyxTQUFLLFlBQVk7QUFDakIsU0FBSyxPQUFPLElBQUksY0FBYztBQUM5QixTQUFLLGFBQWEsSUFBSSxvQkFBb0I7QUFDMUMsU0FBSyxjQUFjLElBQUksb0JBQW9CO0FBQUEsRUFDNUM7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUtPLGFBQWEsV0FBeUMsT0FBc0I7QUFDbEYsUUFBSSxPQUFPO0FBQ1YsV0FBSyxVQUFVLEtBQUssa0JBQWtCLEtBQUssVUFBVSxhQUFhO0FBQUEsSUFDbkUsT0FBTztBQUNOLFVBQUksS0FBSyxVQUFVLEtBQUssa0JBQWtCLFNBQVMsVUFBVSxhQUFhLEdBQUc7QUFDNUUsYUFBSyxVQUFVLEtBQUssa0JBQWtCLE9BQU8sVUFBVSxhQUFhO0FBQUEsTUFDckU7QUFBQSxJQUNEO0FBQ0EsU0FBSyxlQUFlO0FBQUEsRUFDckI7QUFBQSxFQUVRLFNBQXlDO0FBQ2hELFdBQU87QUFBQSxNQUNOLEtBQUs7QUFBQSxNQUNMLEtBQUs7QUFBQSxNQUNMLEtBQUs7QUFBQSxJQUNOO0FBQUEsRUFDRDtBQUFBLEVBRVEsZUFBNkQ7QUFDcEUsV0FBTyxLQUFLLE9BQU8sRUFBRTtBQUFBLE1BQ3BCLENBQUMsS0FBSyxNQUFNO0FBQ1gsWUFBSSxFQUFFLGFBQWEsSUFBSTtBQUN2QixlQUFPO0FBQUEsTUFDUjtBQUFBLE1BQ0EsQ0FBQztBQUFBLElBQ0Y7QUFBQSxFQUNEO0FBQ0Q7OztBQ3BFTyxJQUFNLG1CQUFOLE1BQXNCO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFZNUIsT0FBYyxrQkFBa0IsUUFBbUM7QUFDbEUsUUFBSSxpQkFBZ0I7QUFBYztBQUVsQyxxQkFBZ0IsU0FBUztBQUN6QixxQkFBZ0IsV0FBVyxJQUFJLGdCQUFnQixNQUFNO0FBQ3JELHFCQUFnQixXQUFXLElBQUksZ0JBQWdCLFFBQVEsaUJBQWdCLFFBQVE7QUFDL0UscUJBQWdCLGFBQWEsSUFBSSxrQkFBa0IsaUJBQWdCLFFBQVE7QUFDM0UscUJBQWdCLGFBQWEsSUFBSSxrQkFBa0IsaUJBQWdCLFVBQVUsaUJBQWdCLFVBQVU7QUFFdkcscUJBQWdCLFlBQVksSUFBSSxpQkFBaUIsaUJBQWdCLFVBQVU7QUFFM0UscUJBQWdCLGVBQWU7QUFBQSxFQUNoQztBQUNEO0FBekJPLElBQU0sa0JBQU47QUFBTSxnQkFRRyxlQUF3Qjs7O0F6Q2RqQyxJQUFNLG9DQUFOLGNBQWdELG1DQUF3RDtBQUFBLEVBQzlHLFlBQVksU0FBc0IsZUFBbUM7QUFDcEUsVUFBTSxRQUFRLFFBQVE7QUFFdEIsU0FBSyxTQUFTLFFBQVEsT0FBTyxhQUFhLENBQUM7QUFDM0MsU0FBSyxTQUFTLE9BQU8sYUFBYTtBQUNqQyxXQUFLLFFBQVEsTUFBTSxTQUFTO0FBQzVCLFdBQUssUUFBUSxNQUFNLFNBQVMsS0FBSyxXQUFXO0FBRTVDLGNBQVEsT0FBTyxhQUFhLElBQUk7QUFDaEMsWUFBTSxnQkFBZ0IsV0FBVyxlQUFlLFFBQVEsTUFBTTtBQUM5RCxZQUFNLFFBQVEsa0JBQWtCO0FBQUEsSUFDakMsQ0FBQztBQUVELFNBQUssUUFBUSxNQUFNLFNBQVMsS0FBSyxXQUFXO0FBQUEsRUFDN0M7QUFBQSxFQUVRLGFBQWE7QUFDcEIsV0FBTyxHQUFHLEtBQUssUUFBUSxlQUFlO0FBQUEsRUFDdkM7QUFDRDs7O0EwQ3RCTyxJQUFNLDBCQUFOLE1BQW9FO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFRMUUsWUFBWSxTQUFzQjtBQUNqQyxTQUFLLEtBQUssUUFBUSxTQUFTLFVBQVU7QUFDckMsU0FBSyxHQUFHLFNBQVMsaUJBQWlCO0FBQ2xDLFFBQUksTUFBTSxLQUFLLEdBQUcsVUFBVTtBQUU1QixVQUFNLGFBQWEsZ0JBQWdCLFdBQVcsaUJBQWlCLFFBQVEsTUFBTTtBQUM3RSxVQUFNLFdBQVcsZ0JBQWdCLFdBQVcsWUFBWSxRQUFRLE1BQU07QUFFdEUsVUFBTSxVQUFVLElBQUksU0FBUyxNQUFNO0FBQ25DLFlBQVEsV0FBVyxDQUFDLGNBQWMsb0JBQW9CLFdBQVcsVUFBVSxVQUFVLENBQUM7QUFDdEYsWUFBUSxLQUFLLFdBQVc7QUFFeEIsVUFBTSxRQUFRLElBQUksU0FBUyxNQUFNO0FBQ2pDLFVBQU0sV0FBVyxDQUFDLGNBQWMsa0JBQWtCLFdBQVcsVUFBVSxVQUFVLENBQUM7QUFDbEYsVUFBTSxLQUFLLFdBQVc7QUFBQSxFQUd2QjtBQUFBLEVBRUEsWUFBWSxVQUF5QjtBQUNwQyxTQUFLLFdBQVc7QUFDaEIsU0FBSyxHQUFHLFNBQVM7QUFDakIsV0FBTztBQUFBLEVBQ1I7QUFBQSxFQUVBLEtBQUssSUFBb0M7QUFDeEMsV0FBTztBQUFBLEVBQ1I7QUFDRDs7O0FDMUNBLElBQUFDLG1CQUFtQzs7O0FDSTVCLFNBQVMsVUFDZixLQUNBLFdBQ0EsU0FDTztBQUNQLE1BQUksVUFBVSxLQUFLLFlBQVksSUFBSSxRQUFRO0FBQzFDO0FBQUEsRUFDRDtBQUNBLFFBQU0sVUFBVSxJQUFJLFNBQVM7QUFDN0IsTUFBSSxTQUFTLElBQUksSUFBSSxPQUFPO0FBQzVCLE1BQUksT0FBTyxJQUFJO0FBQ2hCOzs7QURQTyxJQUFNLDZCQUFOLE1BQXVFO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFRN0UsWUFBWSxTQUFzQixlQUF3QixNQUFNLGdCQUFxQztBQUNwRyxTQUFLLEtBQUssUUFBUSxTQUFTLFVBQVU7QUFDckMsU0FBSyxHQUFHLFNBQVMsa0JBQWtCO0FBQ25DLFVBQU0sY0FBYyxnQkFBZ0IsV0FBVyxZQUFZLFFBQVEsTUFBTTtBQUV6RSxRQUFJLGNBQWM7QUFDakIsVUFBSSxzQ0FBcUIsS0FBSyxFQUFFLEVBQzlCLFFBQVEsT0FBTyxFQUNmLFdBQVcsZUFBZSxFQUMxQixRQUFRLFlBQVk7QUFDcEIsY0FBTSxnQkFBZ0IsV0FBVyxVQUFVLFFBQVEsTUFBTTtBQUN6RCxjQUFNLGVBQWU7QUFBQSxNQUN0QixDQUFDLEVBQ0EsZ0JBQWdCLFVBQVUsSUFBSSxpQkFBaUI7QUFBQSxJQUNsRDtBQUVBLFFBQUksZ0JBQWdCLEdBQUc7QUFDdEIsVUFBSSxzQ0FBcUIsS0FBSyxFQUFFLEVBQzlCLFFBQVEsa0JBQWtCLEVBQzFCLFdBQVcsU0FBUyxFQUNwQixRQUFRLFlBQVk7QUFJcEIsa0JBQVUsZ0JBQWdCLFdBQVcsUUFBUSxHQUFHLGFBQWEsY0FBYyxDQUFDO0FBQzVFLHdCQUFnQixTQUFTLG1CQUFtQjtBQUM1QyxjQUFNLGVBQWU7QUFBQSxNQUN0QixDQUFDLEVBQ0EsZ0JBQWdCLFVBQVUsSUFBSSxzQkFBc0I7QUFBQSxJQUN2RDtBQUVBLFFBQUksZ0JBQWdCLGdCQUFnQixXQUFXLFlBQVksSUFBSSxHQUFHO0FBQ2pFLFVBQUksc0NBQXFCLEtBQUssRUFBRSxFQUM5QixRQUFRLG9CQUFvQixFQUM1QixXQUFXLFdBQVcsRUFDdEIsUUFBUSxZQUFZO0FBRXBCLGtCQUFVLGdCQUFnQixXQUFXLFFBQVEsR0FBRyxhQUFhLGNBQWMsQ0FBQztBQUM1RSx3QkFBZ0IsU0FBUyxtQkFBbUI7QUFDNUMsY0FBTSxlQUFlO0FBQUEsTUFDdEIsQ0FBQyxFQUNBLGdCQUFnQixVQUFVLElBQUksd0JBQXdCO0FBQUEsSUFDekQ7QUFBQSxFQUNEO0FBQUEsRUFFQSxZQUFZLFVBQXlCO0FBQ3BDLFNBQUssV0FBVztBQUNoQixTQUFLLEdBQUcsU0FBUztBQUNqQixXQUFPO0FBQUEsRUFDUjtBQUFBLEVBRUEsS0FBSyxJQUFvQztBQUN4QyxXQUFPO0FBQUEsRUFDUjtBQUNEOzs7QUVuRU8sU0FBUyxzQkFBc0IsUUFBd0I7QUFDN0QsU0FBTyxPQUFPLE9BQU8sQ0FBQyxFQUFFLFlBQVksSUFBSSxPQUFPLE1BQU0sQ0FBQztBQUN2RDs7O0E5Q09PLElBQU0sa0JBQU4sTUFBc0I7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQVc1QixZQUFZLFFBQW9CO0FBQy9CLFNBQUssU0FBUztBQUNkLFNBQUssV0FBVztBQUFBLEVBQ2pCO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFLQSxNQUFhLFVBQXlCO0FBQ3JDLFFBQUksS0FBSyxhQUFhLFVBQWEsS0FBSyxZQUFZLFFBQVc7QUFDOUQsV0FBSyxXQUFXO0FBQUEsSUFDakI7QUFFQSxVQUFNLEtBQUssMEJBQTBCO0FBQ3JDLFVBQU0sS0FBSyxjQUFjO0FBRXpCLFVBQU0sS0FBSyxhQUFhLEtBQUssZUFBZTtBQUFBLEVBRTdDO0FBQUEsRUFFQSxNQUFhLGNBQWM7QUFDMUIsU0FBSyxRQUFRLE1BQU07QUFDbkIsVUFBTSxLQUFLLGNBQWM7QUFBQSxFQUMxQjtBQUFBLEVBRUEsTUFBYSxVQUFVLFFBQTJCLEdBQStCO0FBQ2hGLFVBQU0sTUFBTSxnQkFBZ0IsV0FBVyxZQUFZLE1BQU07QUFDekQsVUFBTSxpQkFBaUIsSUFBSTtBQUUzQixRQUFJLEVBQUMsT0FBTyxJQUFHLElBQUksS0FBSyxpQkFBaUIsTUFBTTtBQUUvQyxRQUFJLENBQUMsU0FBUyxDQUFDLEtBQUs7QUFDbkIsY0FBUSxLQUFLLFlBQVksZ0NBQWdDO0FBQ3pEO0FBQUEsSUFDRDtBQUVBLFVBQU0sYUFBYSxrQkFBa0IsSUFDbEMsR0FBRyxJQUFJLFVBQVUsR0FBRyxDQUFDLFNBQ3JCO0FBQ0gsUUFBSSxNQUFNLGdCQUFnQjtBQUFLLFlBQU0sY0FBYztBQUNuRCxRQUFJLElBQUksZ0JBQWdCO0FBQVksVUFBSSxjQUFjO0FBQUEsRUFHdkQ7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUtRLGFBQWE7QUFDcEIsU0FBSyxZQUFZLElBQUksMEJBQVEsS0FBSyxPQUFPLFdBQVc7QUFDcEQsU0FBSyxVQUFVLEtBQUssT0FBTyxZQUFZLFVBQVU7QUFDakQsU0FBSyxrQkFBa0IsSUFBSSwwQkFBUSxLQUFLLE9BQU8sV0FBVztBQUFBLEVBQzNEO0FBQUEsRUFFQSxNQUFjLDRCQUEyQztBQUN4RCxVQUFNLFVBQVUsS0FBSyxVQUNuQixRQUFRLG1CQUFtQixFQUMzQixRQUFRLGtGQUFrRjtBQUU1RixRQUFJLGdCQUFnQixXQUFXLFlBQVksU0FBUyxHQUFFO0FBQ3JELGNBQVEsWUFBWSxlQUFhO0FBQ2hDLGtCQUNFO0FBQUEsVUFDQSxnQkFBZ0IsV0FBVyxZQUN6QixJQUFJLGVBQWEsVUFBVSxhQUFhLEVBQ3hDO0FBQUEsWUFDQSxDQUFDLEtBQUssU0FDTCxFQUFDLEdBQUcsS0FBSyxDQUFDLEdBQUcsR0FBRyxzQkFBc0IsR0FBRyxFQUFDO0FBQUEsWUFDeEMsQ0FBQztBQUFBLFVBQ0w7QUFBQSxRQUNGLEVBQ0MsU0FBUyxPQUFPLFVBQVU7QUFFMUIsZUFBSyxvQkFBb0I7QUFDekIsZ0JBQU0sS0FBSyxZQUFZO0FBQUEsUUFDeEIsQ0FBQztBQUFBLE1BQ0gsQ0FBQztBQUFBLElBQ0Y7QUFDQSxVQUFNLEtBQUssYUFBYSxPQUFPO0FBQUEsRUFDaEM7QUFBQSxFQUVBLE1BQWMsYUFBYSxXQUFvQjtBQUM5QyxjQUFVLFVBQVUsZUFBYTtBQUNoQyxnQkFDRSxTQUFTLFNBQVMsRUFDbEIsY0FBYyxTQUFTLEVBQ3ZCLFFBQVEsWUFBWTtBQUNwQixjQUFNLGdCQUFnQixXQUFXLG9CQUFvQjtBQUNyRCxjQUFNLEtBQUssWUFBWTtBQUFBLE1BQ3hCLENBQUM7QUFBQSxJQUNILENBQUM7QUFBQSxFQUVGO0FBQUEsRUFFQSxNQUFjLGdCQUErQjtBQUM1QyxRQUFJLHNCQUFzQixLQUFLLFFBQVEsVUFBVTtBQUNqRCx3QkFBb0IsU0FBUyx1QkFBdUI7QUFFcEQsUUFBSSxpQkFBaUIsb0JBQW9CLFVBQVU7QUFDbkQsbUJBQWUsU0FBUyxrQkFBa0I7QUFFMUMsUUFBSSxrQkFBa0Isb0JBQW9CLFVBQVU7QUFDcEQsb0JBQWdCLFNBQVMsa0JBQWtCO0FBSTNDLFVBQU0sVUFBbUM7QUFBQSxNQUN4QztBQUFBLFFBQ0MsT0FBTztBQUFBLFFBQ1AsVUFBVSxDQUFDLFlBQXlCO0FBQ25DLGlCQUFPLElBQUk7QUFBQSxZQUEyQjtBQUFBLFlBQ3JDO0FBQUEsWUFBTSxZQUFZLE1BQU0sS0FBSyxZQUFZO0FBQUEsVUFBQztBQUFBLFFBQzVDO0FBQUEsUUFDQSxTQUFTLENBQUM7QUFBQSxNQUNYO0FBQUEsTUFBRztBQUFBLFFBQ0YsT0FBTztBQUFBLFFBQ1AsVUFBVSxDQUFDLFlBQXlCO0FBQ25DLGlCQUFPLElBQUk7QUFBQSxZQUFrQztBQUFBLFlBQzVDO0FBQUEsVUFBYztBQUFBLFFBQ2hCO0FBQUEsUUFDQSxTQUFTLENBQUM7QUFBQSxNQUNYO0FBQUEsTUFBRztBQUFBLFFBQ0YsT0FBTztBQUFBLFFBQ1AsVUFBVSxDQUFDLFlBQXlCO0FBQ25DLGlCQUFPLElBQUksd0JBQXdCLE9BQU87QUFBQSxRQUMzQztBQUFBLFFBQ0EsU0FBUyxDQUFDLGVBQWUsaUJBQWlCLGNBQWM7QUFBQSxNQUN6RDtBQUFBLElBQ0Q7QUFFQSxVQUFNLGNBQWMsS0FBSyxxQkFBcUIsU0FDM0MsZ0JBQWdCLFdBQVcsV0FBVyxLQUFLLGlCQUFpQixJQUM1RCxnQkFBZ0IsV0FBVyxZQUFZLE1BQU07QUFFaEQsK0NBQWEsdUJBQXVCLFFBQVMsY0FBWSxRQUFRLEtBQUssUUFBUTtBQUc5RSxRQUFJLFFBQVEsZUFBZSxTQUFTLE9BQU87QUFDM0MsUUFBSSxRQUFRLE1BQU0sU0FBUyxPQUFPO0FBQ2xDLFFBQUksYUFBYSxNQUFNLFNBQVMsSUFBSTtBQUNwQyxhQUFTLEVBQUMsT0FBTyxRQUFPLEtBQUssU0FBUztBQUNyQyxpQkFBVyxTQUFTLE1BQU0sRUFBQyxNQUFNLE9BQU8sS0FBSyxRQUFPLENBQUM7QUFDckQsaUJBQVcsV0FBVyxPQUFPO0FBQUEsSUFDOUI7QUFHQSxRQUFJLFFBQVEsTUFBTSxTQUFTLE9BQU87QUFDbEMsYUFBUyxVQUFVLGdCQUFnQixXQUFXLFFBQVEsR0FBRztBQUN4RCxZQUFNLEtBQUssTUFBTSxTQUFTLElBQUk7QUFDOUIsZUFBUyxFQUFDLFVBQVUsUUFBTyxLQUFLLFNBQVM7QUFDeEMsWUFBSSxLQUFLLEdBQUcsU0FBUyxJQUFJO0FBQ3pCLFdBQUcsV0FBVyxPQUFPO0FBQ3JCLGlCQUFTO0FBQUEsVUFDUjtBQUFBLFVBQ0EsbUJBQW9CLFlBQVk7QUFDOUIsa0JBQU0sS0FBSyxVQUFVLFFBQVEsRUFBRTtBQUMvQiw0QkFBZ0IsVUFBVSxrQkFBa0I7QUFBQSxVQUM3QztBQUFBLFVBRUQsVUFBVTtBQUFBLFFBQ1gsQ0FBQztBQUFBLE1BQ0Y7QUFFQSxZQUFNLEtBQUssVUFBVSxRQUFRLEVBQUU7QUFBQSxJQUNoQztBQUFBLEVBQ0Q7QUFBQSxFQUVRLGlCQUFpQixRQUFtRjtBQUMzRyxVQUFNLE1BQU0sZ0JBQWdCLFdBQVcsaUJBQWlCLE1BQU07QUFDOUQsV0FBTztBQUFBLE1BQ04sT0FBTyxTQUFTLGVBQWUsSUFBSSxLQUFLO0FBQUEsTUFDeEMsS0FBSyxTQUFTLGVBQWUsSUFBSSxHQUFHO0FBQUEsSUFDckM7QUFBQSxFQUNEO0FBRUQ7OztBK0N2TUEsSUFBQUMsb0JBQWtDO0FBUzNCLElBQU0sMkJBQU4sTUFBK0I7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQVVyQyxZQUFZLFFBQW9CO0FBQy9CLFNBQUssU0FBUztBQUNkLFNBQUssV0FBVztBQUFBLEVBQ2pCO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFLUSxhQUFhO0FBRXBCLFNBQUssV0FBVyxLQUFLLE9BQU8sWUFBWSxVQUFVO0FBQ2xELFNBQUssU0FBUyxTQUFTLG9CQUFvQjtBQUUzQyxTQUFLLGtCQUFrQixLQUFLLFNBQVMsVUFBVTtBQUMvQyxTQUFLLGdCQUFnQixTQUFTLGdCQUFnQjtBQUFBLEVBQy9DO0FBQUEsRUFFUSx3QkFBd0IsV0FBc0Q7QUFDckYsVUFBTSxXQUFXLElBQUksMEJBQVEsU0FBUyxjQUFjLEtBQUssQ0FBQyxFQUN4RCxTQUFTLFdBQVcsRUFDcEIsUUFBUSxzQkFBc0IsVUFBVSxhQUFhLENBQUMsRUFDdEQsUUFBUSxVQUFVLFdBQVcsRUFDN0IsVUFBVSxRQUFNO0FBQ2hCLFNBQUcsU0FBUyxVQUFVLFNBQVM7QUFDL0IsU0FBRyxTQUFTLFdBQVM7QUFDcEIsWUFBSSxVQUFVLHNCQUFzQixVQUFVLEtBQUssT0FBTztBQUN6RCxnQkFBTSx1QkFBdUIsVUFBVSxzQkFBc0IsT0FBTyxTQUFPLENBQUMsZ0JBQWdCLFdBQVcscUJBQXFCLFNBQVMsR0FBRyxDQUFDO0FBQ3pJLGNBQUkscUJBQXFCLFNBQVMsR0FBRztBQUNwQyxrQkFBTSxTQUFTLHFCQUFxQixJQUFJLHFCQUFxQixFQUFFLEtBQUssSUFBSTtBQUN4RSxrQkFBTSxNQUFNLElBQUksaUJBQWlCO0FBQ2pDLGdCQUFJLFdBQVcsQ0FBQyxDQUFDLEVBQUUsWUFBWSxVQUFVO0FBQ3pDLGdCQUFJLFdBQVcsRUFBQyxPQUFNLGlCQUFnQixDQUFDLEVBQUUsWUFBWSw2REFBNkQ7QUFFbEgscUJBQVMsUUFBUSxHQUFHO0FBRXBCO0FBQUEsVUFDRDtBQUFBLFFBQ0Q7QUFFQSxpQkFBUyxRQUFRLFVBQVUsV0FBVztBQUN0QyxrQkFBVSxZQUFZO0FBQ3RCLHdCQUFnQixVQUFVLGtCQUFrQjtBQUU1QyxhQUFLLE9BQU8sUUFBUTtBQUFBLE1BQ3JCLENBQUM7QUFBQSxJQUNGLENBQUM7QUFDRixXQUFPLFNBQVM7QUFBQSxFQUNqQjtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBS0EsTUFBYSxVQUF5QjtBQUNyQyxlQUFXLGNBQWMsZ0JBQWdCLFdBQVcsVUFBVTtBQUM3RCxZQUFNLEtBQUssS0FBSyx3QkFBd0IsVUFBVTtBQUNsRCxXQUFLLGdCQUFnQixZQUFZLEVBQUU7QUFBQSxJQUNwQztBQUFBLEVBQ0Q7QUFDRDs7O0FoRHJFTyxJQUFNQyxjQUFOLGNBQXlCLG1DQUF3QztBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSXZFLE1BQU0sVUFBeUI7QUFDOUIsVUFBTSxFQUFDLFlBQVcsSUFBSTtBQUN0QixnQkFBWSxNQUFNO0FBRWxCLFFBQUksMEJBQVEsV0FBVyxFQUFFLFFBQVEsV0FBVyxFQUFFLFdBQVc7QUFDekQsVUFBTSxJQUFJLGdCQUFnQixJQUFJLEVBQUUsUUFBUTtBQUV4QyxRQUFJLDBCQUFRLFdBQVcsRUFBRSxRQUFRLG9CQUFvQixFQUFFLFdBQVc7QUFDbEUsVUFBTSxJQUFJLHlCQUF5QixJQUFJLEVBQUUsUUFBUTtBQUFBLEVBQ2xEO0FBQ0Q7OztBRGJBLElBQXFCLDJCQUFyQixjQUFzRCx5QkFBNEM7QUFBQSxFQUNqRyxZQUFZLEtBQVUsVUFBMEI7QUFDL0MsVUFBTSxLQUFLLFFBQVE7QUFDbkIsb0JBQWdCLGtCQUFrQixJQUFJO0FBQUEsRUFDdkM7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUtBLE1BQU0sU0FBUztBQUNkLFVBQU0sZ0JBQWdCLFNBQVMsYUFBYTtBQUU1QyxvQkFBZ0IsVUFBVSxrQkFBa0I7QUFFNUMsU0FBSyxjQUFjLElBQUlDLFlBQVcsS0FBSyxLQUFLLElBQUksQ0FBQztBQUFBLEVBQ2xEO0FBQUEsRUFFQSxNQUFNLFdBQVc7QUFDaEIsVUFBTSxnQkFBZ0IsU0FBUyxXQUFXO0FBQzFDLG9CQUFnQixVQUFVLFFBQVE7QUFBQSxFQUNuQztBQUNEOyIsCiAgIm5hbWVzIjogWyJpbXBvcnRfb2JzaWRpYW4iLCAiaW1wb3J0X29ic2lkaWFuIiwgImltcG9ydF9vYnNpZGlhbiIsICJpbXBvcnRfb2JzaWRpYW4iLCAiaW1wb3J0X29ic2lkaWFuIiwgImltcG9ydF9vYnNpZGlhbiIsICJpbXBvcnRfb2JzaWRpYW4iLCAiaW1wb3J0X29ic2lkaWFuIiwgIl9hIiwgImltcG9ydF9vYnNpZGlhbiIsICJpbXBvcnRfb2JzaWRpYW4iLCAiaW1wb3J0X29ic2lkaWFuIiwgImltcG9ydF9vYnNpZGlhbiIsICJTZXR0aW5nVGFiIiwgIlNldHRpbmdUYWIiXQp9Cg==
