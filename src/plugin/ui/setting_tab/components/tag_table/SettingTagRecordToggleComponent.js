import { __awaiter } from "tslib";
// ---------------------------------------------------------------------------------------------------------------------
// Imports
// ---------------------------------------------------------------------------------------------------------------------
import { ToggleComponent } from "obsidian";
import { ServiceProvider } from "../../../../services/ServiceProvider";
// ---------------------------------------------------------------------------------------------------------------------
// Code
// ---------------------------------------------------------------------------------------------------------------------
export class SettingTagRecordToggleComponent extends ToggleComponent {
    constructor(rowData, property_name) {
        super(rowData.parentEl); // Obsidian's stuff
        if (property_name in rowData.record) {
            this.setValue(rowData.record[property_name]);
        }
        this.onChange((newValue) => __awaiter(this, void 0, void 0, function* () {
            rowData.record[property_name] = newValue;
            yield ServiceProvider.tagRecords.addOrUpdateTag(rowData.record);
            yield rowData.rowUpdateCallback(); // Updates the preview element
        }));
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU2V0dGluZ1RhZ1JlY29yZFRvZ2dsZUNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIlNldHRpbmdUYWdSZWNvcmRUb2dnbGVDb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLHdIQUF3SDtBQUN4SCxVQUFVO0FBQ1Ysd0hBQXdIO0FBQ3hILE9BQU8sRUFBQyxlQUFlLEVBQUMsTUFBTSxVQUFVLENBQUM7QUFHekMsT0FBTyxFQUFDLGVBQWUsRUFBQyxNQUFNLHNDQUFzQyxDQUFDO0FBR3JFLHdIQUF3SDtBQUN4SCxPQUFPO0FBQ1Asd0hBQXdIO0FBQ3hILE1BQU0sT0FBTywrQkFBZ0MsU0FBUSxlQUFlO0lBQ25FLFlBQVksT0FBbUIsRUFBRSxhQUFnQztRQUNoRSxLQUFLLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsbUJBQW1CO1FBRTVDLElBQUksYUFBYSxJQUFJLE9BQU8sQ0FBQyxNQUFNLEVBQUU7WUFDcEMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLGFBQWEsQ0FBWSxDQUFDLENBQUM7U0FDeEQ7UUFFRCxJQUFJLENBQUMsUUFBUSxDQUFDLENBQU8sUUFBUSxFQUFFLEVBQUU7WUFDaEMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxhQUFhLENBQUMsR0FBRyxRQUFRLENBQUM7WUFDekMsTUFBTSxlQUFlLENBQUMsVUFBVSxDQUFDLGNBQWMsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUE7WUFDL0QsTUFBTSxPQUFPLENBQUMsaUJBQWlCLEVBQUUsQ0FBQSxDQUFDLDhCQUE4QjtRQUNqRSxDQUFDLENBQUEsQ0FBQyxDQUFBO0lBQ0gsQ0FBQztDQUNEIiwic291cmNlc0NvbnRlbnQiOlsiLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vIEltcG9ydHNcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbmltcG9ydCB7VG9nZ2xlQ29tcG9uZW50fSBmcm9tIFwib2JzaWRpYW5cIjtcclxuaW1wb3J0IHtCb29sZWFuUHJvcGVydGllc30gZnJvbSBcInNyYy9jb250cmFjdHMvcGx1Z2luL3NlcnZpY2VzL2V4dGVuc2lvbnMvRXh0ZW5zaW9uUHJvcGVydGllc1wiO1xyXG5pbXBvcnQge0lTZXR0aW5nVGFnUmVjb3JkQ29tcG9uZW50fSBmcm9tIFwic3JjL2NvbnRyYWN0cy9wbHVnaW4vdWkvY29tcG9uZW50cy90YWdfdGFibGUvSVNldHRpbmdUYWdSZWNvcmRDb21wb25lbnRcIjtcclxuaW1wb3J0IHtTZXJ2aWNlUHJvdmlkZXJ9IGZyb20gXCIuLi8uLi8uLi8uLi9zZXJ2aWNlcy9TZXJ2aWNlUHJvdmlkZXJcIjtcclxuaW1wb3J0IHtSb3dEYXRhVHlwZX0gZnJvbSBcIi4uLy4uLy4uLy4uLy4uL2NvbnRyYWN0cy9wbHVnaW4vdWkvY29tcG9uZW50cy9Sb3dEYXRhVHlwZVwiO1xyXG5cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vIENvZGVcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbmV4cG9ydCBjbGFzcyBTZXR0aW5nVGFnUmVjb3JkVG9nZ2xlQ29tcG9uZW50IGV4dGVuZHMgVG9nZ2xlQ29tcG9uZW50IGltcGxlbWVudHMgSVNldHRpbmdUYWdSZWNvcmRDb21wb25lbnQge1xyXG5cdGNvbnN0cnVjdG9yKHJvd0RhdGE6Um93RGF0YVR5cGUsIHByb3BlcnR5X25hbWU6IEJvb2xlYW5Qcm9wZXJ0aWVzICkge1xyXG5cdFx0c3VwZXIocm93RGF0YS5wYXJlbnRFbCk7IC8vIE9ic2lkaWFuJ3Mgc3R1ZmZcclxuXHJcblx0XHRpZiAocHJvcGVydHlfbmFtZSBpbiByb3dEYXRhLnJlY29yZCkge1xyXG5cdFx0XHR0aGlzLnNldFZhbHVlKHJvd0RhdGEucmVjb3JkW3Byb3BlcnR5X25hbWVdIGFzIGJvb2xlYW4pO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMub25DaGFuZ2UoYXN5bmMgKG5ld1ZhbHVlKSA9PiB7XHJcblx0XHRcdHJvd0RhdGEucmVjb3JkW3Byb3BlcnR5X25hbWVdID0gbmV3VmFsdWU7XHJcblx0XHRcdGF3YWl0IFNlcnZpY2VQcm92aWRlci50YWdSZWNvcmRzLmFkZE9yVXBkYXRlVGFnKHJvd0RhdGEucmVjb3JkKVxyXG5cdFx0XHRhd2FpdCByb3dEYXRhLnJvd1VwZGF0ZUNhbGxiYWNrKCkgLy8gVXBkYXRlcyB0aGUgcHJldmlldyBlbGVtZW50XHJcblx0XHR9KVxyXG5cdH1cclxufVxyXG4iXX0=